<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { /*

Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/
(function(){function e(g){this.t={};this.tick=function(h,k,f){this.t[h]=[void 0!=f?f:(new Date).getTime(),k];if(void 0==f)try{window.console.timeStamp("CSI/"+h)}catch(m){}};this.getStartTickTime=function(){return this.t.start[0]};this.tick("start",null,g)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var l=0<d?new e(d):new e;window.jstiming={Timer:e,load:l};if(a){var b=a.navigationStart;0<b&&d>=b&&(window.jstiming.srt=d-b)}if(a){var c=window.jstiming.load;0<b&&d>=
b&&(c.tick("_wtsrt",void 0,b),c.tick("wtsrt_","_wtsrt",d),c.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),c&&0<b&&(c.tick("_tbnd",void 0,window.chrome.csi().startE),c.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,c&&0<b&&(c.tick("_tbnd",void 0,window.external.startE),c.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(g){}})(); })()
</script>
<link rel="shortcut icon" href="../_/rsrc/1518480252104/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/c9c36f/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { function d(a){return document.getElementById(a)}window.byId=d;function g(a){return a.replace(/^\s+|\s+$/g,"")}window.trim=g;var h=[],k=0;window.JOT_addListener=function(a,b,c){var f=new String(k++);a={eventName:a,handler:b,compId:c,key:f};h.push(a);return f};window.JOT_removeListenerByKey=function(a){for(var b=0;b<h.length;b++)if(h[b].key==a){h.splice(b,1);break}};window.JOT_removeAllListenersForName=function(a){for(var b=0;b<h.length;b++)h[b].eventName==a&&h.splice(b,1)};
window.JOT_postEvent=function(a,b,c){var f={eventName:a,eventSrc:b||{},payload:c||{}};if(window.JOT_fullyLoaded)for(b=h.length,c=0;c<b&&c<h.length;c++){var e=h[c];e&&e.eventName==a&&(f.listenerCompId=e.compId||"",(e="function"==typeof e.handler?e.handler:window[e.handler])&&e(f))}else window.JOT_delayedEvents.push({eventName:a,eventSrc:b,payload:c})};window.JOT_delayedEvents=[];window.JOT_fullyLoaded=!1;
window.JOT_formatRelativeToNow=function(a,b){a=((new Date).getTime()-a)/6E4;if(1440<=a||0>a)return null;var c=0;60<=a&&(a/=60,c=2);2<=a&&c++;return b?window.JOT_siteRelTimeStrs[c].replace("__duration__",Math.floor(a)):window.JOT_userRelTimeStrs[c].replace("__duration__",Math.floor(a))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/a/orabuntu-lxc.com/brandydandyoracle/oracle-rac-in-lxc-linux-containers","deleted":false,"title":"Oracle RAC in LXC Linux Containers","dir":"ltr"},{"path":"/a/orabuntu-lxc.com/brandydandyoracle/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers","deleted":false,"title":"Ubuntu 14.04.1 Oracle GI 12c ASM Flex Cluster on LXC Containers","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/c9c36f/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"gvizGstaticVersion":"current","enableAnalytics":true,"pageSharingId":"jotspot_page","codeembeds":{"outerIframeSrc":"https://www.gstatic.com/jotspot/embeds/code/0f08d42392f2000e7e3f3daf5b427a43/outer_iframe.html","innerIframeSrc":"https://417728022-jotspot-embeds.googleusercontent.com/code/8d87fa64604b2a11fae2ed06104c58d3/inner_iframe.html"},"enableUniversalAnalytics":false,"sharingPolicy":"OPENED","siteTitle":"brandydandyoracle","experiments":{"enableSubpagesGadgetInTakeout":true,"overrideDisableDomainEditing":false,"DisableSiteEditingFeature__disable_site_editing":true,"disableDomainEditing":false},"jot2atari":{"eligibility":"INELIGIBLE"},"onepickUrl":"https://docs.google.com/picker","adsensePublisherId":null,"features":{"moreMobileStyleImprovements":null,"subscriptionDataMigrationInProgress":null,"plusBadge":false},"configProperties":{"disableSiteEditing":null},"isPublic":true,"newSitesBaseUrl":"https://sites.google.com","isConsumer":false,"serverFlags":{"jot2AtariLearnMoreUrl":"https://support.google.com/sites/answer/7035197"},"domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://accounts.google.com/AccountChooser?continue\u003dhttps://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers\u0026service\u003djotspot","analyticsAccountId":"UA-54224306-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/c9c36f/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/c9c36f/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/trogedit.css","/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1628148289000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/codeeditor.css","/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1628148289000/system/app/css/camelot/editor-jfk.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"orabuntu-lxc.com","baseUri":"/a/orabuntu-lxc.com/brandydandyoracle","name":"brandydandyoracle","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/oracle-rac-in-lxc-linux-containers","parentWuid":"wuid:gx:49aa6ea0c073802a","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"Ubuntu 14.04.1 Oracle GI 12c ASM Flex Cluster on LXC Containers","locale":"en","wuid":"wuid:gx:55d12384bf11a4ac","revision":1,"path":"/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false,"isGoogleAdmin":false},"gadgets":{"baseUri":"/a/orabuntu-lxc.com/brandydandyoracle/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Ubuntu 14.04.1 Oracle GI 12c ASM Flex Cluster on LXC Containers - brandydandyoracle" />
<meta itemprop="name" content="Ubuntu 14.04.1 Oracle GI 12c ASM Flex Cluster on LXC Containers - brandydandyoracle" />
<meta property="og:title" content="Ubuntu 14.04.1 Oracle GI 12c ASM Flex Cluster on LXC Containers - brandydandyoracle" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/c9c36f/system/app/themes/solitudeolive/standard-css-solitudeolive-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1628148289000/system/app/css/overlay.css%3Fcb=solitudeolive93320goog-ws-leftcontentthemedefaultstandard.css" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1628148289000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/a/orabuntu%2dlxc.com/brandydandyoracle/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Ubuntu 14.04.1 Oracle GI 12c ASM Flex Cluster on LXC Containers - brandydandyoracle</title>
<meta itemprop="image" content="https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1518480259784/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-1.png" />
<meta property="og:image" content="https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1518480259784/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-1.png" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner" style="height: 93px"><div class="sites-header-cell-buffer-wrapper"><h2><a href="../index.html" dir="ltr" id="sites-chrome-userheader-title">brandydandyoracle</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
<div class="sites-header-nav"><ul class="sites-header-nav-container-boxes"><li class="unselected"><a class="sites-navigation-link unselected" href="../system/app/pages/sitemap/hierarchy.html">Sitemap</a></li></ul><div style="clear: both;"></div></div>
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:320px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_2bd" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList" class="has-expander"><li class="topLevel nav-first parent " wuid="gx:1771d7481512b604"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../home.html" jotId="wuid:gx:1771d7481512b604" class="sites-navigation-link topLevel">Home</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../home/brother-mfc-456cn-ubuntu-driver.html" jotId="wuid:gx:687d1f16adfece4e" class="sites-navigation-link">Brother MFC-456CN Ubuntu Driver</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../home/resume-short.html" jotId="wuid:gx:7ed50173758f1f8d" class="sites-navigation-link">Resume-Short</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../aws.html" jotId="wuid:gx:513e26955ed0bab9" class="sites-navigation-link topLevel">AWS</a></div></li><li class="topLevel parent " wuid="gx:2d7d78782d5199fb"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../blackberry-workspaces.html" jotId="wuid:gx:2d7d78782d5199fb" class="sites-navigation-link topLevel">Blackberry Workspaces</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../blackberry-workspaces/blackberry-workspaces-in-lxc-linux-containers.html" jotId="wuid:gx:3cc6d6487c8feafe" class="sites-navigation-link">Blackberry Workspaces in LXC Linux Containers</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../blackberry-workspaces/blackberry-workspaces-on-aws-ec2.html" jotId="wuid:gx:11790a2b5038525c" class="sites-navigation-link">Blackberry Workspaces on AWS EC2</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html" jotId="wuid:gx:1529117a57ecdba8" class="sites-navigation-link topLevel">Blackberry Workspaces in LXC Linux Containers on AWS EC2</a></div></li><li class="topLevel parent " wuid="gx:515464018f6bd717"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../centos7.html" jotId="wuid:gx:515464018f6bd717" class="sites-navigation-link topLevel">CentOS7</a></div><ul role="navigation" class="has-expander"><li class="parent closed " wuid="gx:46a7d96b1e768956"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../centos7/centos7-desktop.html" jotId="wuid:gx:46a7d96b1e768956" class="sites-navigation-link">CentOS7 Desktop</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-desktop/cisco-anyconnect-vpn-centos-7.html" jotId="wuid:gx:50d39b77de17a94c" class="sites-navigation-link">Cisco AnyConnect VPN CentOS 7 GNOME Desktop</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-desktop/cisco-anyconnect-vpn-centos-7-server-gui-with-kde.html" jotId="wuid:gx:77bba3a647193c" class="sites-navigation-link">Cisco AnyConnect VPN CentOS 7 Server GUI with KDE</a></div></li></ul></li><li class="parent closed " wuid="gx:73046cf3c3d2eaf2"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../centos7/centos7-general.html" jotId="wuid:gx:73046cf3c3d2eaf2" class="sites-navigation-link">CentOS7 General</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/dns-named-install-centos7-1.html" jotId="wuid:gx:3ac64e4220d3882e" class="sites-navigation-link">DNS DHCP Install CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/lxc-create-centos-7-2-container.html" jotId="wuid:gx:317f96357032310b" class="sites-navigation-link">LXC Create CentOS 7.2 Container</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/lxc-source-build-centos7.html" jotId="wuid:gx:5affb1858ab31aa9" class="sites-navigation-link">LXC Source Build CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/openvswitch-source-build-centos7.html" jotId="wuid:gx:156568a493298e2c" class="sites-navigation-link">OVS  (OpenvSwitch) Source Build CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/scst-centos-7-2-1511-core.html" jotId="wuid:gx:212b0b144e1fcb8c" class="sites-navigation-link">SCST Source Build CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/xfs-lvm-grow-centos7.html" jotId="wuid:gx:5e00471ebcc94e3e" class="sites-navigation-link">XFS LVM Grow CentOS7</a></div></li></ul></li></ul></li><li class="topLevel parent " wuid="gx:4184304c507d6cf0"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../kvm-and-openvswitch.html" jotId="wuid:gx:4184304c507d6cf0" class="sites-navigation-link topLevel">KVM and OpenvSwitch</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/add-pv-kvm-guest-vg.html" jotId="wuid:gx:f4ec37bc44defc6" class="sites-navigation-link">KVM Add PV Guest VG</a></div></li><li class="parent closed " wuid="gx:140bef1e880d2c0c"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../kvm-and-openvswitch/kvm-dg-migration.html" jotId="wuid:gx:140bef1e880d2c0c" class="sites-navigation-link">KVM DG Migration</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../kvm-and-openvswitch/kvm-dg-migration/rman-script.html" jotId="wuid:gx:67093dbbc93cdadc" class="sites-navigation-link">RMAN Script</a></div></li></ul></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-dns-oel-6-5.html" jotId="wuid:gx:5f50087695eef84b" class="sites-navigation-link">KVM DNS OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-dns-ul-14-04.html" jotId="wuid:gx:42ab043f5ac96f0f" class="sites-navigation-link">KVM DNS UL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-lxc-dns-ul-14-04.html" jotId="wuid:gx:2cd19b29fe55d875" class="sites-navigation-link">KVM LXC DNS UL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-mail-oel-6-5.html" jotId="wuid:gx:76072d3822550956" class="sites-navigation-link">KVM MAIL OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-oracle-clone.html" jotId="wuid:gx:152a84896b4db53b" class="sites-navigation-link">KVM Oracle Clone</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/ovs-kvm-oel-6-5.html" jotId="wuid:gx:371cf26362b6010e" class="sites-navigation-link">KVM OVS OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-ovs-oel-6-5.html" jotId="wuid:gx:75ead37952686999" class="sites-navigation-link">KVM OVS OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-openvswitch-1.html" jotId="wuid:gx:5c2152473fdc6ccc" class="sites-navigation-link">KVM OVS UEL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/resize-swap-lv.html" jotId="wuid:gx:399989aadef41fc3" class="sites-navigation-link">KVM Resize Swap LV</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/remove-kvm-disk.html" jotId="wuid:gx:707b288cc8f2b5a6" class="sites-navigation-link">Remove KVM Disk</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/remove-kvm-vbdp-disk.html" jotId="wuid:gx:33b6b83da936ce09" class="sites-navigation-link">Remove KVM VBDP Disk</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/resize-kvm-disk.html" jotId="wuid:gx:623a431aae174a92" class="sites-navigation-link">Resize KVM Disk</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/solaris-10-kvm-ovs-12c-gi-rac.html" jotId="wuid:gx:422583d75ebc70db" class="sites-navigation-link">Solaris 10 KVM OVS 12c GI RAC</a></div></li></ul></li><li class="topLevel parent " wuid="gx:4327ced0f58d8a86"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lenovo-thinkpad-p70.html" jotId="wuid:gx:4327ced0f58d8a86" class="sites-navigation-link topLevel">Lenovo ThinkPad P70</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/a-brief-guide-to-running-multiple-os-on-lenovo-thinkpad-p70-mobile-workstation.html" jotId="wuid:gx:48694287bced9d0a" class="sites-navigation-link">A Brief Guide to Running Multiple OS  on Lenovo ThinkPad P70 Mobile Workstation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/booting-to-graphical-ui-oracle-uek4-kernel-on-lenovo-p70-thinkpad.html" jotId="wuid:gx:30d8c05433ca020b" class="sites-navigation-link">Booting to Graphical UI Desktop Oracle UEK4 Kernel on Lenovo P70 Thinkpad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configure-wired-network-uek3-lenovo-p70-thinkpad.html" jotId="wuid:gx:77458fd960e08fe6" class="sites-navigation-link">Configure Wired Network UEK3 Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configure-wireless-network-uek3-lenovo-p70-thinkpad.html" jotId="wuid:gx:784425a052a48fc4" class="sites-navigation-link">Configure Wireless Network UEK3 Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configuring-external-monitors-on-oracle-linux-uek4-kernel-on-lenovo-p70-thinkpad.html" jotId="wuid:gx:6d22a62e4b021a82" class="sites-navigation-link">Configuring External Monitors on Oracle Linux UEK4 Kernel on Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configuring-wifi-on-oracle-linux-uek4-kernel.html" jotId="wuid:gx:2491259c2c6fb6e7" class="sites-navigation-link">Configuring WIFI on Oracle Linux UEK4 Kernel on Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/advantages-of-running-multiple-linux-distros-on-lenovo-p70-thinkpad-mobile-workstation.html" jotId="wuid:gx:3e26fa7db9c8ec5d" class="sites-navigation-link">Fixing BooBoos with Multiple Linux Distros on Lenovo P70 ThinkPad Mobile Workstation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/flash-installation-oracle-linux-uek4-lenovo-p70-mobile-workstation.html" jotId="wuid:gx:206da7bba5eb893d" class="sites-navigation-link">Flash Installation Oracle Linux UEK4 Lenovo P70 Mobile Workstation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/lenovo-thinkpad-p70-bios-flash-upgrade.html" jotId="wuid:gx:13c9853fd6822c1e" class="sites-navigation-link">Lenovo ThinkPad P70 BIOS Flash Upgrade</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/samsung-256-gb-m-2-950-pro-nvme.html" jotId="wuid:gx:4cf81fe1594a405c" class="sites-navigation-link">Samsung 256 Gb M.2 950 Pro NVME</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/samsung-evo-950-pro-256gb-m-2-ssd-vs-pm951-512gb-m-2-ssd.html" jotId="wuid:gx:5ea2a361cb8c66c8" class="sites-navigation-link">Samsung [(evo950 nvme) vs (pm951 nvme)] vs. Toshiba [OCZ RD400 1Tb nvme] M.2</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/ubuntu-17-10-artful-aardvark-lenovo-p70-mobile-workstation.html" jotId="wuid:gx:6fcad2f1dc0cfefc" class="sites-navigation-link">Ubuntu 17.10 Artful Aardvark Lenovo P70 Mobile Workstation</a></div></li></ul></li><li class="topLevel parent " wuid="gx:2a65617e5bca4df7"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lenovo-p72.html" jotId="wuid:gx:2a65617e5bca4df7" class="sites-navigation-link topLevel">Lenovo ThinkPad P72</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-p72/lenovo-part-40an0230us-thinkpad-thunderbolt-3-workstation-dock.html" jotId="wuid:gx:3b289d1da9ec8d8" class="sites-navigation-link">Lenovo Part #40AN0230US ThinkPad Thunderbolt 3 Workstation Dock</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-p72/lenovo-part-gx90m61235-thinkpad-usb-c-travel-hub.html" jotId="wuid:gx:62e9dde894d17ff7" class="sites-navigation-link">Lenovo Part #GX90M61235 ThinkPad USB-C Travel Hub</a></div></li></ul></li><li class="topLevel parent " wuid="gx:3c0bb513eca76dd7"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lxc-linux-containers.html" jotId="wuid:gx:3c0bb513eca76dd7" class="sites-navigation-link topLevel">LXC Linux Containers</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/install-oracle-supported-lxc-version-on-oracle-linux-uek4.html" jotId="wuid:gx:2803b780a785d633" class="sites-navigation-link">Install Oracle-Supported LXC Version on Oracle Linux 7 UEK4</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-3-0-1-oracle-8-source-build.html" jotId="wuid:gx:6d97bc40356b5b00" class="sites-navigation-link">LXC 3.0.1 Oracle 8 Source Build</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-environment-oel6.html" jotId="wuid:gx:498ae875c3ff8712" class="sites-navigation-link">LXC Environment OEL6</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-in-windows-10-bash-shell.html" jotId="wuid:gx:6b5a1e6d23bf1535" class="sites-navigation-link">LXC in Windows 10 Bash Shell</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-iproute2.html" jotId="wuid:gx:4770b5dee1c84e5d" class="sites-navigation-link">LXC iproute2</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-oracle-rdbms.html" jotId="wuid:gx:66170fca9aaf9bdb" class="sites-navigation-link">LXC Oracle RDBMS</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-ovs-bind-dns.html" jotId="wuid:gx:5ba336cc440e699a" class="sites-navigation-link">LXC OVS BIND DNS</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-vlc-oel6-5.html" jotId="wuid:gx:4e0871c894b402f5" class="sites-navigation-link">LXC VLC OEL6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/nvme-in-lxc.html" jotId="wuid:gx:344f13d75997f6ef" class="sites-navigation-link">NVME in LXC</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/source-build-lxc-ubuntu-16-04.html" jotId="wuid:gx:3668e93ca6fd3ec7" class="sites-navigation-link">Source Build LXC Ubuntu 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/veth-pair-cleanup-lxc.html" jotId="wuid:gx:eb4a3c8e75f750" class="sites-navigation-link">Veth Pair Cleanup LXC</a></div></li></ul></li><li class="topLevel parent " wuid="gx:904bf1e1a964cfa"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-in-lxd-1.html" jotId="wuid:gx:904bf1e1a964cfa" class="sites-navigation-link topLevel">LXD the Lighter-visor</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-in-lxd-1/building-oracle-enteprise-in-lxd.html" jotId="wuid:gx:3385e4f2498c1f97" class="sites-navigation-link">Building Oracle Enteprise in LXD</a></div></li></ul></li><li class="topLevel parent " wuid="gx:141aad64735ed8a7"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../openvswitch-ovs.html" jotId="wuid:gx:141aad64735ed8a7" class="sites-navigation-link topLevel">OpenvSwitch (OVS)</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/build-networkmanager-1-11-1-on-ubuntu-17-10.html" jotId="wuid:gx:4cd3336e7866b65e" class="sites-navigation-link">Build NetworkManager 1.11.1 on Ubuntu 17.10</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/configuring-virtualbox-vms-for-openvswitch-networking.html" jotId="wuid:gx:102f61a047f4fe27" class="sites-navigation-link">Configuring VirtualBox VMs for OpenvSwitch Networking</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/install-openvswitch-oel-uek3.html" jotId="wuid:gx:2603341f63b9d97a" class="sites-navigation-link">Install OpenvSwitch OEL UEK3</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/networking-problem-1.html" jotId="wuid:gx:65a0bbff837cdb64" class="sites-navigation-link">Networking Problem:  "The Lawnmower Man"</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/openvswitch-patch-ports.html" jotId="wuid:gx:9eac33f7488f9a0" class="sites-navigation-link">OpenvSwitch Patch Ports</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/build-openvswitch-from-source-on-oracle-linux-uek.html" jotId="wuid:gx:5d8addb931f09666" class="sites-navigation-link">OVS Source Build Oracle Linux 6 UEK3 Kernel</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/openvswitch-source-build-oracle-linux-7-uek4.html" jotId="wuid:gx:9f9da13c419a4e6" class="sites-navigation-link">OVS Source Build Oracle Linux 7 UEK4 Kernel</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/ovs-source-build-ubuntu-linux-16-04.html" jotId="wuid:gx:cc6b77eb34b437c" class="sites-navigation-link">OVS Source Build Ubuntu Linux 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/ovs-switch-as-a-service.html" jotId="wuid:gx:657c023b7927b1fa" class="sites-navigation-link">OVS Switch-As-A-Service Oracle Linux 7 UEK4</a></div></li></ul></li><li class="topLevel parent " wuid="gx:2a47e1cfadbf417d"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../orabuntu-lxc.html" jotId="wuid:gx:2a47e1cfadbf417d" class="sites-navigation-link topLevel">Orabuntu-LXC</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../orabuntu-lxc/using-systemd-resolved-in-a-networkmanager-environment.html" jotId="wuid:gx:87f2aaaf2ecb31b" class="sites-navigation-link">Configuring systemd-resolved in a NetworkManager Environment</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../orabuntu-lxc/lxc-containerized-dns-dhcp-configurations.html" jotId="wuid:gx:3d12f3317c481ea" class="sites-navigation-link">LXC Containerized DNS-DHCP Configurations (Ubuntu dnsmasq bind9)</a></div></li></ul></li><li class="topLevel parent " wuid="gx:56211f056f6b1e69"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-asmlib.html" jotId="wuid:gx:56211f056f6b1e69" class="sites-navigation-link topLevel">Oracle ASM and ASMLib</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-asmlib/build-asmlib-from-source.html" jotId="wuid:gx:37a420222f203d29" class="sites-navigation-link">ASMLib Source Build RHEL5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-asmlib/build-asmlib-from-source-on-rhel6.html" jotId="wuid:gx:258e6072b6403dc3" class="sites-navigation-link">ASMLib Source Build RHEL6</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-asmlib/rename-asm-sysdg.html" jotId="wuid:gx:44112e6c154428fe" class="sites-navigation-link">Rename ASM SYSDG</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../oracle-in-lxd.html" jotId="wuid:gx:1e2c0c88ac7cfde3" class="sites-navigation-link topLevel">Oracle in LXD</a></div></li><li class="topLevel parent " wuid="gx:7024699ef06b6856"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-linux-uek-kernel.html" jotId="wuid:gx:7024699ef06b6856" class="sites-navigation-link topLevel">Oracle Linux UEK Kernel</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-linux-uek-kernel/configuring-ipmi-console-redirection.html" jotId="wuid:gx:323acc64d4abf9a4" class="sites-navigation-link">Configuring IPMI Console Redirection</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-linux-uek-kernel/getting-kernel-headers-for-oracle-linux-uek-kernels.html" jotId="wuid:gx:264700ca67aa6f51" class="sites-navigation-link">Getting Kernel Headers Oracle Linux 7 UEK</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-linux-uek-kernel/lxc-source-build-oracle-linux-uek4.html" jotId="wuid:gx:65f6caada28e4879" class="sites-navigation-link">LXC Source Build Oracle Linux 7 UEK4</a></div></li></ul></li><li class="topLevel parent " wuid="gx:392e9c328d805127"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-rac.html" jotId="wuid:gx:392e9c328d805127" class="sites-navigation-link topLevel">Oracle RAC</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac/re-ip-rac.html" jotId="wuid:gx:60fa56c8049956b9" class="sites-navigation-link">Re-IP RAC</a></div></li></ul></li><li class="topLevel parent " wuid="gx:49aa6ea0c073802a"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-rac-in-lxc-linux-containers.html" jotId="wuid:gx:49aa6ea0c073802a" class="sites-navigation-link topLevel">Oracle RAC in LXC Linux Containers</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="12c-asm-flex-cluster-on-violin-memory-array.html" jotId="wuid:gx:2d93d5e8d118918d" class="sites-navigation-link">12c ASM Flex Cluster on Violin Memory Array</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-12c-6-node-asm-gns-flex-rac-on-lxc-linux-containers-ubuntu-15-04.html" jotId="wuid:gx:31b7a6e9df077adf" class="sites-navigation-link">Oracle 12c 6-node ASM GNS Flex RAC on LXC Linux Containers Ubuntu 15.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-12c-rac-asm-flex-cluster-on-ubuntu-14-10.html" jotId="wuid:gx:6d52027c26f6bd96" class="sites-navigation-link">Oracle 12c RAC ASM Flex Cluster on LXC Linux Containers Ubuntu 14.10</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-12c-rac-asm-flex-cluster-on-lxc-linux-containers-ubuntu-14-10.html" jotId="wuid:gx:7cf2aebcf0bd8b4a" class="sites-navigation-link">Oracle 12c RAC ASM Flex Cluster on LXC Linux Containers Ubuntu 14.10</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-12c-rac-asm-flex-cluster-on-lxc-linux-containers-ubuntu-15-04.html" jotId="wuid:gx:e7aeed695cf1a4a" class="sites-navigation-link">Oracle 12c RAC ASM Flex Cluster on LXC Linux Containers Ubuntu 15.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-12c-rac-in-gce-on-ubuntu-14-04-1.html" jotId="wuid:gx:ed0be0d284c02f0" class="sites-navigation-link">Oracle 12c RAC in GCE on Ubuntu 14.04.1</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-lxc-vlc.html" jotId="wuid:gx:3ecee06d4a4b2ffe" class="sites-navigation-link">Oracle EE ASM 12c LXC Ubuntu 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="docker-11gr2-ee-ul.html" jotId="wuid:gx:2863b8f1b8a0ae5d" class="sites-navigation-link">Oracle EE DB 11gR2 Docker Ubuntu 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-rac-6-node-12c-gns-asm-flex-cluster-ubuntu-15-04-automated.html" jotId="wuid:gx:1360b78ff726d213" class="sites-navigation-link">Oracle RAC 6-node 12c GNS ASM Flex Cluster Ubuntu 15.04 Automated</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-rac-6-node-12c-gns-asm-flex-cluster-ubuntu-15-04-install.html" jotId="wuid:gx:d6f61d65bebb324" class="sites-navigation-link">Oracle RAC 6-node 12c GNS ASM Flex Cluster Ubuntu 15.04 Install</a></div></li><li class=""><div class="current-bg" jotId="wuid:gx:55d12384bf11a4ac" dir="ltr" style="padding-left: 38px;">Ubuntu 14.04.1 Oracle GI 12c ASM Flex Cluster on LXC Containers</div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lxc-ovs-rac-gns.html" jotId="wuid:gx:3a38a5c143561a9b" class="sites-navigation-link">Ubuntu LXC OEL OVS ASM GNS RAC (12c)</a></div></li></ul></li><li class="topLevel parent " wuid="gx:b42a27877981be1"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-rman.html" jotId="wuid:gx:b42a27877981be1" class="sites-navigation-link topLevel">Oracle RMAN</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rman/rman-active-duplicate-script.html" jotId="wuid:gx:51524327d66ae40f" class="sites-navigation-link">RMAN Active Duplicate Script</a></div></li></ul></li><li class="topLevel parent " wuid="gx:89ec64364eab694"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../engineering-docs.html" jotId="wuid:gx:89ec64364eab694" class="sites-navigation-link topLevel">Projects</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../engineering-docs/11gr2---12cr2-dataguard-upgrade-in-ol-lxc-on-ubuntu-17-04.html" jotId="wuid:gx:1da20af09381ca55" class="sites-navigation-link">11gR2 -&gt; 12cR2 Dataguard Upgrade in OL LXC on Ubuntu 17.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../engineering-docs/vmos6-oracle-snapshots.html" jotId="wuid:gx:1ea7e4c3c5ca52d" class="sites-navigation-link">VMOS6 Oracle Snapshots</a></div></li></ul></li><li class="topLevel parent " wuid="gx:204d0c728c285380"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../robin-systems.html" jotId="wuid:gx:204d0c728c285380" class="sites-navigation-link topLevel">Robin Systems</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/configuring-hugepages-for-oracle.html" jotId="wuid:gx:52999571538d8ca7" class="sites-navigation-link">Configuring HugePages for Oracle on CentOS 7 Robin Hosts</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-12c-rac-asm-flex-cluster.html" jotId="wuid:gx:4460573d54662758" class="sites-navigation-link">Robin 12c RAC ASM Flex Cluster</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-server-install-centos-7-vm.html" jotId="wuid:gx:573c9ade4fca5871" class="sites-navigation-link">Robin Server Install CentOS 7 VM</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-slob2-pdb-protocols.html" jotId="wuid:gx:4f404578ed53bc1" class="sites-navigation-link">Robin SLOB2 PDB Protocols</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-slob2-testing-notes.html" jotId="wuid:gx:653c530a0894e054" class="sites-navigation-link">Robin SLOB2 Testing Notes</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-virtualbox-ovs.html" jotId="wuid:gx:3ede1bee391dc4db" class="sites-navigation-link">Robin VirtualBox OVS</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/the-surfing-life.html" jotId="wuid:gx:1f2b8b97c48d346a" class="sites-navigation-link">The Surfing Life</a></div></li></ul></li><li class="topLevel parent " wuid="gx:42a5103bbab0903f"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../scst.html" jotId="wuid:gx:42a5103bbab0903f" class="sites-navigation-link topLevel">SCST</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/reset-lun-read-only-attributes.html" jotId="wuid:gx:19d5a823bab350d4" class="sites-navigation-link">Reset LUN Read-Only Attributes</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-create-deb-package-and-install-fpm.html" jotId="wuid:gx:2f9a5abb765dc8ab" class="sites-navigation-link">SCST Create Deb Package and Install</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-debian-dkms-package-build-from-source-ubuntu-17-04.html" jotId="wuid:gx:263b273ada4b1198" class="sites-navigation-link">SCST Debian (DKMS) Package Build from Source (Ubuntu  15.04-17.04+)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-debian-dkms-package-build-from-source-ubuntu-14-04.html" jotId="wuid:gx:37519387aa0d7b34" class="sites-navigation-link">SCST Debian (DKMS) Package Build from Source (Ubuntu 14.04)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-debian-package-build-from-source-ubuntu-15-04-17-04.html" jotId="wuid:gx:376a668b36e2458e" class="sites-navigation-link">SCST Debian Package Build from Source (Ubuntu 15.04-17.04+)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-debian-package-build-from-source-ubuntu-17-04.html" jotId="wuid:gx:23e3728da5d7b341" class="sites-navigation-link">SCST Debian Package Build from Source (Ubuntu 17.04)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/kvm-scst-oel-6-5.html" jotId="wuid:gx:35aca0b4a22810be" class="sites-navigation-link">SCST KVM OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/kvm-scst-uek-3-8.html" jotId="wuid:gx:727a09d4af2e0cb6" class="sites-navigation-link">SCST KVM UEK 3.8</a></div></li><li class="parent closed " wuid="gx:22f557a9fc2e1e25"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../scst/scst-linux-san.html" jotId="wuid:gx:22f557a9fc2e1e25" class="sites-navigation-link">SCST Linux SAN</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/add-asm-dg.html" jotId="wuid:gx:2bc6ef8def1e36c9" class="sites-navigation-link">Add ASM DG</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/add-asm-dg-4k.html" jotId="wuid:gx:242dab2dbfad9ac5" class="sites-navigation-link">Add ASM DG (4K)</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/add-asm-lun.html" jotId="wuid:gx:2fedfac6897719" class="sites-navigation-link">Add ASM LUN</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/add-lun.html" jotId="wuid:gx:4b7b14970b8123cc" class="sites-navigation-link">Add LUN</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/resize-asm-lun.html" jotId="wuid:gx:546bc643a9b955fd" class="sites-navigation-link">Resize ASM LUN</a></div></li></ul></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/lxc-scst-ul-14-04.html" jotId="wuid:gx:56ede6a9ffa466a3" class="sites-navigation-link">SCST LXC UL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-ol-uek-3.html" jotId="wuid:gx:775819e6573c1127" class="sites-navigation-link">SCST OL UEK 3</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-package-build-and-install-ubuntu-17-04---14-04.html" jotId="wuid:gx:94e286580e7f53a" class="sites-navigation-link">SCST Package Build Install (Ubuntu 14.x-17.x)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/build-scst-from-source-on-oracle-linux-uek.html" jotId="wuid:gx:11bdab641c7da34" class="sites-navigation-link">SCST Source Build Oracle UEK</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-ubuntu-15-04.html" jotId="wuid:gx:7ac9dfabcffec63d" class="sites-navigation-link">SCST Ubuntu 15.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-ubuntu-16-04.html" jotId="wuid:gx:3dd6f13e96e8fcdf" class="sites-navigation-link">SCST Ubuntu 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/update-gpg-key-email-address-for-signing-debian-packages.html" jotId="wuid:gx:69975edf103e1292" class="sites-navigation-link">Update GPG1 Key Email Address, Add UID, Secret Key</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../the-surfing-life.html" jotId="wuid:gx:6260f278e385cf3d" class="sites-navigation-link topLevel">The Surfing Life</a></div></li><li class="topLevel parent " wuid="gx:3feac623e97563f8"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../tools.html" jotId="wuid:gx:3feac623e97563f8" class="sites-navigation-link topLevel">Tools</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/awr-analyzer-v3-02.html" jotId="wuid:gx:77df010a1161688f" class="sites-navigation-link">AWR Analyzer v3.02</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/cisco-anyconnect-vpn-centos-7.html" jotId="wuid:gx:1d46650a5d12d8f8" class="sites-navigation-link">Cisco AnyConnect VPN CentOS 7</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/dtrace-linux.html" jotId="wuid:gx:8cdf7bdd75524d8" class="sites-navigation-link">DTrace Linux</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/iotop.html" jotId="wuid:gx:638d81a1909fcba9" class="sites-navigation-link">iotop</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/iscsiadm.html" jotId="wuid:gx:5d490b3b5ae2b18b" class="sites-navigation-link">iscsiadm</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/lynx-html-cli.html" jotId="wuid:gx:3c44570e4d9e5dbe" class="sites-navigation-link">lynx HTML CLI</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/nsupdate.html" jotId="wuid:gx:3dd2f364ba8d97c3" class="sites-navigation-link">nsupdate</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/orion.html" jotId="wuid:gx:5e1bc1ac2b426298" class="sites-navigation-link">Orion</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/perf_stat.html" jotId="wuid:gx:17c3dad58ddee2ec" class="sites-navigation-link">perf_stat</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/qemu-monitor-command.html" jotId="wuid:gx:332a02f511ef9aa0" class="sites-navigation-link">QEMU Monitor Command</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/sflow.html" jotId="wuid:gx:51f13dca17c0f452" class="sites-navigation-link">sflow</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/slob.html" jotId="wuid:gx:6fb549ba8af63cc8" class="sites-navigation-link">SLOB2</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/slob2-12c-rac-pdb-version.html" jotId="wuid:gx:7370bb97c3458d1c" class="sites-navigation-link">SLOB2 (12c RAC PDB Version)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/tunnels.html" jotId="wuid:gx:67c0050b2d97d566" class="sites-navigation-link">Tunnels</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/vdbench.html" jotId="wuid:gx:5a058833aa18c315" class="sites-navigation-link">VDBench</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/virt-alignment-scan.html" jotId="wuid:gx:7ef6511f7ec6d8fc" class="sites-navigation-link">virt-alignment-scan</a></div></li></ul></li><li class="topLevel parent " wuid="gx:a688388e2cf1712"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../ubuntu-16-04.html" jotId="wuid:gx:a688388e2cf1712" class="sites-navigation-link topLevel">Ubuntu 16.04</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../ubuntu-16-04/canonical-ubuntu-16-04-livepatch-service.html" jotId="wuid:gx:36531436c1ed4a17" class="sites-navigation-link">Canonical Ubuntu 16.04 Livepatch Service</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../ubuntu-16-04/cisco-anyconnect-vpn-ubunty-16-04.html" jotId="wuid:gx:1f1f8e214e889787" class="sites-navigation-link">Cisco AnyConnect VPN Ubuntu 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../ubuntu-16-04/systemd-to-manage-network-interfaces.html" jotId="wuid:gx:182e7ebf6d20564f" class="sites-navigation-link">Systemd to Manage Network Interfaces</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../zero-downtime-asm-lun-add.html" jotId="wuid:gx:6d5fc0b6a3941475" class="sites-navigation-link topLevel">Zero-Downtime ASM LUN Add</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:5b81d66bdd7a72b7" class="sites-navigation-link topLevel">Sitemap</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_35309087585577514" class="sites-sidebar-plusone-wrapper"><div class="g-plusone" data-count="true" data-size="standard" data-source="google:sites"></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../oracle-rac-in-lxc-linux-containers.html" dir="ltr">Oracle RAC in LXC Linux Containers</A> &gt; 
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Ubuntu 14.04.1 Oracle GI 12c ASM Flex Cluster on LXC Containers</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div><font size="3"><div><div class="sites-embed-align-left-wrapping-off"><div class="sites-embed-border-off sites-embed" style="width:500px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-6"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html#TOC-Configure-SCST-to-Start-after-SSH"><strong>1 </strong>Configure SCST to Start after SSH</a></li><li class="goog-toc"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html#TOC-Edit-etc-security-limits.conf-in-LXC-Nodes"><strong>2 </strong>Edit /etc/security/limits.conf in LXC Nodes</a></li><li class="goog-toc"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html#TOC-Add-Entries-to-etc-sysctl.conf-on-LXC-Nodes-for-rp_filter"><strong>3 </strong>Add Entries to /etc/sysctl.conf on LXC Nodes for rp_filter</a></li><li class="goog-toc"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html#TOC-Install-Oracle-12.1.0.2.0-ASM-Flex-Clusterware"><strong>4 </strong>Install Oracle 12.1.0.2.0 ASM Flex Clusterware</a></li><li class="goog-toc"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html#TOC-Execute-root.sh-Scripts-on-Each-LXC-Node"><strong>5 </strong>Execute root.sh Scripts on Each LXC Node</a></li><li class="goog-toc"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html#TOC-Some-details-about-installed-ASM-Flex-Cluster-on-LXC-Nodes"><strong>6 </strong>Some details about installed ASM Flex Cluster on LXC Nodes</a></li><li class="goog-toc"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html#TOC-Completed-System"><strong>7 </strong>Completed System</a></li><li class="goog-toc"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html#TOC-Install-RAC-Database"><strong>8 </strong>Install RAC Database</a><ol class="goog-toc"><li class="goog-toc"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html#TOC-Disable-Transparent-Huge-Pages"><strong>8.1 </strong>Disable Transparent Huge Pages</a></li></ol></li><li class="goog-toc"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html#TOC-Ensure-SCST-Linux-iSCSI-SAN-Space-Sufficient"><strong>9 </strong>Ensure SCST Linux iSCSI SAN Space Sufficient</a><ol class="goog-toc"><li class="goog-toc"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html#TOC-alter-diskgroup-DATA-add-disk-dev-mapper-asm_disk_lxc1_data_01-force-"><strong>9.1 </strong>alter diskgroup DATA add disk '/dev/mapper/asm_disk_lxc1_data_01' force;</a></li></ol></li><li class="goog-toc"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html#TOC-Cluster-Startup-Failure-on-LXC-Node-2-lxcora03-"><strong>10 </strong>Cluster Startup Failure on LXC Node 2 (lxcora03)</a></li><li class="goog-toc"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html#TOC-Configure-NTP-on-Ubuntu-Host"><strong>11 </strong>Configure NTP on Ubuntu Host</a></li><li class="goog-toc"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html#TOC-Configure-NTP-on-LXC-Nodes"><strong>12 </strong>Configure NTP on LXC Nodes</a></li><li class="goog-toc"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html#TOC-Automate-Creation-of-SCST-LUNs-on-Ubuntu-LXC-Host"><strong>13 </strong>Automate Creation of SCST LUNs on Ubuntu LXC Host</a></li><li class="goog-toc"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html#TOC-GNS-Configuration-Notes"><strong>14 </strong>GNS Configuration Notes</a><ol class="goog-toc"><li class="goog-toc"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html#TOC-Begin-Update-1-2014-November-4"><strong>14.1 </strong>Begin Update #1 2014 November 4</a></li><li class="goog-toc"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html#TOC-End-Update-1-2014-November-4"><strong>14.2 </strong>End Update #1 2014 November 4</a></li></ol></li><li class="goog-toc"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html#TOC-Connect-to-DB-from-Ubuntu-Host"><strong>15 </strong>Connect to DB from Ubuntu Host</a></li></ol></div></div></div></div></div><br />This blog page documents building an Oracle ASM 12c (12.1.0.2.0) Flex Cluster on Ubuntu 14.04.1 Desktop (64-bit) using two Oracle Enterprise Linux 6.5 LXC Linux Containers. The build is complete and the screenshots of the completed installed system running on Ubuntu can be seen at the end of the post. I will be filling in details of the build such as the LXC config files for lxcora02 and lxcora03, as well as other key configuration files and details about how storage was presented to the nodes, etc. so if interested in this topic check back often or contact me directly. If one wants to run Oracle Enterprise software products on Ubuntu Linux, LXC Containers are probably the best way. Note that running Oracle database on Ubuntu is not officially supported by Oracle, nor is running Oracle database in Linux Containers officially supported either, so strictly speaking this must be considered for personal and test use only.<br /><br /></font></div><div><font size="3">My To Do List for This Build<br /></font></div><ol><li><font size="3">Work out details of 11gR2 integration/compatibility with 12c ASM Flex Clustering</font></li><li><font size="3">Redistribute the LUNs across the multiple targets so the array outage can be simulated (one LUN from each DG on a target)<br /></font></li><li><font size="3">Document the work creating the reboot, start, and shutdown aliases for managing the LXC containers</font></li><li><font size="3">Document the work using "chkconfig" to move "scst" in the KVM SAN to run AFTER "ssh" so that the KVM guest can ssh to the vmem1 host and create the LUNs at laptop bootup.</font></li><li><font size="3">Related to this is to document the files that were created in the '/etc/sudoers.d" directory to enable nopassword sudo from the KVM SAN to vmem1 at bootup to create the LUNs </font></li><li><font size="3">External name resolution in LXC containers not working (can only resolve by IP), i.e. "nslookup" and "dig" work but "ping" and "ssh" cannot resolve by name, only by IP.<br /></font></li></ol><div></div><div><font size="3">This was added to /etc/init.d/scst as shown below.<br /><br /></font><h3><a name="TOC-Configure-SCST-to-Start-after-SSH"></a>Configure SCST to Start after SSH</h3><p><font size="3">On the KVM guest which has the SCST iSCSI Linux SAN, the scst services are configured to start after ssh so that the SCST SAN can be autostarted at bootup, and as soon as SCST has started, it executes a remote command on the Ubuntu host to login to the iscsi initiators and obtain the LUNs.</font><br /></p><font size="3"><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 ~]# grep -A2 -B5 gstanden /etc/init.d/scst</code><br /><code>case "$1" in</code><br /><code> start)</code><br /><code> ## Start the service.</code><br /><code> echo -n "Loading and configuring SCST"</code><br /><code> start_scst</code><br /><code> ssh -t gstanden@vmem1 "/home/gstanden/create_asm_luns.sh"</code><br /><code> rc=$?</code><br /><code> ;;</code><br /><code>[root@oracle651 ~]# </code></font></div><br /></font></div><div><font size="3">And chkconfig was used to move /etc/init.d/scst on oracle652 KVM guest to run AFTER ssh so that the above ssh would work. The point of all this work was so that oracle652 KVM guest could be set to "autostart" on boot, and that once ssh and scst were up, it would send an ssh command to the Ubuntu host to login to the SCST Linux SAN on oracle652 KVM guest and load up the iSCSI oracle ASM LUNs.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><br /><code>[root@oracle651 ~]# grep chkconfig /etc/init.d/scst</code><br /><code>#<b> chkconfig: 2345 56 87 &lt;-- Set start value to "56" so that scst would start after ssh was already up7</b></code> <br /><br /><code>[root@oracle651 ~]# grep chkconfig /etc/init.d/ssh*</code><br /><b><code># chkconfig: 2345 55 25 &lt;-- The ssh service starts at priorty "55" so now it starts before scst</code></b><br /><br /><code>[root@oracle651 ~]# grep chkconfig /etc/init.d/scst.2014.11.01.1552.bak </code><br /><b><code># chkconfig: 2345 13 87 &lt;-- Here are the original values for scst where it was starting very early at priority "13"</code></b><br /><br /><code>[root@oracle651 ~]# </code></font></div><br />The remote script on the Ubuntu host that is executed by scst init script on the KVM guest is shown below. The initiators are login/logout/login because of a workaround. It was found that most of the LUNs were created in Linux 5 style as multipath device nodes under /dev/mapper, but sometimes one or two would be created in Linux 6 style as soft links pointing to /dev/dm-* and for the purposes of this work with Linux LXC containers, what is needed is for all the LUNs to be created in Linux 5 style (no soft links) because so far there has not been found a way to preserve those links when delivering the storage to the LXC containers. In other words, /dev/mapper can be presented to each LXC container, but when there are links involved, it is problematic to preserve those links and somehow "promote" /dev/dm-* devices to the LXC container. Furthermore, the "lxc-device" command was found not to work with Oracle for storage. One can present a dm-* device to be sure, and Oracle will even accept the device as an ASM disk, but when it attempts to do IO to that device, there are errors. It was found that mounting /dev/mapper in the LXC container provides storage for the LXC nodes that seems to work in all ways with no problems.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ cat create_asm_luns.sh</code><br /><code>sudo iscsiadm --mode node --targetname iqn.2014-08.org.vmem:oracle651.san.asm.luns --portal 10.207.40.74 --login</code><br /><code>sudo iscsiadm --mode node --targetname iqn.2014-08.org.vmem:oracle651.san.asm.luns --portal 10.207.41.74 --login</code><br /><code>sudo iscsiadm --mode node --targetname iqn.2014-10.org.vmem1:oracle651.san.asm.luns --portal 10.207.40.74 --login</code><br /><code>sudo iscsiadm --mode node --targetname iqn.2014-10.org.vmem1:oracle651.san.asm.luns --portal 10.207.41.74 --login</code><br /><code>sudo iscsiadm --mode node --targetname iqn.2014-10.org.vmem1:oracle651.san.asm.luns2 --portal 10.207.40.74 --login</code><br /><code>sudo iscsiadm --mode node --targetname iqn.2014-10.org.vmem1:oracle651.san.asm.luns2 --portal 10.207.41.74 --login</code><br /><br /><code>ls -lrt /dev/mapper</code><br /><br /><code>sudo iscsiadm --mode node --targetname iqn.2014-08.org.vmem:oracle651.san.asm.luns --portal 10.207.40.74 --logout</code><br /><code>sudo iscsiadm --mode node --targetname iqn.2014-08.org.vmem:oracle651.san.asm.luns --portal 10.207.41.74 --logout</code><br /><code>sudo iscsiadm --mode node --targetname iqn.2014-10.org.vmem1:oracle651.san.asm.luns --portal 10.207.40.74 --logout</code><br /><code>sudo iscsiadm --mode node --targetname iqn.2014-10.org.vmem1:oracle651.san.asm.luns --portal 10.207.41.74 --logout</code><br /><code>sudo iscsiadm --mode node --targetname iqn.2014-10.org.vmem1:oracle651.san.asm.luns2 --portal 10.207.40.74 --logout</code><br /><code>sudo iscsiadm --mode node --targetname iqn.2014-10.org.vmem1:oracle651.san.asm.luns2 --portal 10.207.41.74 --logout</code><br /><br /><code>sudo service multipath-tools restart</code><br /><br /><code>sudo iscsiadm --mode node --targetname iqn.2014-08.org.vmem:oracle651.san.asm.luns --portal 10.207.40.74 --login</code><br /><code>sudo iscsiadm --mode node --targetname iqn.2014-08.org.vmem:oracle651.san.asm.luns --portal 10.207.41.74 --login</code><br /><code>sudo iscsiadm --mode node --targetname iqn.2014-10.org.vmem1:oracle651.san.asm.luns --portal 10.207.40.74 --login</code><br /><code>sudo iscsiadm --mode node --targetname iqn.2014-10.org.vmem1:oracle651.san.asm.luns --portal 10.207.41.74 --login</code><br /><code>sudo iscsiadm --mode node --targetname iqn.2014-10.org.vmem1:oracle651.san.asm.luns2 --portal 10.207.40.74 --login</code><br /><code>sudo iscsiadm --mode node --targetname iqn.2014-10.org.vmem1:oracle651.san.asm.luns2 --portal 10.207.41.74 --login</code><br /><br /><code>ls -lrt /dev/mapper</code><br /><code>gstanden@vmem1:~$ </code></font></div><br /><br /><br /><br />My To Do List for The Next Build - Insights<br /></font></div><ol><li><font size="3">Use enumerated usernames on each node, such as "oracle1" and "dba1" on lxcora01 | "oracle2" and "dba2" on lxcora02 and so on.  </font></li><li><font size="3">This will help manageability since all accounts exist on the node. </font></li><li><font size="3">The users could also be created on the Ubuntu host so that the names would display in "ps -ef" output rather than just UID and GID numbers.</font></li><li><font size="3">Longer-term project would be to package up the whole setup in deb file(s) so that it was deb installable.</font></li><li><font size="3">Oracle software would have to installed separately due to license and export restrictions, but the whole testbed could be deb-ized would think</font></li></ol><div></div><div><font size="3"><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><br /><code>[grid@lxcora02 grid]$ ./runcluvfy.sh comp gns -precrsinst -domain vmem.org -vip 10.207.39.3 -verbose -n lxcora02,lxcora03</code><br /><br /><code>Verifying GNS integrity </code><br /><br /><code>Checking GNS integrity...</code><br /><code>Checking if the GNS subdomain name is valid...</code><br /><code>The GNS subdomain name "vmem.org" is a valid domain name</code><br /><code>Checking if the GNS VIP is a valid address...</code><br /><code>GNS VIP "10.207.39.3" resolves to a valid IP address</code><br /><code>Checking the status of GNS VIP...</code><br /><br /><code>GNS integrity check passed</code><br /><br /><code>Verification of GNS integrity was successful. </code><br /><code>[grid@lxcora02 grid]$ </code></font></div></font><h3><a name="TOC-Edit-etc-security-limits.conf-in-LXC-Nodes"></a>Edit /etc/security/limits.conf in LXC Nodes</h3><p><font size="3">Most of the values are set in the /etc/security/limits.conf of the Ubuntu host, but a couple values are set locally in the container as shown below. Note that the Oracle Grid Infrastructure values are commented out. I have found that if I set those, I lose the ability to login to the "grid" user (i.e. with those set, "su - grid" fails with "could not open session"). I have not figured out the fix for this so am not setting them for now. If you have understanding of this problem and how to address, please leave a comment on the blog for the benefit of all, thanks.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>[root@lxcora02 ~]# cat /etc/security/limits.conf</code><br /><code># /etc/security/limits.conf</code><br /><code>#</code><br /><code>#Each line describes a limit for a user in the form:</code><br /><code>#</code><br /><code>#&lt;domain&gt; &lt;type&gt; &lt;item&gt; &lt;value&gt;</code><br /><code>#</code><br /><code>#Where:</code><br /><code>#&lt;domain&gt; can be:</code><br /><code># - an user name</code><br /><code># - a group name, with @group syntax</code><br /><code># - the wildcard *, for default entry</code><br /><code># - the wildcard %, can be also used with %group syntax,</code><br /><code># for maxlogin limit</code><br /><code>#</code><br /><code>#&lt;type&gt; can have the two values:</code><br /><code># - "soft" for enforcing the soft limits</code><br /><code># - "hard" for enforcing hard limits</code><br /><code>#</code><br /><code>#&lt;item&gt; can be one of the following:</code><br /><code># - core - limits the core file size (KB)</code><br /><code># - data - max data size (KB)</code><br /><code># - fsize - maximum filesize (KB)</code><br /><code># - memlock - max locked-in-memory address space (KB)</code><br /><code># - nofile - max number of open files</code><br /><code># - rss - max resident set size (KB)</code><br /><code># - stack - max stack size (KB)</code><br /><code># - cpu - max CPU time (MIN)</code><br /><code># - nproc - max number of processes</code><br /><code># - as - address space limit (KB)</code><br /><code># - maxlogins - max number of logins for this user</code><br /><code># - maxsyslogins - max number of logins on the system</code><br /><code># - priority - the priority to run user process with</code><br /><code># - locks - max number of file locks the user can hold</code><br /><code># - sigpending - max number of pending signals</code><br /><code># - msgqueue - max memory used by POSIX message queues (bytes)</code><br /><code># - nice - max nice priority allowed to raise to values: [-20, 19]</code><br /><code># - rtprio - max realtime priority</code><br /><code>#</code><br /><code>#&lt;domain&gt; &lt;type&gt; &lt;item&gt; &lt;value&gt;</code><br /><code>#</code><br /><br /><code>#* soft core 0</code><br /><code>#* hard rss 10000</code><br /><code>#@student hard nproc 20</code><br /><code>#@faculty soft nproc 20</code><br /><code>#@faculty hard nproc 50</code><br /><code>#ftp hard nproc 0</code><br /><code>#@student - maxlogins 4</code><br /><br /><code># End of file</code><br /><br /><b><code># Oracle Grid Infrastructure</code><br /><br /><code># grid hard nofile 65536</code><br /><code># grid soft nproc 2047</code><br /><br /><code># Oracle Database</code><br /><br /><code>*  soft  memlock 9873408 </code><br /><code>*  hard  memlock 9873408</code></b><br /><br /><code>[root@lxcora02 ~]# </code></font></font></div><h3><a name="TOC-Add-Entries-to-etc-sysctl.conf-on-LXC-Nodes-for-rp_filter"></a>Add Entries to /etc/sysctl.conf on LXC Nodes for rp_filter</h3><p><font size="3">Add entries as shown in bold below. Note that this is required for the multicast as well. <br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora03 ~]# cat /etc/sysctl.conf</code><br /><code># Kernel sysctl configuration file for Red Hat Linux</code><br /><code>#</code><br /><code># For binary values, 0 is disabled, 1 is enabled. See sysctl(8) and</code><br /><code># sysctl.conf(5) for more details.</code><br /><br /><code># Controls IP packet forwarding</code><br /><code>net.ipv4.ip_forward = 0</code><br /><br /><code># Controls source route verification</code><br /><code>net.ipv4.conf.default.rp_filter = 1</code><br /><br /><code># Do not accept source routing</code><br /><code>net.ipv4.conf.default.accept_source_route = 0</code><br /><br /><code># Controls the System Request debugging functionality of the kernel</code><br /><code>kernel.sysrq = 0</code><br /><br /><code># Controls whether core dumps will append the PID to the core filename.</code><br /><code># Useful for debugging multi-threaded applications.</code><br /><code>kernel.core_uses_pid = 1</code><br /><br /><code># Controls the use of TCP syncookies</code><br /><code>net.ipv4.tcp_syncookies = 1</code><br /><br /><code># Disable netfilter on bridges.</code><br /><code>net.bridge.bridge-nf-call-ip6tables = 0</code><br /><code>net.bridge.bridge-nf-call-iptables = 0</code><br /><code>net.bridge.bridge-nf-call-arptables = 0</code><br /><br /><code># Controls the default maxmimum size of a mesage queue</code><br /><code>kernel.msgmnb = 65536</code><br /><br /><code># Controls the maximum size of a message, in bytes</code><br /><code>kernel.msgmax = 65536</code><br /><br /><code># Controls the maximum shared segment size, in bytes</code><br /><code>kernel.shmmax = 68719476736</code><br /><br /><code># Controls the maximum number of shared memory segments, in pages</code><br /><code>kernel.shmall = 4294967296</code><br /><br /><code># Oracle</code><br /><br /><code>kernel.shmmni = 4096</code><br /><code>kernel.sem = 250 32000 100 128</code><br /><code>fs.file-max = 6815744</code><br /><code>fs.aio-max-nr = 1048576</code><br /><br /><code>net.ipv4.ip_local_port_range = 9000 65500</code><br /><code>net.core.rmem_default = 262144</code><br /><code>net.core.rmem_max = 4194304</code><br /><code>net.core.wmem_default = 262144</code><br /><code>net.core.wmem_max = 1048576</code><br /><code>kernel.panic_on_oops = 1</code><br /><br /><b><code>net.ipv4.conf.eth1.rp_filter = 2</code><br /><code>net.ipv4.conf.eth2.rp_filter = 2</code><br /><code>net.ipv4.conf.eth3.rp_filter = 2</code><br /><code>net.ipv4.conf.eth4.rp_filter = 2</code><br /><code>net.ipv4.conf.eth5.rp_filter = 2</code><br /><code>net.ipv4.conf.eth6.rp_filter = 2</code></b><br /><br /><code>[root@lxcora03 ~]# </code></font></div><p><font size="3">Then ran "sysctl -p" to have new settings take effect, and it worked in the LXC containers.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>[root@lxcora03 ~]# sysctl -p</code><br /><code>net.ipv4.ip_forward = 0</code><br /><code>net.ipv4.conf.default.rp_filter = 1</code><br /><code>net.ipv4.conf.default.accept_source_route = 0</code><br /><code>kernel.sysrq = 0</code><br /><code>kernel.core_uses_pid = 1</code><br /><code>error: "net.ipv4.tcp_syncookies" is an unknown key</code><br /><code>error: "net.bridge.bridge-nf-call-ip6tables" is an unknown key</code><br /><code>error: "net.bridge.bridge-nf-call-iptables" is an unknown key</code><br /><code>error: "net.bridge.bridge-nf-call-arptables" is an unknown key</code><br /><code>kernel.msgmnb = 65536</code><br /><code>kernel.msgmax = 65536</code><br /><code>kernel.shmmax = 68719476736</code><br /><code>kernel.shmall = 4294967296</code><br /><code>kernel.shmmni = 4096</code><br /><code>kernel.sem = 250 32000 100 128</code><br /><code>fs.file-max = 6815744</code><br /><code>fs.aio-max-nr = 1048576</code><br /><code>net.ipv4.ip_local_port_range = 9000 65500</code><br /><code>error: "net.core.rmem_default" is an unknown key</code><br /><code>error: "net.core.rmem_max" is an unknown key</code><br /><code>error: "net.core.wmem_default" is an unknown key</code><br /><code>error: "net.core.wmem_max" is an unknown key</code><br /><code>kernel.panic_on_oops = 1</code><br /><b><code>net.ipv4.conf.eth1.rp_filter = 2</code><br /><code>net.ipv4.conf.eth2.rp_filter = 2</code><br /><code>net.ipv4.conf.eth3.rp_filter = 2</code><br /><code>net.ipv4.conf.eth4.rp_filter = 2</code><br /><code>net.ipv4.conf.eth5.rp_filter = 2</code><br /><code>net.ipv4.conf.eth6.rp_filter = 2</code></b><br /><code>[root@lxcora03 ~]# </code></font></font></div></div><div><h3><a name="TOC-Install-Oracle-12.1.0.2.0-ASM-Flex-Clusterware"></a>Install Oracle 12.1.0.2.0 ASM Flex Clusterware</h3><p><font size="3">Putting in the screenshots now.</font></p><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-1.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259784/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-1.png" /></a></div><br /><div style="display:block;text-align:left"><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-2.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259785/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-2.png" /></a></div><br /></div><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-3.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259786/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-3.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-4.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259786/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-4.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-5.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259786/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-5.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-6.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259786/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-6.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-7.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259787/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-7.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-8.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260107/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-8.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-9.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260107/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-9.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-10.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259784/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-10.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-11.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259784/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-11.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-12.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259784/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-12.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-13.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259784/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-13.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-14.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259785/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-14.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-15.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259785/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-15.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-16.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259785/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-16.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-17.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259785/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-17.png" /></a></div><p><font size="3">Note on the next installer page, the pre-requisite checks, the shown errors are acceptable for the LXC container install.</font><br /></p><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-18.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259785/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-18.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-19.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259785/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-19.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-20.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259785/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-20.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-21.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259785/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-21.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-22.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259785/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-22.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-23.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259785/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-23.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-24.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259786/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-24.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-25.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259786/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-25.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-26.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259786/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-26.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-27.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259786/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-27.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-28.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259786/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-28.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-29.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259786/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-29.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-30.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259786/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-30.png" /></a></div><br /><p><br /></p><p><br /></p><p><br /></p><p><br /></p><p><br /></p><h3><a name="TOC-Execute-root.sh-Scripts-on-Each-LXC-Node"></a>Execute root.sh Scripts on Each LXC Node</h3><p><font size="3">Execute first script as shown below on lxcora02 and then lxcora03.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>[root@lxcora03 ~]# /u00/app/12.1.0/oraInventory/orainstRoot.sh</code><br /><code>Changing permissions of /u00/app/12.1.0/oraInventory.</code><br /><code>Adding read,write permissions for group.</code><br /><code>Removing read,write,execute permissions for world.</code><br /><br /><code>Changing groupname of /u00/app/12.1.0/oraInventory to oinstall.</code><br /><code>The execution of the script is complete.</code><br /><code>[root@lxcora03 ~]# </code></font></font></div><p><font size="3">Run the second root script as shown below on lxcora02.</font></p><div class="sites-codeblock sites-codesnippet-block"><p><font size="4"><code>[root@lxcora02 ~]# /u00/app/grid/product/12.1.0/grid/root.sh</code><br /><code>Performing root user operation.</code><br /><br /><code>The following environment variables are set as:</code><br /><code> ORACLE_OWNER= grid</code><br /><code> ORACLE_HOME= /u00/app/grid/product/12.1.0/grid</code><br /><br /><code>Enter the full pathname of the local bin directory: [/usr/local/bin]: </code><br /><code>The contents of "dbhome" have not changed. No need to overwrite.</code><br /><code>The contents of "oraenv" have not changed. No need to overwrite.</code><br /><code>The contents of "coraenv" have not changed. No need to overwrite.</code><br /><br /><br /><code>Creating /etc/oratab file...</code><br /><code>Entries will be added to the /etc/oratab file as needed by</code><br /><code>Database Configuration Assistant when a database is created</code><br /><code>Finished running generic part of root script.</code><br /><code>Now product-specific root actions will be performed.</code><br /><code>Using configuration parameter file: /u00/app/grid/product/12.1.0/grid/crs/install/crsconfig_params</code><br /><code>2014/10/29 19:46:56 CLSRSC-4001: Installing Oracle Trace File Analyzer (TFA) Collector.</code><br /><br /><code>TFA-00012: Oracle Trace File Analyzer (TFA) requires BASH shell. Please install bash and try again.</code><br /><code>2014/10/29 19:47:05 CLSRSC-4004: Failed to install Oracle Trace File Analyzer (TFA) Collector. Grid Infrastructure operations will continue.</code><br /><br /><code>2014/10/29 19:47:12 CLSRSC-363: User ignored prerequisites during installation</code><br /><br /><code>OLR initialization - successful</code><br /><code> root wallet</code><br /><code> root wallet cert</code><br /><code> root cert export</code><br /><code> peer wallet</code><br /><code> profile reader wallet</code><br /><code> pa wallet</code><br /><code> peer wallet keys</code><br /><code> pa wallet keys</code><br /><code> peer cert request</code><br /><code> pa cert request</code><br /><code> peer cert</code><br /><code> pa cert</code><br /><code> peer root cert TP</code><br /><code> profile reader root cert TP</code><br /><code> pa root cert TP</code><br /><code> peer pa cert TP</code><br /><code> pa peer cert TP</code><br /><code> profile reader pa cert TP</code><br /><code> profile reader peer cert TP</code><br /><code> peer user cert</code><br /><code> pa user cert</code><br /><code>2014/10/29 19:49:29 CLSRSC-330: Adding Clusterware entries to file 'oracle-ohasd.conf'</code><br /><br /><code>CRS-4133: Oracle High Availability Services has been stopped.</code><br /><code>CRS-4123: Oracle High Availability Services has been started.</code><br /><code>CRS-4133: Oracle High Availability Services has been stopped.</code><br /><code>CRS-4123: Oracle High Availability Services has been started.</code><br /><code>CRS-2672: Attempting to start 'ora.evmd' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.mdnsd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.mdnsd' on 'lxcora02' succeeded</code><br /><code>CRS-2676: Start of 'ora.evmd' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.gpnpd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.gpnpd' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.cssdmonitor' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.gipcd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.cssdmonitor' on 'lxcora02' succeeded</code><br /><code>CRS-2676: Start of 'ora.gipcd' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.cssd' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.diskmon' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.diskmon' on 'lxcora02' succeeded</code><br /><code>CRS-2676: Start of 'ora.cssd' on 'lxcora02' succeeded</code><br /><br /><code>ASM created and started successfully.</code><br /><br /><code>Disk Group SYSTEMDG created successfully.</code><br /><br /><code>CRS-2672: Attempting to start 'ora.crf' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.storage' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.crf' on 'lxcora02' succeeded</code><br /><code>CRS-2676: Start of 'ora.storage' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.crsd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.crsd' on 'lxcora02' succeeded</code><br /><code>CRS-4256: Updating the profile</code><br /><code>Successful addition of voting disk 4cf21b2b34044fcabfdfedfe2aea7644.</code><br /><code>Successful addition of voting disk 36febb54b8bc4fa2bfee0509b3f4ab1e.</code><br /><code>Successful addition of voting disk 1a7d8c36835a4fa4bf27dd1bf0edc23d.</code><br /><code>Successfully replaced voting disk group with +SYSTEMDG.</code><br /><code>CRS-4256: Updating the profile</code><br /><code>CRS-4266: Voting file(s) successfully replaced</code><br /><code>## STATE File Universal Id File Name Disk group</code><br /><code>-- ----- ----------------- --------- ---------</code><br /><code>1. ONLINE 4cf21b2b34044fcabfdfedfe2aea7644 (/dev/mapper/asm_disk_lxc1_systemdg_01) [SYSTEMDG]</code><br /><code>2. ONLINE 36febb54b8bc4fa2bfee0509b3f4ab1e (/dev/mapper/asm_disk_lxc1_systemdg_02) [SYSTEMDG]</code><br /><code>3. ONLINE 1a7d8c36835a4fa4bf27dd1bf0edc23d (/dev/mapper/asm_disk_lxc1_systemdg_03) [SYSTEMDG]</code><br /><code>Located 3 voting disk(s).</code><br /></font></p><p><font size="4"><code>CRS-2791: Starting shutdown of Oracle High Availability Services-managed resources on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.crsd' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.crsd' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.ctssd' on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.mdnsd' on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.gpnpd' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.ctssd' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.evmd' on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.storage' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.gpnpd' on 'lxcora02' succeeded</code><br /><code>CRS-2677: Stop of 'ora.mdnsd' on 'lxcora02' succeeded</code><br /><code>CRS-2677: Stop of 'ora.storage' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.asm' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.evmd' on 'lxcora02' succeeded</code><br /><code>CRS-2677: Stop of 'ora.asm' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.cluster_interconnect.haip' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.cluster_interconnect.haip' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.cssd' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.cssd' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.crf' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.crf' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.gipcd' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.gipcd' on 'lxcora02' succeeded</code><br /><code>CRS-2793: Shutdown of Oracle High Availability Services-managed resources on 'lxcora02' has completed</code><br /><code>CRS-4133: Oracle High Availability Services has been stopped.</code><br /><code>CRS-4123: Starting Oracle High Availability Services-managed resources</code><br /><code>CRS-2672: Attempting to start 'ora.mdnsd' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.evmd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.mdnsd' on 'lxcora02' succeeded</code><br /><code>CRS-2676: Start of 'ora.evmd' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.gpnpd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.gpnpd' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.gipcd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.gipcd' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.cssdmonitor' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.cssdmonitor' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.cssd' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.diskmon' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.diskmon' on 'lxcora02' succeeded</code><br /><code>CRS-2676: Start of 'ora.cssd' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.cluster_interconnect.haip' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.ctssd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.ctssd' on 'lxcora02' succeeded</code><br /><code>CRS-2676: Start of 'ora.cluster_interconnect.haip' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.asm' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.asm' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.storage' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.storage' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.crf' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.crf' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.crsd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.crsd' on 'lxcora02' succeeded</code><br /><code>CRS-6023: Starting Oracle Cluster Ready Services-managed resources</code><br /><code>CRS-6017: Processing resource auto-start for servers: lxcora02</code><br /><code>CRS-6016: Resource auto-start has completed for server lxcora02</code><br /><code>CRS-6024: Completed start of Oracle Cluster Ready Services-managed resources</code><br /><code>CRS-4123: Oracle High Availability Services has been started.</code><br /><code>2014/10/29 20:00:45 CLSRSC-343: Successfully started Oracle Clusterware stack</code><br /><br /><code>CRS-2672: Attempting to start 'ora.net1.network' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.net1.network' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.gns.vip' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.gns.vip' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.gns' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.gns' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.ASMNET1LSNR_ASM.lsnr' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.ASMNET1LSNR_ASM.lsnr' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.asm' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.asm' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.SYSTEMDG.dg' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.SYSTEMDG.dg' on 'lxcora02' succeeded</code><br /><code>CRS-2791: Starting shutdown of Oracle High Availability Services-managed resources on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.crsd' on 'lxcora02'</code><br /><code>CRS-2790: Starting shutdown of Cluster Ready Services-managed resources on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.SYSTEMDG.dg' on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.oc4j' on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.LISTENER_SCAN3.lsnr' on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.LISTENER_SCAN1.lsnr' on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.LISTENER_SCAN2.lsnr' on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.lxcora02.vip' on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.cvu' on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.gns' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.cvu' on 'lxcora02' succeeded</code><br /><code>CRS-2677: Stop of 'ora.SYSTEMDG.dg' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.asm' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.LISTENER_SCAN2.lsnr' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.scan2.vip' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.LISTENER_SCAN1.lsnr' on 'lxcora02' succeeded</code><br /><code>CRS-2677: Stop of 'ora.LISTENER_SCAN3.lsnr' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.scan3.vip' on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.scan1.vip' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.asm' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.ASMNET1LSNR_ASM.lsnr' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.lxcora02.vip' on 'lxcora02' succeeded</code><br /><code>CRS-2677: Stop of 'ora.ASMNET1LSNR_ASM.lsnr' on 'lxcora02' succeeded</code><br /><code>CRS-2677: Stop of 'ora.scan3.vip' on 'lxcora02' succeeded</code><br /><code>CRS-2677: Stop of 'ora.scan2.vip' on 'lxcora02' succeeded</code><br /><code>CRS-2677: Stop of 'ora.gns' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.gns.vip' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.oc4j' on 'lxcora02' succeeded</code><br /><code>CRS-2677: Stop of 'ora.scan1.vip' on 'lxcora02' succeeded</code><br /><code>CRS-2677: Stop of 'ora.gns.vip' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.ons' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.ons' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.net1.network' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.net1.network' on 'lxcora02' succeeded</code><br /><code>CRS-2792: Shutdown of Cluster Ready Services-managed resources on 'lxcora02' has completed</code><br /><code>CRS-2677: Stop of 'ora.crsd' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.storage' on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.mdnsd' on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.gpnpd' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.storage' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.asm' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.gpnpd' on 'lxcora02' succeeded</code><br /><code>CRS-2677: Stop of 'ora.mdnsd' on 'lxcora02' succeeded</code><br /><code>CRS-2677: Stop of 'ora.asm' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.cluster_interconnect.haip' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.cluster_interconnect.haip' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.ctssd' on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.evmd' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.ctssd' on 'lxcora02' succeeded</code><br /><code>CRS-2677: Stop of 'ora.evmd' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.cssd' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.cssd' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.crf' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.crf' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.gipcd' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.gipcd' on 'lxcora02' succeeded</code><br /><code>CRS-2793: Shutdown of Oracle High Availability Services-managed resources on 'lxcora02' has completed</code><br /><code>CRS-4133: Oracle High Availability Services has been stopped.</code><br /><code>CRS-4123: Starting Oracle High Availability Services-managed resources</code><br /><code>CRS-2672: Attempting to start 'ora.mdnsd' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.evmd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.mdnsd' on 'lxcora02' succeeded</code><br /><code>CRS-2676: Start of 'ora.evmd' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.gpnpd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.gpnpd' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.gipcd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.gipcd' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.cssdmonitor' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.cssdmonitor' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.cssd' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.diskmon' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.diskmon' on 'lxcora02' succeeded</code><br /><code>CRS-2676: Start of 'ora.cssd' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.cluster_interconnect.haip' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.ctssd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.ctssd' on 'lxcora02' succeeded</code><br /><code>CRS-2676: Start of 'ora.cluster_interconnect.haip' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.asm' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.asm' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.storage' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.storage' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.crf' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.crf' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.crsd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.crsd' on 'lxcora02' succeeded</code><br /><code>CRS-6023: Starting Oracle Cluster Ready Services-managed resources</code><br /><code>CRS-2664: Resource 'ora.SYSTEMDG.dg' is already running on 'lxcora02'</code><br /><code>CRS-6017: Processing resource auto-start for servers: lxcora02</code><br /><code>CRS-2672: Attempting to start 'ora.oc4j' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.LISTENER_SCAN1.lsnr' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.LISTENER_SCAN2.lsnr' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.LISTENER_SCAN1.lsnr' on 'lxcora02' succeeded</code><br /><code>CRS-2676: Start of 'ora.LISTENER_SCAN2.lsnr' on 'lxcora02' succeeded</code><br /><code>CRS-2676: Start of 'ora.oc4j' on 'lxcora02' succeeded</code><br /><code>CRS-6016: Resource auto-start has completed for server lxcora02</code><br /><code>CRS-6024: Completed start of Oracle Cluster Ready Services-managed resources</code><br /><code>CRS-4123: Oracle High Availability Services has been started.</code><br /><b><code>2014/10/29 20:06:31 CLSRSC-325: Configure Oracle Grid Infrastructure for a Cluster ... succeeded</code></b><br /><br /><code>[root@lxcora02 ~]# </code></font></p></div><br /></div><div><font size="3">Run the second root script on the second LXC node lxcora02 as shown below.</font><br /><br /></div><div><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora03 ~]# /u00/app/grid/product/12.1.0/grid/root.sh</code><br /><code>Performing root user operation.</code><br /><br /><code>The following environment variables are set as:</code><br /><code> ORACLE_OWNER= grid</code><br /><code> ORACLE_HOME= /u00/app/grid/product/12.1.0/grid</code><br /><br /><code>Enter the full pathname of the local bin directory: [/usr/local/bin]: </code><br /><code>The contents of "dbhome" have not changed. No need to overwrite.</code><br /><code>The contents of "oraenv" have not changed. No need to overwrite.</code><br /><code>The contents of "coraenv" have not changed. No need to overwrite.</code><br /><br /><br /><code>Creating /etc/oratab file...</code><br /><code>Entries will be added to the /etc/oratab file as needed by</code><br /><code>Database Configuration Assistant when a database is created</code><br /><code>Finished running generic part of root script.</code><br /><code>Now product-specific root actions will be performed.</code><br /><code>Using configuration parameter file: /u00/app/grid/product/12.1.0/grid/crs/install/crsconfig_params</code><br /><code>2014/10/29 20:09:22 CLSRSC-4001: Installing Oracle Trace File Analyzer (TFA) Collector.</code><br /><br /><code>TFA-00012: Oracle Trace File Analyzer (TFA) requires BASH shell. Please install bash and try again.</code><br /><code>2014/10/29 20:09:31 CLSRSC-4004: Failed to install Oracle Trace File Analyzer (TFA) Collector. Grid Infrastructure operations will continue.</code><br /><br /><code>2014/10/29 20:09:32 CLSRSC-363: User ignored prerequisites during installation</code><br /><br /><code>OLR initialization - successful</code><br /><code>2014/10/29 20:10:41 CLSRSC-330: Adding Clusterware entries to file 'oracle-ohasd.conf'</code><br /><br /><code>CRS-4133: Oracle High Availability Services has been stopped.</code><br /><code>CRS-4123: Oracle High Availability Services has been started.</code><br /><code>CRS-4133: Oracle High Availability Services has been stopped.</code><br /><code>CRS-4123: Oracle High Availability Services has been started.</code><br /><code>CRS-4133: Oracle High Availability Services has been stopped.</code><br /><code>CRS-4123: Starting Oracle High Availability Services-managed resources</code><br /><code>CRS-2672: Attempting to start 'ora.mdnsd' on 'lxcora03'</code><br /><code>CRS-2672: Attempting to start 'ora.evmd' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.mdnsd' on 'lxcora03' succeeded</code><br /><code>CRS-2676: Start of 'ora.evmd' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.gpnpd' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.gpnpd' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.gipcd' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.gipcd' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.cssdmonitor' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.cssdmonitor' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.cssd' on 'lxcora03'</code><br /><code>CRS-2672: Attempting to start 'ora.diskmon' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.diskmon' on 'lxcora03' succeeded</code><br /><code>CRS-2676: Start of 'ora.cssd' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.cluster_interconnect.haip' on 'lxcora03'</code><br /><code>CRS-2672: Attempting to start 'ora.ctssd' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.ctssd' on 'lxcora03' succeeded</code><br /><code>CRS-2676: Start of 'ora.cluster_interconnect.haip' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.asm' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.asm' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.storage' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.storage' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.crf' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.crf' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.crsd' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.crsd' on 'lxcora03' succeeded</code><br /><code>CRS-6017: Processing resource auto-start for servers: lxcora03</code><br /><code>CRS-2672: Attempting to start 'ora.net1.network' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.net1.network' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.ons' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.ons' on 'lxcora03' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.LISTENER_SCAN1.lsnr' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.LISTENER_SCAN1.lsnr' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.scan1.vip' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.scan1.vip' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.scan1.vip' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.scan1.vip' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.LISTENER_SCAN1.lsnr' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.LISTENER_SCAN1.lsnr' on 'lxcora03' succeeded</code><br /><code>CRS-6016: Resource auto-start has completed for server lxcora03</code><br /><code>CRS-6024: Completed start of Oracle Cluster Ready Services-managed resources</code><br /><code>CRS-4123: Oracle High Availability Services has been started.</code><br /><code>2014/10/29 20:14:58 CLSRSC-343: Successfully started Oracle Clusterware stack</code><br /><br /><code>2014/10/29 20:15:10 CLSRSC-325: Configure Oracle Grid Infrastructure for a Cluster ... succeeded</code><br /><br /><code>[root@lxcora03 ~]#</code></font></div></div><div><h3><a name="TOC-Some-details-about-installed-ASM-Flex-Cluster-on-LXC-Nodes"></a>Some details about installed ASM Flex Cluster on LXC Nodes</h3><p><font size="3">Some details about the system as shown below.</font><br /></p><font size="3"><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[grid@lxcora02 ~]$ srvctl config scan</code><br /><br /><code>SCAN name: lxc1-scan.gns1.vmem.org, Network: 1</code><br /><code>Subnet IPv4: 10.207.39.0/255.255.255.0/eth0, dhcp</code><br /><code>Subnet IPv6: </code><br /><code>SCAN 0 IPv4 VIP: -/scan1-vip/10.207.39.100</code><br /><code>SCAN VIP is enabled.</code><br /><code>SCAN VIP is individually enabled on nodes: </code><br /><code>SCAN VIP is individually disabled on nodes: </code><br /><code>SCAN 1 IPv4 VIP: -/scan2-vip/10.207.39.101</code><br /><code>SCAN VIP is enabled.</code><br /><code>SCAN VIP is individually enabled on nodes: </code><br /><code>SCAN VIP is individually disabled on nodes: </code><br /><code>SCAN 2 IPv4 VIP: -/scan3-vip/10.207.39.102</code><br /><code>SCAN VIP is enabled.</code><br /><code>SCAN VIP is individually enabled on nodes: </code><br /><code>SCAN VIP is individually disabled on nodes: </code><br /><br /><code>[grid@lxcora02 ~]$ nslookup lxc1-scan</code><br /><br /><code>Server:  10.207.39.3</code><br /><code>Address: 10.207.39.3#53</code><br /><br /><code>Name: lxc1-scan.gns1.vmem.org</code><br /><code>Address: 10.207.39.100</code><br /><code>Name: lxc1-scan.gns1.vmem.org</code><br /><code>Address: 10.207.39.101</code><br /><code>Name: lxc1-scan.gns1.vmem.org</code><br /><code>Address: 10.207.39.102</code><br /><br /><code>[grid@lxcora02 ~]$ srvctl config gns</code><br /><br /><code>GNS is enabled.</code><br /><code>GNS VIP addresses: 10.207.39.3</code><br /><code>Domain served by GNS: gns1.vmem.org</code><br /><br /><code>[grid@lxcora02 ~]$ ps -ef | grep pmon</code><br /><br /><code>grid 8652 8465 0 20:40 lxc/console 00:00:00 grep pmon</code><br /><code>grid 21404 1 0 20:05 ? 00:00:00 asm_pmon_+ASM1</code><br /><code>grid 29026 1 0 20:22 ? 00:00:00 mdb_pmon_-MGMTDB</code><br /><br /><code>[grid@lxcora02 ~]$ ssh root@lxcora03 </code><br /><code>root@lxcora03's password: </code><br /><code>Last login: Wed Oct 29 20:36:59 2014</code><br /><code>[root@lxcora03 ~]# ps -ef | grep pmon</code><br /><br /><code>grid 15383 1 0 20:14 ? 00:00:00 asm_pmon_+ASM2</code><br /><code>root 25811 25799 0 20:40 pts/0 00:00:00 grep pmon</code><br /><br /><code>[root@lxcora03 ~]# crsctl stat res -t</code><br /><br /><code>--------------------------------------------------------------------------------</code><br /><code>Name Target State Server State details </code><br /><code>--------------------------------------------------------------------------------</code><br /><code>Local Resources</code><br /><code>--------------------------------------------------------------------------------</code><br /><code>ora.ASMNET1LSNR_ASM.lsnr</code><br /><code> ONLINE ONLINE lxcora02 STABLE</code><br /><code> OFFLINE OFFLINE lxcora03 STABLE</code><br /><code>ora.LISTENER.lsnr</code><br /><code> ONLINE ONLINE lxcora02 STABLE</code><br /><code> ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.SYSTEMDG.dg</code><br /><code> ONLINE ONLINE lxcora02 STABLE</code><br /><code> ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.net1.network</code><br /><code> ONLINE ONLINE lxcora02 STABLE</code><br /><code> ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.ons</code><br /><code> ONLINE ONLINE lxcora02 STABLE</code><br /><code> ONLINE ONLINE lxcora03 STABLE</code><br /><code>--------------------------------------------------------------------------------</code><br /><code>Cluster Resources</code><br /><code>--------------------------------------------------------------------------------</code><br /><code>ora.LISTENER_SCAN1.lsnr</code><br /><code> 1 ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.LISTENER_SCAN2.lsnr</code><br /><code> 1 ONLINE ONLINE lxcora02 STABLE</code><br /><code>ora.LISTENER_SCAN3.lsnr</code><br /><code> 1 ONLINE ONLINE lxcora02 STABLE</code><br /><code>ora.MGMTLSNR</code><br /><code> 1 ONLINE ONLINE lxcora02 169.254.40.120 192.2</code><br /><code> 10.39.10 192.211.39.</code><br /><code> 10,STABLE</code><br /><code>ora.asm</code><br /><code> 1 ONLINE ONLINE lxcora02 Started,STABLE</code><br /><code> 2 ONLINE ONLINE lxcora03 Started,STABLE</code><br /><code> 3 OFFLINE OFFLINE STABLE</code><br /><code>ora.cvu</code><br /><code> 1 ONLINE ONLINE lxcora02 STABLE</code><br /><code>ora.gns</code><br /><code> 1 ONLINE ONLINE lxcora02 STABLE</code><br /><code>ora.gns.vip</code><br /><code> 1 ONLINE ONLINE lxcora02 STABLE</code><br /><code>ora.lxcora02.vip</code><br /><code> 1 ONLINE ONLINE lxcora02 STABLE</code><br /><code>ora.lxcora03.vip</code><br /><code> 1 ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.mgmtdb</code><br /><code> 1 ONLINE ONLINE lxcora02 Open,STABLE</code><br /><code>ora.oc4j</code><br /><code> 1 ONLINE ONLINE lxcora02 STABLE</code><br /><code>ora.scan1.vip</code><br /><code> 1 ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.scan2.vip</code><br /><code> 1 ONLINE ONLINE lxcora02 STABLE</code><br /><code>ora.scan3.vip</code><br /><code> 1 ONLINE ONLINE lxcora02 STABLE</code><br /><code>--------------------------------------------------------------------------------</code><br /><br /><code>[root@lxcora03 ~]# </code></font></div></font><h3><a name="TOC-Completed-System"></a>Completed System</h3><p><font size="3">Picture of completed system running on Ubuntu 14.04.1 inside Oracle Enterprise Linux 6.5 LXC Linux Containers</font></p><div style="display:block;text-align:left"><font size="3"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asm-flex-cluster-ubuntu.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259784/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asm-flex-cluster-ubuntu.png" style="width:100%" /></a></font></div><p><font size="3">Some details of the system from the Ubuntu 14.04.1. Notice that the Oracle Grid Infrastructure processes are visible from the Base OS even though running in the LXC containers.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>gstanden@vmem1:~$ uname -a</code><br /><code>Linux vmem1.vmem.org 3.13.11.6 #1 SMP Mon Sep 15 11:54:55 CDT 2014 x86_64 x86_64 x86_64 GNU/Linux</code><br /><code>gstanden@vmem1:~$ </code><br /><code>gstanden@vmem1:~$ cat /etc/lsb-release </code><br /><code>DISTRIB_ID=Ubuntu</code><br /><code>DISTRIB_RELEASE=14.04</code><br /><code>DISTRIB_CODENAME=trusty</code><br /><code>DISTRIB_DESCRIPTION="Ubuntu 14.04.1 LTS"</code><br /><code>gstanden@vmem1:~$ </code><br /><code>gstanden@vmem1:~$ ps -ef | grep pmon</code><br /><code>1098 14706 12394 0 22:47 ? 00:00:00 asm_pmon_+ASM1</code><br /><code>1098 15499 12394 0 22:48 ? 00:00:00 mdb_pmon_-MGMTDB</code><br /><code>1098 30057 28706 0 22:53 ? 00:00:00 asm_pmon_+ASM2</code><br /><code>gstanden 31975 30291 0 23:04 pts/36 00:00:00 grep --color=auto pmon</code><br /><code>gstanden@vmem1:~$ sudo lxc-ls -f</code><br /><code>[sudo] password for gstanden: </code><br /><code>NAME STATE IPV4 IPV6 GROUPS AUTOSTART </code><br /><code>----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</code><br /><code>lxcora01 STOPPED - - - NO </code><br /><code>lxcora02 RUNNING 10.207.39.101, 10.207.39.102, 10.207.39.3, 10.207.39.87, 10.207.39.97, 169.254.133.43, 169.254.254.234, 169.254.56.148, 169.254.88.208, 172.220.40.10, 172.221.40.10, 192.210.39.10, 192.211.39.10, 192.212.39.10, 192.213.39.10 - - NO </code><br /><code>lxcora03 RUNNING 10.207.39.100, 10.207.39.88, 10.207.39.93, 169.254.122.71, 169.254.141.10, 169.254.223.146, 169.254.28.2, 172.220.40.11, 172.221.40.11, 192.210.39.11, 192.211.39.11, 192.212.39.11, 192.213.39.11 - - NO </code><br /><code>gstanden@vmem1:~$ </code></font></font></div><h3><a name="TOC-Install-RAC-Database"></a>Install RAC Database</h3><h4><a name="TOC-Disable-Transparent-Huge-Pages"></a>Disable Transparent Huge Pages<br /></h4><p><font size="3">On the Ubuntu host it is necessary to disable Transparent Huge Pages when running OEL 6 on Ubuntu 3 kernels as described here at <a href="http://oracle-base.com/articles/linux/configuring-huge-pages-for-oracle-on-linux-64.php" target="_blank" rel="nofollow">Oracle-Base Configuring HugePages for Oracle on Linux (x86-64)</a></font></p><p><font size="3">There is a tool on Ubuntu 14.04 that can be used to manage hugepages as shown below. <br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>gstanden@vmem1:~$ hugeadm</code><br /><br /><code>The program 'hugeadm' is currently not installed. You can install it by typing:</code><br /><code>sudo apt-get install hugepages</code><br /><br /><code>gstanden@vmem1:~$ sudo apt-get install hugepages</code><br /><br /><code>Reading package lists... Done</code><br /><code>Building dependency tree </code><br /><code>Reading state information... Done</code><br /><code>The following package was automatically installed and is no longer required:</code><br /><code> linux-image-extra-3.13.0-32-generic</code><br /><code>Use 'apt-get autoremove' to remove it.</code><br /><code>The following extra packages will be installed:</code><br /><code> libhugetlbfs0</code><br /><code>Suggested packages:</code><br /><code> libhugetlbfs-tests</code><br /><code>The following NEW packages will be installed:</code><br /><code> hugepages libhugetlbfs0</code><br /><code>0 upgraded, 2 newly installed, 0 to remove and 6 not upgraded.</code><br /><code>Need to get 104 kB of archives.</code><br /><code>After this operation, 348 kB of additional disk space will be used.</code><br /><code>Do you want to continue? [Y/n] y</code><br /><code>Get:1 http://us.archive.ubuntu.com/ubuntu/ trusty/universe libhugetlbfs0 amd64 2.17-0ubuntu2 [55.4 kB]</code><br /><code>Get:2 http://us.archive.ubuntu.com/ubuntu/ trusty/universe hugepages amd64 2.17-0ubuntu2 [48.4 kB]</code><br /><code>Fetched 104 kB in 0s (223 kB/s) </code><br /><code>Selecting previously unselected package libhugetlbfs0.</code><br /><code>(Reading database ... 374320 files and directories currently installed.)</code><br /><code>Preparing to unpack .../libhugetlbfs0_2.17-0ubuntu2_amd64.deb ...</code><br /><code>Unpacking libhugetlbfs0 (2.17-0ubuntu2) ...</code><br /><code>Selecting previously unselected package hugepages.</code><br /><code>Preparing to unpack .../hugepages_2.17-0ubuntu2_amd64.deb ...</code><br /><code>Unpacking hugepages (2.17-0ubuntu2) ...</code><br /><code>Processing triggers for man-db (2.6.7.1-1ubuntu1) ...</code><br /><code>Setting up libhugetlbfs0 (2.17-0ubuntu2) ...</code><br /><code>Setting up hugepages (2.17-0ubuntu2) ...</code><br /><code>Processing triggers for libc-bin (2.19-0ubuntu6.3) ...</code><br /><br /><code>gstanden@vmem1:~$ </code></font></font></div><p><font size="3">Here are some details about usage of the "hugeadm" tool. </font><font size="3"> Documentation of manpage for this tool is <a href="http://manpages.ubuntu.com/manpages/trusty/man8/hugeadm.8.html" target="_blank" rel="nofollow">here</a>.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>gstanden@vmem1:~$ hugeadm</code><br /><br /><code>hugeadm [options]</code><br /><code>options:</code><br /><code>--list-all-mounts List all current hugetlbfs mount points</code><br /><code>--pool-list List all pools</code><br /><code>--hard specified with --pool-pages-min to make</code><br /><code> multiple attempts at adjusting the pool size to the</code><br /><code> specified count on failure</code><br /><code>--pool-pages-min &lt;size|DEFAULT&gt;:[+|-]&lt;pagecount|memsize&lt;G|M|K&gt;&gt; </code><br /><code> Adjust pool 'size' lower bound</code><br /><code>--obey-mempolicy Obey the NUMA memory policy when</code><br /><code> adjusting the pool 'size' lower bound</code><br /><code>--thp-always Enable transparent huge pages always</code><br /><code>--thp-madvise Enable transparent huge pages with madvise</code><br /><code>--thp-never Disable transparent huge pages</code><br /><code>--thp-khugepaged-pages &lt;pages to scan&gt; Number of pages that khugepaged</code><br /><code> should scan on each pass</code><br /><code>--thp-khugepaged-scan-sleep &lt;milliseconds&gt; Time in ms to sleep between</code><br /><code> khugepaged passes</code><br /><code>--thp-khugepages-alloc-sleep &lt;milliseconds&gt; Time in ms for khugepaged</code><br /><code> to wait if there was a huge page allocation failure</code><br /><code>--pool-pages-max &lt;size|DEFAULT&gt;:[+|-]&lt;pagecount|memsize&lt;G|M|K&gt;&gt; </code><br /><code> Adjust pool 'size' upper bound</code><br /><code>--set-recommended-min_free_kbytes </code><br /><code> Sets min_free_kbytes to a recommended value to improve availability of</code><br /><code> huge pages at runtime</code><br /><code>--set-recommended-shmmax Sets shmmax to a recommended value to</code><br /><code> maximise the size possible for shared memory pools</code><br /><code>--set-shm-group &lt;gid|groupname&gt; Sets hugetlb_shm_group to the</code><br /><code> specified group, which has permission to use hugetlb shared memory pools</code><br /><code>--add-temp-swap[=count] Specified with --pool-pages-min to create</code><br /><code> temporary swap space for the duration of the pool resize. Default swap</code><br /><code> size is 5 huge pages. Optional arg sets size to 'count' huge pages</code><br /><code>--add-ramdisk-swap Specified with --pool-pages-min to create</code><br /><code> swap space on ramdisks. By default, swap is removed after the resize.</code><br /><code>--persist Specified with --add-temp-swap or --add-ramdisk-swap</code><br /><code> options to make swap space persist after the resize.</code><br /><code>--enable-zone-movable Use ZONE_MOVABLE for huge pages</code><br /><code>--disable-zone-movable Do not use ZONE_MOVABLE for huge pages</code><br /><code>--create-mounts Creates a mount point for each available</code><br /><code> huge page size on this system under /var/lib/hugetlbfs</code><br /><code>--create-user-mounts &lt;user&gt; </code><br /><code> Creates a mount point for each available huge</code><br /><code> page size under /var/lib/hugetlbfs/&lt;user&gt;</code><br /><code> usable by user &lt;user&gt;</code><br /><code>--create-group-mounts &lt;group&gt; </code><br /><code> Creates a mount point for each available huge</code><br /><code> page size under /var/lib/hugetlbfs/&lt;group&gt;</code><br /><code> usable by group &lt;group&gt;</code><br /><code>--create-global-mounts </code><br /><code> Creates a mount point for each available huge</code><br /><code> page size under /var/lib/hugetlbfs/global</code><br /><code> usable by anyone</code><br /><code>--max-size &lt;size&lt;G|M|K&gt;&gt; Limit the filesystem size of a new mount point</code><br /><code>--max-inodes &lt;number&gt; Limit the number of inodes on a new mount point</code><br /><code>--page-sizes Display page sizes that a configured pool</code><br /><code>--page-sizes-all Display page sizes support by the hardware</code><br /><code>--dry-run Print the equivalent shell commands for what</code><br /><code> the specified options would have done without</code><br /><code> taking any action</code><br /><code>--explain Gives a overview of the status of the system</code><br /><code> with respect to huge page availability</code><br /><code>--verbose &lt;level&gt;, -v Increases/sets tracing levels</code><br /><code>--help, -h Prints this message</code><br /><br /><code>gstanden@vmem1:~$ </code></font></font></div><font size="3"><br /></font></div><div><font size="3">Disable of transparent pages is accomplished using this tool as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ cat /sys/kernel/mm/transparent_hugepage/enabled</code><br /><code>[always] madvise never</code><br /><code>gstanden@vmem1:~$ sudo hugeadm --thp-never</code><br /><code>gstanden@vmem1:~$ cat /sys/kernel/mm/transparent_hugepage/enabled</code><br /><code>always madvise [never]</code><br /><code>gstanden@vmem1:~$ </code></font></div></font><h3><a name="TOC-Ensure-SCST-Linux-iSCSI-SAN-Space-Sufficient"></a>Ensure SCST Linux iSCSI SAN Space Sufficient<br /></h3></div><div><p><font size="3">Ran into an issue where the KVM SCST Linux SAN ran out of space on the LVM where the file-backed LUNs for SCST for this database are stored. This resulted in one of the DATA LUNs having a status of CLOSED ONLINE MEMBER but showing 0 size and other oddities and diskgroup was basically unusable although ti would mount.</font></p><p><font size="3">Turned out there was space on the VG that has somehow not been allocated, so that was fixed. Then it was necessary to add the LUN back to the diskgroup. This referenced here at the website <a href="http://itwithcoffee.blogspot.com/2014/04/asm-disk-mount-status-closed-and-header.html" target="_blank" rel="nofollow">IT with Coffee</a> was very helpful getting the LUN added back into the Normal Redundancy DATA ASM diskgroup. The command was simply as shown below.</font></p><h4><a name="TOC-alter-diskgroup-DATA-add-disk-dev-mapper-asm_disk_lxc1_data_01-force-"></a><div class="sites-codeblock sites-codesnippet-block"><span style="font-weight:normal"><font size="4"><code>alter diskgroup DATA add disk '/dev/mapper/asm_disk_lxc1_data_01' force;</code></font></span></div></h4><p><font size="3">Also, the work getting the space on the vg_scst added to lv_vmem1 is worth noting for future reference. The vgs showed 40.00 GB available on physical volume /dev/vdg (which is 100Gb size, but only 60Gb was in use, with 40Gb still free). These were the commands used to get the remaining entire space added to lv_vmem1 as shown below. I had to do it stepwise for some reason but in the end got all available free space on the PV added to the lv_vmem1. After that, the RAC database was created again, and used "Admin" management instead of "Pools" this time.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>lvextend -L+39G /dev/mapper/vg_scst-lv_vmem1</code><br /><code>resize2fs /dev/mapper/vg_scst-lv_vmem1 </code><br /><code>lvextend -l+100%FREE /dev/mapper/vg_scst-lv_vmem1</code><br /><code>resize2fs /dev/mapper/vg_scst-lv_vmem1 </code></font></font></div><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ ssh -Y -C oracle@lxcora02</code><br /><code>oracle@lxcora02's password: </code><br /><code>Last login: Thu Oct 30 00:03:20 2014 from 10.207.39.1</code><br /><code>[oracle@lxcora02 ~]$ cd database</code><br /><code>[oracle@lxcora02 database]$ ./runInstaller </code><br /><code>Starting Oracle Universal Installer...</code><br /><br /><code>Checking Temp space: must be greater than 500 MB. Actual 324014 MB Passed</code><br /><code>Checking swap space: must be greater than 150 MB. Actual 29991 MB Passed</code><br /><code>Checking monitor: must be configured to display at least 256 colors. Actual 16777216 Passed</code><br /><code>Preparing to launch Oracle Universal Installer from /tmp/OraInstall2014-10-30_11-04-43AM. Please wait ...[oracle@lxcora02 database]$ </code></font></div><p><font size="3">During install of the RAC DB, found that there was insufficient space for the RAC database in the DATA diskgroup. Here are the steps for resizing the LUNs in this particular case. The general procedure is documented <a href="../scst/scst-linux-san/resize-asm-lun.html" target="_blank">here at this blog</a>.</font></p><p><font size="3">Edit the original file used to create the LUNs to use a new "seek" value. In this case just a bit over 2X the space is desired, so change the value to "45" as shown below.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>[root@oracle651 scripts]# cat dd-create-DATA-luns.sh</code><br /><code>dd if=/dev/zero of=/scst_vmem1/AsmDat_01.img bs=512 count=0 seek=20M</code><br /><code>dd if=/dev/zero of=/scst_vmem1/AsmDat_02.img bs=512 count=0 seek=20M</code><br /><code>dd if=/dev/zero of=/scst_vmem1/AsmDat_03.img bs=512 count=0 seek=20M</code><br /><br /><code>[root@oracle651 scripts]# cp -p dd-create-DATA-luns.sh dd-extend-DATA-luns.sh</code><br /><code>[root@oracle651 scripts]# vi dd-extend-DATA-luns.sh </code><br /><code>[root@oracle651 scripts]# cat dd-extend-DATA-luns.sh </code><br /><code>dd if=/dev/zero of=/scst_vmem1/AsmDat_01.img bs=512 count=0 seek=45M</code><br /><code>dd if=/dev/zero of=/scst_vmem1/AsmDat_02.img bs=512 count=0 seek=45M</code><br /><code>dd if=/dev/zero of=/scst_vmem1/AsmDat_03.img bs=512 count=0 seek=45M</code></font></font></div><p><font size="3">Now extend the LUNs using the script as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>[root@oracle651 scripts]# ./dd-extend-DATA-luns.sh </code><br /><code>0+0 records in</code><br /><code>0+0 records out</code><br /><code>0 bytes (0 B) copied, 0.00144059 s, 0.0 kB/s</code><br /><code>0+0 records in</code><br /><code>0+0 records out</code><br /><code>0 bytes (0 B) copied, 0.000682248 s, 0.0 kB/s</code><br /><code>0+0 records in</code><br /><code>0+0 records out</code><br /><code>0 bytes (0 B) copied, 0.00102967 s, 0.0 kB/s</code></font></font></div><p><font size="3">Verify that the LUNs have been resized as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>[root@oracle651 scst_vmem1]# ls -lrt /scst_vmem1/AsmDat*</code><br /><code>-rw-r--r-- 1 root root 24159191040 Oct 30 13:50 /scst_vmem1/AsmDat_03.img</code><br /><code>-rw-r--r-- 1 root root 24159191040 Oct 30 13:50 /scst_vmem1/AsmDat_02.img</code><br /><code>-rw-r--r-- 1 root root 24159191040 Oct 30 13:50 /scst_vmem1/AsmDat_01.img</code><br /><code>[root@oracle651 scst_vmem1]# </code></font></font></div><font size="3"><br /></font></div><div><font size="3">Resync the new sizes with scstadmin as shown below, and verify status of group and target after resync operation as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 scst_vmem1]# scstadmin -resync_dev AsmDat_01</code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><br /><code>-&gt; Making requested changes.</code><br /><code> -&gt; Setting device attribute 'resync_size' to value '1' for device 'AsmDat_01': done.</code><br /><code> -&gt; Done.</code><br /><br /><code>All done.</code><br /><code>[root@oracle651 scst_vmem1]# scstadmin -resync_dev AsmDat_02</code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><br /><code>-&gt; Making requested changes.</code><br /><code> -&gt; Setting device attribute 'resync_size' to value '1' for device 'AsmDat_02': done.</code><br /><code> -&gt; Done.</code><br /><br /><code>All done.</code><br /><code>[root@oracle651 scst_vmem1]# scstadmin -resync_dev AsmDat_03</code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><br /><code>-&gt; Making requested changes.</code><br /><code> -&gt; Setting device attribute 'resync_size' to value '1' for device 'AsmDat_03': done.</code><br /><code> -&gt; Done.</code><br /><br /><code>All done.</code><br /><br /><code>[root@oracle651 scst_vmem1]# scstadmin -list_group vmem1 -driver iscsi -target iqn.2014-10.org.vmem1:oracle651.san.asm.luns2</code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><code>Assigned LUNs:</code><br /><br /><code> LUN Device </code><br /><code> --------------</code><br /><code> 1 AsmFra_01</code><br /><code> 2 AsmFra_02</code><br /><code> 3 AsmFra_03</code><br /><br /><code>Assigned Initiators:</code><br /><br /><code> Initiator</code><br /><code> -------------------------------------</code><br /><code> iqn.2014-09.org.vmem1:oracle.asm.luns</code><br /><br /><code>All done.</code><br /><code>[root@oracle651 scst_vmem1]# </code></font></div><br /></font></div><div><font size="3">Update the iSCSI client (vmem1) with the new sizes using the multipathd command: multipathd -k"resize map asm_disk_lxc1_data_01" (example).<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ sudo multipathd -k"resize map asm_disk_lxc1_data_01"</code><br /><code>fail</code><br /><code>gstanden@vmem1:~$</code></font></div><br /></font></div><div><font size="3">Trying again actually logged in as root also fails as shown below (stubbornly tried a couple of times with same result of course!)<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><br /><code>root@vmem1:~# multipathd -k</code><br /><code>multipathd&gt; resize map asm_disk_lxc1_data_01</code><br /><code>fail</code><br /><code>multipathd&gt; resize map "asm_disk_lxc1_data_01"</code><br /><code>fail</code><br /><code>multipathd&gt; exit</code><br /><code>root@vmem1:~#</code></font></div><br /></font></div><div><font size="3">Try different method as described <a href="https://sig-io.nl/?p=44" target="_blank" rel="nofollow">here at sig-io</a> as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>root@vmem1:~# blockdev --rereadpt /dev/sdt</code><br /><code>root@vmem1:~# blockdev --rereadpt /dev/sdn</code><br /><code>root@vmem1:~# blockdev --getsz /dev/sdn</code><br /><b><code>47185920</code></b><br /><code>root@vmem1:~# blockdev --getsz /dev/sdt</code><br /><code>47185920</code><br /><code>root@vmem1:</code></font></div><br /></font></div><div><font size="3">Dump and edit the mapping table as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>root@vmem1:~# dmsetup table asm_disk_lxc1_data_01 | tee asm_disk_lxc1_data_01_mapping.bak asm_disk_lxc1_data_01_mapping.cur</code><br /><code>0 20971520 multipath 0 0 2 1 round-robin 0 1 1 65:48 1000 round-robin 0 1 1 8:208 1000 </code><br /><code>root@vmem1:~# ls -lrt</code><br /><code>total 24</code><br /><code>drwxr-xr-x 2 root root 4096 Aug 16 18:11 Desktop</code><br /><code>drwxr-xr-x 2 root root 4096 Aug 16 18:21 R-Studio</code><br /><code>-rw-r--r-- 1 root root 2125 Sep 4 10:27 xamarin.gpg</code><br /><code>drwxr-xr-x 19 root root 4096 Sep 15 11:14 scst</code><br /><code>-rw-r--r-- 1 root root 88 Oct 30 14:27 asm_disk_lxc1_data_01_mapping.cur</code><br /><code>-rw-r--r-- 1 root root 88 Oct 30 14:27 asm_disk_lxc1_data_01_mapping.bak</code><br /><code>root@vmem1:~# more asm*</code><br /><code>::::::::::::::</code><br /><code>asm_disk_lxc1_data_01_mapping.bak</code><br /><code>::::::::::::::</code><br /><code>0 20971520 multipath 0 0 2 1 round-robin 0 1 1 65:48 1000 round-robin 0 1 1 8:208 1000 </code><br /><code>::::::::::::::</code><br /><code>asm_disk_lxc1_data_01_mapping.cur</code><br /><code>::::::::::::::</code><br /><code>0 20971520 multipath 0 0 2 1 round-robin 0 1 1 65:48 1000 round-robin 0 1 1 8:208 1000 </code><br /><code>root@vmem1:~# vi asm_disk_lxc1_data_01_mapping.cur</code><br /><code>root@vmem1:~# cat asm_disk_lxc1_data_01_mapping.cur</code><br /><code>0 <b>47185920</b> multipath 0 0 2 1 round-robin 0 1 1 65:48 1000 round-robin 0 1 1 8:208 1000 </code><br /><code>root@vmem1:~# </code></font></div><br /></font></div><div><font size="3">Apply the changes by reloading the edited map as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>root@vmem1:~# dmsetup suspend asm_disk_lxc1_data_01; dmsetup reload asm_disk_lxc1_data_01 asm_disk_lxc1_data_01_mapping.cur; dmsetup resume asm_disk_lxc1_data_01</code></font></div><br /></font></div><div><font size="3">Verify procedure has worked. It has!<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>root@vmem1:~# multipath -ll -v2 asm_disk_lxc1_data_01</code><br /><code>asm_disk_lxc1_data_01 (2626237633731622d) dm-11 SCST_FIO,AsmDat_01</code><br /><code><b>size=22G</b> features='0' hwhandler='0' wp=rw</code><br /><code>|-+- policy='round-robin 0' prio=1 status=active</code><br /><code>| `- 15:0:0:1 sdt 65:48 active ready running</code><br /><code>`-+- policy='round-robin 0' prio=1 status=enabled</code><br /><code> `- 14:0:0:1 sdn 8:208 active ready running</code><br /><code>root@vmem1:~# multipath -ll -v2 asm_disk_lxc1_data_02</code><br /><code>asm_disk_lxc1_data_02 (23366353036663832) dm-6 SCST_FIO,AsmDat_02</code><br /><code><b>size=10G</b> features='0' hwhandler='0' wp=rw</code><br /><code>|-+- policy='round-robin 0' prio=1 status=active</code><br /><code>| `- 15:0:0:2 sdu 65:64 active ready running</code><br /><code>`-+- policy='round-robin 0' prio=1 status=enabled</code><br /><code> `- 14:0:0:2 sdo 8:224 active ready running</code><br /><code>root@vmem1:~# </code></font></div><br /></font></div><div><font size="3">Size all other LUNs as needed using same procedure. Final results of steps are shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>root@vmem1:~# multipath -ll -v2 asm_disk_lxc1_data_01</code><br /><code>asm_disk_lxc1_data_01 (2626237633731622d) dm-11 SCST_FIO,AsmDat_01</code><br /><code><b>size=22G</b> features='0' hwhandler='0' wp=rw</code><br /><code>|-+- policy='round-robin 0' prio=1 status=active</code><br /><code>| `- 15:0:0:1 sdt 65:48 active ready running</code><br /><code>`-+- policy='round-robin 0' prio=1 status=enabled</code><br /><code> `- 14:0:0:1 sdn 8:208 active ready running</code><br /><code>root@vmem1:~# multipath -ll -v2 asm_disk_lxc1_data_02</code><br /><code>asm_disk_lxc1_data_02 (23366353036663832) dm-6 SCST_FIO,AsmDat_02</code><br /><code><b>size=22G </b>features='0' hwhandler='0' wp=rw</code><br /><code>|-+- policy='round-robin 0' prio=1 status=active</code><br /><code>| `- 15:0:0:2 sdu 65:64 active ready running</code><br /><code>`-+- policy='round-robin 0' prio=1 status=enabled</code><br /><code> `- 14:0:0:2 sdo 8:224 active ready running</code><br /><code>root@vmem1:~# multipath -ll -v2 asm_disk_lxc1_data_03</code><br /><code>asm_disk_lxc1_data_03 (23263663266376635) dm-8 SCST_FIO,AsmDat_03</code><br /><code><b>size=22G</b> features='0' hwhandler='0' wp=rw</code><br /><code>|-+- policy='round-robin 0' prio=1 status=active</code><br /><code>| `- 15:0:0:3 sdv 65:80 active ready running</code><br /><code>`-+- policy='round-robin 0' prio=1 status=enabled</code><br /><code> `- 14:0:0:3 sdp 8:240 active ready running</code><br /><code>root@vmem1:~# </code></font></div><br /></font></div><div><font size="3">Finally, resize the LUN in ASM as shown below.<br /><br /></font><div class="sites-codeblock sites-codesnippet-block"><font size="4"><br /><span style="font-family:Courier New,monospace"><code>[grid@lxcora02 ~]$ sqlplus "/ as sysasm"</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>SQL*Plus: Release 12.1.0.2.0 Production on Thu Oct 30 15:59:03 2014</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>Copyright (c) 1982, 2014, Oracle. All rights reserved.</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>Connected to:</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>With the Real Application Clusters and Automatic Storage Management options</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>SQL&gt; set linesize 200</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>SQL&gt; column path format a40</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>SQL&gt; select name, label, path, total_mb, header_status, mount_status, mode_status from v$asm_disk where name like '%DATAT%';</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>NAME    LABEL    PATH      TOTAL_MB HEADER_STATU MOUNT_S MODE_ST</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>------------------------------
 ------------------------------- 
---------------------------------------- ---------- ------------ -------
 -------</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>DATA_0000       /dev/mapper/asm_disk_lxc1_data_01  10240 MEMBER CACHED ONLINE</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>DATA_0002       /dev/mapper/asm_disk_lxc1_data_03  10240 MEMBER CACHED ONLINE</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>DATA_0001       /dev/mapper/asm_disk_lxc1_data_02  10240 MEMBER CACHED ONLINE</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>3 rows selected.</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>SQL&gt; alter diskgroup DATA resize all;</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>Diskgroup altered.</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>SQL&gt; select name, label, path, total_mb, header_status, mount_status, mode_status from v$asm_disk where name like '%DATA%';</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>NAME    LABEL    PATH      TOTAL_MB HEADER_STATU MOUNT_S MODE_ST</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>------------------------------
 ------------------------------- 
---------------------------------------- ---------- ------------ -------
 -------</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>DATA_0000       /dev/mapper/asm_disk_lxc1_data_01  23040 MEMBER CACHED ONLINE</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>DATA_0002       /dev/mapper/asm_disk_lxc1_data_03  23040 MEMBER CACHED ONLINE</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>DATA_0001       /dev/mapper/asm_disk_lxc1_data_02  23040 MEMBER CACHED ONLINE</code></span><br style="font-family:Courier New,monospace" /></font>
<font size="4"><br style="font-family:Courier New,monospace" /></font>
<font size="4"><span style="font-family:Courier New,monospace"><code>SQL&gt; </code></span></font></div></div><div><font size="3"><br /></font></div><div><font size="3">Done.<br /><br /></font></div><div><font size="3"><br />Continue with install...using DBCA this time as this is a re-do after fixes.<br /><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db1.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260107/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db1.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db2.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260108/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db2.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db3.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260108/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db3.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db4.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260108/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db4.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db5.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260109/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db5.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db6.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260109/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db6.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db7.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260109/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db7.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db8.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260109/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db8.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db9.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260109/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db9.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db11.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260108/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db11.png" /></a><br /><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db12.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260108/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db12.png" /></a><br /><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db13.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260108/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db13.png" /></a></div></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db14.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260108/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db14.png" /></a></div></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db15.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260108/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db15.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db16.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260108/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db16.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db18.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260108/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db18.png" /></a></div><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db19.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260108/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/db19.png" /></a></div><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><br /><code>[grid@lxcora03 grid]$ ./runcluvfy.sh comp scan -verbose</code><br /><br /><code>Verifying SCAN </code><br /><br /><code>Checking Single Client Access Name (SCAN)...</code><br /><code> SCAN Name Node Running? ListenerName Port Running? </code><br /><code> ---------------- ------------ ------------ ------------ ------------ ------------</code><br /><code> lxc1-scan.gns1.vmem.org lxcora03 true LISTENER_SCAN1 1521 true </code><br /><code> lxc1-scan.gns1.vmem.org lxcora02 true LISTENER_SCAN2 1521 true </code><br /><code> lxc1-scan.gns1.vmem.org lxcora02 true LISTENER_SCAN3 1521 true </code><br /><br /><code>Checking TCP connectivity to SCAN listeners...</code><br /><code> Node ListenerName TCP connectivity? </code><br /><code> ------------ ------------------------ ------------------------</code><br /><code> lxcora02 LISTENER_SCAN1 yes </code><br /><code> lxcora02 LISTENER_SCAN2 yes </code><br /><code> lxcora02 LISTENER_SCAN3 yes </code><br /><code>TCP connectivity to SCAN listeners exists on all cluster nodes</code><br /><br /><code>Checking name resolution setup for "lxc1-scan.gns1.vmem.org"...</code><br /><br /><code>Checking integrity of name service switch configuration file "/etc/nsswitch.conf" ...</code><br /><code>Checking if "hosts" entry in file "/etc/nsswitch.conf" is consistent across nodes...</code><br /><code>Checking file "/etc/nsswitch.conf" to make sure that only one "hosts" entry is defined</code><br /><code>More than one "hosts" entry does not exist in any "/etc/nsswitch.conf" file</code><br /><b><code>PRVG-2058 : "hosts" entry in the existing "/etc/nsswitch.conf" files is inconsistent</code><br /><code> "hosts" entry was found as "hosts: dns files" on nodes: lxcora03</code><br /><code> "hosts" entry was found as "hosts: dns files nisplus nis db" on nodes: lxcora02</code></b><br /><code>Check for integrity of name service switch configuration file "/etc/nsswitch.conf" failed</code><br /><br /><br /><code>Checking SCAN IP addresses...</code><br /><code>Check of SCAN IP addresses passed</code><br /><br /><code>Verification of SCAN VIP and listener setup failed</code><br /><br /><code>Verification of SCAN was unsuccessful on all the specified nodes. </code><br /><code>[grid@lxcora03 grid]$ </code></font></div><br /></font></div><div><font size="3">Cleaned up the /etc/nsswitch.conf file (removed #commented out #hosts entries) and re-run SCAN verification as shown below which is successful this time.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[grid@lxcora03 grid]$ ./runcluvfy.sh comp scan -verbose</code><br /><br /><code>Verifying SCAN </code><br /><br /><code>Checking Single Client Access Name (SCAN)...</code><br /><code> SCAN Name Node Running? ListenerName Port Running? </code><br /><code> ---------------- ------------ ------------ ------------ ------------ ------------</code><br /><code> lxc1-scan.gns1.vmem.org lxcora03 true LISTENER_SCAN1 1521 true </code><br /><code> lxc1-scan.gns1.vmem.org lxcora02 true LISTENER_SCAN2 1521 true </code><br /><code> lxc1-scan.gns1.vmem.org lxcora02 true LISTENER_SCAN3 1521 true </code><br /><br /><code>Checking TCP connectivity to SCAN listeners...</code><br /><code> Node ListenerName TCP connectivity? </code><br /><code> ------------ ------------------------ ------------------------</code><br /><code> lxcora02 LISTENER_SCAN1 yes </code><br /><code> lxcora02 LISTENER_SCAN2 yes </code><br /><code> lxcora02 LISTENER_SCAN3 yes </code><br /><code>TCP connectivity to SCAN listeners exists on all cluster nodes</code><br /><br /><code>Checking name resolution setup for "lxc1-scan.gns1.vmem.org"...</code><br /><br /><code>Checking integrity of name service switch configuration file "/etc/nsswitch.conf" ...</code><br /><code>Checking if "hosts" entry in file "/etc/nsswitch.conf" is consistent across nodes...</code><br /><code>Checking file "/etc/nsswitch.conf" to make sure that only one "hosts" entry is defined</code><br /><code>More than one "hosts" entry does not exist in any "/etc/nsswitch.conf" file</code><br /><code>All nodes have same "hosts" entry defined in file "/etc/nsswitch.conf"</code><br /><code>Check for integrity of name service switch configuration file "/etc/nsswitch.conf" passed</code><br /><br /><code> SCAN Name IP Address Status Comment </code><br /><code> ------------ ------------------------ ------------------------ ----------</code><br /><code> lxc1-scan.gns1.vmem.org 10.207.39.102 passed </code><br /><code> lxc1-scan.gns1.vmem.org 10.207.39.101 passed </code><br /><code> lxc1-scan.gns1.vmem.org 10.207.39.100 passed </code><br /><br /><code>Checking SCAN IP addresses...</code><br /><code>Check of SCAN IP addresses passed</code><br /><br /><code>Verification of SCAN VIP and listener setup passed</code><br /><br /><code>Verification of SCAN was successful. </code><br /><code>[grid@lxcora03 grid]$ </code></font></div><br />Now re-run DBCA installer verification checks.<br /><br />Run root.sh scripts at appropriate time as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora02 ~]# /u00/app/oracle/product/12.1.0/dbhome_1/root.sh</code><br /><code>Performing root user operation.</code><br /><br /><code>The following environment variables are set as:</code><br /><code> ORACLE_OWNER= oracle</code><br /><code> ORACLE_HOME= /u00/app/oracle/product/12.1.0/dbhome_1</code><br /><br /><code>Enter the full pathname of the local bin directory: [/usr/local/bin]: </code><br /><code>The contents of "dbhome" have not changed. No need to overwrite.</code><br /><code>The contents of "oraenv" have not changed. No need to overwrite.</code><br /><code>The contents of "coraenv" have not changed. No need to overwrite.</code><br /><br /><code>Entries will be added to the /etc/oratab file as needed by</code><br /><code>Database Configuration Assistant when a database is created</code><br /><code>Finished running generic part of root script.</code><br /><code>Now product-specific root actions will be performed.</code><br /><code>[root@lxcora02 ~]# ssh root@lxcora03</code><br /><code>root@lxcora03's password: </code><br /><code>Last login: Thu Oct 30 16:47:36 2014 from 10.207.39.87</code><br /><code>[root@lxcora03 ~]# /u00/app/oracle/product/12.1.0/dbhome_1/root.sh</code><br /><code>Performing root user operation.</code><br /><br /><code>The following environment variables are set as:</code><br /><code> ORACLE_OWNER= oracle</code><br /><code> ORACLE_HOME= /u00/app/oracle/product/12.1.0/dbhome_1</code><br /><br /><code>Enter the full pathname of the local bin directory: [/usr/local/bin]: </code><br /><code>The contents of "dbhome" have not changed. No need to overwrite.</code><br /><code>The contents of "oraenv" have not changed. No need to overwrite.</code><br /><code>The contents of "coraenv" have not changed. No need to overwrite.</code><br /><br /><code>Entries will be added to the /etc/oratab file as needed by</code><br /><code>Database Configuration Assistant when a database is created</code><br /><code>Finished running generic part of root script.</code><br /><code>Now product-specific root actions will be performed.</code><br /><code>[root@lxcora03 ~]#</code></font></div></font><h3><a name="TOC-Cluster-Startup-Failure-on-LXC-Node-2-lxcora03-"></a>Cluster Startup Failure on LXC Node 2 (lxcora03)</h3><font size="3">Ran into an issue with the always one LXC node failing to startup HAS and cluster intermittently failing to startup cluster services. This turned out to be caused by CSS (Cluster Synchronization Service) so switched to NTP as discussed below. However, for reference, the document I looked at was Oracle Support document: <b><i>Troubleshoot Grid Infrastructure Startup Issues (Doc ID 1050908.1) </i></b>which however turned out NOT to be the issue. I did NOT need to use any of the material in that document, but it's a potentially useful document, so it' referenced here. The main issue is to configure NTP for the LXC nodes as described in the next section.<br /></font><h3><a name="TOC-Configure-NTP-on-Ubuntu-Host"></a>Configure NTP on Ubuntu Host</h3><p><font size="3">Install NTP as described <a href="http://www.ehowstuff.com/how-to-install-and-configure-ntp-server-on-ubuntu-14-04/" target="_blank" rel="nofollow">here at eHowStuff</a> (skip the "Malaysia" part unless you happen to live in Malaysia). For my system, these were the commands used as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>gstanden@vmem1:~$ sudo apt-get install ntp -y</code></font></font></div><font size="3"><br /></font></div><div><font size="3">Then be sure that the Ubuntu host is set to use "Internet" for time sychnronization by opening up "System Settings" GUI and checking "Automatically from the internet" as shown below. If using Ubuntu Server instead of desktop, there will be a flat file to configure instead.<br /><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/ntp-ubuntu-1404-1.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260109/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/ntp-ubuntu-1404-1.png" /></a></div></font></div><div><p><font size="3">Finally, reboot the Ubuntu host and verify that NTP service starts automatically at boot as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>gstanden@vmem1:~$ ps -ef | grep ntp</code><br /><br /><code>ntp 7995 1 0 15:27 ? 00:00:00 /usr/sbin/ntpd -p /var/run/ntpd.pid -g -u 128:142</code><br /><code>gstanden 8422 7914 0 15:36 pts/9 00:00:00 grep --color=auto ntp</code><br /><br /><code>gstanden@vmem1:~$ ntpq -p</code><br /><br /><code> remote refid st t when poll reach delay offset jitter</code><br /><code>==============================================================================</code><br /><code>50.7.0.147 .INIT. 16 u - 64 0 0.000 0.000 0.000</code><br /><code>host2.kingrst.c .INIT. 16 u - 64 0 0.000 0.000 0.000</code><br /><code>bindcat.fhsu.ed .INIT. 16 u - 64 0 0.000 0.000 0.000</code><br /><code>70.35.113.43 .INIT. 16 u - 64 0 0.000 0.000 0.000</code><br /><code>golem.canonical .INIT. 16 u - 64 0 0.000 0.000 0.000</code><br /><code>10.207.39.255 .BCST. 16 u - 64 0 0.000 0.000 0.000</code><br /><code><br />gstanden@vmem1:~$ </code></font></font></div><h3><a name="TOC-Configure-NTP-on-LXC-Nodes"></a>Configure NTP on LXC Nodes</h3><p><font size="3">As noted below, ntp service is needed for time synchronization on the LXC RAC nodes as it has been found that using Cluster Synchronization Service (CSS) results in a problem where only one of the RAC nodes will startup HAS successfully (if CSS is in use). The lxcora02 node will start, but lxcora02 HAS will not, or vice versa, but not both.</font></p><p><font size="3">However, when NTP is used, both nodes start normally. Clearly, one solution would be to debug why CSS causes this problem, but here NTP is simply used to workaround this issue.</font></p><p><font size="3">The next problem that occurs is that if NTP is installed using YUM on the LXC RAC nodes, then run "chkconfig ntpd on" one finds that the NTP service immediately dies. There is an error message that appears in /var/log/messages associated with this problem, as shown below.</font><span><br /></span></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><span><code>March 23 10:44:56 ntpd [10401]: cap_set_proc () failed to drop root privileges:</code></span> <code></code> <span><code> Operation not permitted</code></span></font></div> <p><font size="3">After searching on this issue, found one hit (in French language) here which was used to solve this issue. At that referenced link, poster found that simply starting the ntpd manually works. Therefore, here is the /etc/rc.local that is being used on the LXC RAC nodes to startup ntpd at boot (successfully).</font></p><div class="sites-codeblock sites-codesnippet-block"><p><font size="4"><code>gstanden@vmem1:~$ ssh root@lxcora02</code><br /><code>root@lxcora02's password: </code><br /><code>Last login: Sat Nov 1 15:48:28 2014 from 10.207.39.88</code><br /><code>[root@lxcora02 ~]# cat /etc/rc.local</code></font></p><p><font size="4"><code>#!/bin/sh</code><br /><code>#</code><br /><code># This script will be executed *after* all the other init scripts.</code><br /><code># You can put your own initialization stuff in here if you don't</code><br /><code># want to do the full Sys V style init stuff.</code><br /><br /><code>touch /var/lock/subsys/local</code><br /><br /><code># Oracle ASM Storage</code><br /><code>chown grid:asmadmin /dev/mapper/asm_disk*</code><br /><code>chmod 0660 /dev/mapper/asm_disk*</code><br /><br /><code># NTP</code><br /><code>ntpd</code></font></p><p><font size="4"><code>[root@lxcora02 ~]# </code></font></p></div><br /></div><div><font size="3">Also, the Ubuntu host runs NTP so the Ubuntu host has been configured in the LXC RAC nodes as a local time source, and remote NTP servers have been commented out, so that the LXC nodes will get time from the Ubuntu laptop, and all 3, laptop, and both LXC RAC nodes will get the same time. The bolded entries in in the /etc/ntp.conf file on each LXC RAC node have been modified as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora02 ~]# cat /etc/ntp.conf</code><br /><br /><code># For more information about this file, see the man pages</code><br /><code># ntp.conf(5), ntp_acc(5), ntp_auth(5), ntp_clock(5), ntp_misc(5), ntp_mon(5).</code><br /><br /><code>driftfile /var/lib/ntp/drift</code><br /><br /><code># Permit time synchronization with our time source, but do not</code><br /><code># permit the source to query or modify the service on this system.</code><br /><code>restrict default kod nomodify notrap nopeer noquery</code><br /><code>restrict -6 default kod nomodify notrap nopeer noquery</code><br /><br /><code># Permit all access over the loopback interface. This could</code><br /><code># be tightened as well, but to do so would effect some of</code><br /><code># the administrative functions.</code><br /><code>restrict 127.0.0.1 </code><br /><code>restrict -6 ::1</code><br /><br /><code># Hosts on local network are less restricted.</code><br /><code>#restrict 192.168.1.0 mask 255.255.255.0 nomodify notrap</code><br /><br /><code># Use public servers from the pool.ntp.org project.</code><br /><code># Please consider joining the pool (http://www.pool.ntp.org/join.html).</code><br /><b><br /><code>server 10.207.39.1 prefer</code></b><br /><b><code># server 0.rhel.pool.ntp.org iburst</code><br /><code># server 1.rhel.pool.ntp.org iburst</code><br /><code># server 2.rhel.pool.ntp.org iburst</code><br /><code># server 3.rhel.pool.ntp.org iburst</code></b><br /><br /><code>#broadcast 192.168.1.255 autokey # broadcast server</code><br /><code>#broadcastclient   # broadcast client</code><br /><code>#broadcast 224.0.1.1 autokey  # multicast server</code><br /><code>#multicastclient 224.0.1.1  # multicast client</code><br /><code>#manycastserver 239.255.254.254  # manycast server</code><br /><code>#manycastclient 239.255.254.254 autokey # manycast client</code><br /><br /><code># Enable public key cryptography.</code><br /><code>#crypto</code><br /><br /><code>includefile /etc/ntp/crypto/pw</code><br /><br /><code># Key file containing the keys and key identifiers used when operating</code><br /><code># with symmetric key cryptography. </code><br /><code>keys /etc/ntp/keys</code><br /><br /><code># Specify the key identifiers which are trusted.</code><br /><code>#trustedkey 4 8 42</code><br /><br /><code># Specify the key identifier to use with the ntpdc utility.</code><br /><code>#requestkey 8</code><br /><br /><code># Specify the key identifier to use with the ntpq utility.</code><br /><code>#controlkey 8</code><br /><br /><code># Enable writing of statistics records.</code><br /><code>#statistics clockstats cryptostats loopstats peerstats</code><br /><code>[root@lxcora02 ~]# </code><br /></font></div><br /></font></div><div><font size="3">Once these changes are made test the ntp functionality by rebooting and testing as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora02 ~]# ntpq -p</code><br /><code> remote refid st t when poll reach delay offset jitter</code><br /><code>==============================================================================</code><br /><code>vmem1.vmem.org .INIT. 16 u - 64 0 0.000 0.000 0.000</code><br /><code>[root@lxcora02 ~]#<br /></code></font></div></font></div><div><br /></div><div><font size="3">Optionally, one could simply configure NTP on each of the LXC nodes, rather than synchronizing to the Ubuntu host.</font><br /></div><div></div><div><h3><a name="TOC-Automate-Creation-of-SCST-LUNs-on-Ubuntu-LXC-Host"></a>Automate Creation of SCST LUNs on Ubuntu LXC Host</h3><font size="3">The KVM Guest "oracle652" can be autostarted using the "virsh autostart oracle652" command, but it is also required to create the storage LUNs on the Ubuntu host server. That is what's being worked on now. Some code however was put into KVM guest oracle652 which caused it to stop booting (waiting for a sudo password). To fix this "guestfish" was used. Since this is an amazingly useful program for fixing these kinds of programs, it's documented here as shown below. (The operation done below was to edit /etc/init.d/scst file).<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ sudo guestfish -d oracle652</code><br /><br /><code>Welcome to guestfish, the guest filesystem shell for</code><br /><code>editing virtual machine filesystems and disk images.</code><br /><br /><code>Type: 'help' for help on commands</code><br /><code> 'man' to read the manual</code><br /><code> 'quit' to quit the shell</code><br /><br /><code>&gt;&lt;fs&gt; run</code><br /><code>&gt;&lt;fs&gt; list-filesystems</code><br /><code>/dev/sda1: ext4</code><br /><code>/dev/sdh1: iso9660</code><br /><code>/dev/sdh2: vfat</code><br /><code>/dev/vg_oracle651/lv_root: ext4</code><br /><code>/dev/vg_oracle651/lv_swap: swap</code><br /><code>/dev/vg_scst/lv_oracle631: ext4</code><br /><code>/dev/vg_scst/lv_oracle632: ext4</code><br /><code>/dev/vg_scst/lv_vmem1: ext4</code><br /><code>&gt;&lt;fs&gt; mount /dev/vg_oracle651/lv_root /</code><br /><code>&gt;&lt;fs&gt; vi /etc/init.d/scst</code><br /><code>&gt;&lt;fs&gt;<br /><br /></code></font></div></font><h3><a name="TOC-GNS-Configuration-Notes"></a>GNS Configuration Notes</h3><p><font size="3">Just finished working all day and pulling hair out plus cursing a bit (no one but me at home) and finally have it working. These are just some rough notes to capture the configuration files that are working for this so I have them. There were some very useful posts out on the net which I used, although in the end, the Oracle Install Guide turned out to be farily accurate. The page <a href="http://72.32.201.108/rac/Oracle_RAC_with_GNS.html" target="_blank" rel="nofollow">here at Oracle RAC with GNS</a> (the only caveat Ihave to this reference is that author named the VIP "oralab-scan" which could be a bit misleading because this VIP has nothing to do per se with the scan name except to point to GNS which resolves it. Still, the author of this page put in a wealth of details which was absolutely critical to helping get this done. Another good reference is the page at <a href="http://martincarstenbach.wordpress.com/2011/11/17/simplified-gns-setup-for-rac-11-2-0-2-and-newer/" target="_blank" rel="nofollow">Martin Bach blog here </a>. Martin Bach also has another good post <a href="http://martincarstenbach.wordpress.com/2009/10/02/build-your-own-11-2-rac-system-part-ii-dns-dhcp-for-gns/" target="_blank" rel="nofollow">here</a>.<br /></font></p><p><font size="3">The Oracle Official Documentation was quite useful as well, both the <a href="http://docs.oracle.com/database/121/CWLIN/networks.htm#CWLIN473" target="_blank" rel="nofollow">Oracle Grid Infrastructure Installation Guide12c Release 1 (12.1) for LinuxE48914-12</a> and the related manual on <a href="http://docs.oracle.com/database/121/CWADD/admin.htm#CWADD92108" target="_blank" rel="nofollow">Oracle Clusterware Administration and Deployment Guide12c Release 1 (12.1)E48819-07</a> is also helpful.</font></p><p><font size="3">Here is /etc/resolv.conf as shown below for the Ubuntu laptop host.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ cat /etc/resolv.conf</code><br /><br /><code># Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)</code><br /><code># DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN</code><br /><b><code>options attempts: 1</code><br /><code>options timeout: 1</code><br /><code>search vmem.org gns1.vmem.org</code><br /><code>nameserver 10.207.39.1</code><br /><code>nameserver 10.207.39.3</code></b><br /><br /><code>gstanden@vmem1:~$ </code><br /></font></div><h4><a name="TOC-Begin-Update-1-2014-November-4"></a>Begin Update #1 2014 November 4</h4><p><font size="3">Found that the above /etc/resolv.conf does not work as well for my purposes as the following resolv.conf, so, the following /etc/resolv.conf is now the one in use as shown below. Also shown is tne /etc/network/interfaces Ubuntu configuration file which generates this /etc/resolv.conf file at bootup. The bolded entries are the ones which are responsible for generating the required /etc/resolv.conf file.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>gstanden@vmem1:~$ cat /etc/resolv.conf</code><br /><br /><code># Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)</code><br /><code># DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN</code><br /><code>nameserver 127.0.0.1</code><br /><code>search vmem.org gns1.vmem.org</code><br /><code>gstanden@vmem1:~$ cat /etc/network/interfaces</code><br /><code># interfaces(5) file used by ifup(8) and ifdown(8)</code><br /><code>auto lo</code><br /><code>iface lo inet loopback</code><br /><b><code> dns-domain vmem.org</code><br /><code> dns-search gns1.vmem.org</code><br /><code> dns-nameserver 127.0.0.1</code></b><br /><br /><code>gstanden@vmem1:~$ </code></font></font></div><p><font size="3">Why is this better? Because it results in several resolution improvements as listed below. As far as why from an absolute DNS engineering perspective, still working to understand that one. The empirical results however are excellent with this modification, and it meets all resolution requirements, so it is in use now.<br /></font></p><ol><li><font size="3">Both "lxc1-scan" and "lxc1-scan.gns1.vmem.org" resolve equally well and instantly</font></li><li><font size="3">With the previous /etc/resolv.conf, "lxc1-scan" did not resolve, and the FQDN version was slightly delayed in resolution by a few seconds</font></li><li><font size="3">Internet firefox page loads on the Ubuntu host are very fast with this new /etc/resolv.conf</font>.</li></ol><h4><a name="TOC-End-Update-1-2014-November-4"></a>End Update #1 2014 November 4<br /></h4><p><font size="3">Here is /etc/nsswitch.conf for the Ubuntu laptop host</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>gstanden@vmem1:~$ cat /etc/nsswitch.conf </code><br /><code># /etc/nsswitch.conf</code><br /><code>#</code><br /><code># Example configuration of GNU Name Service Switch functionality.</code><br /><code># If you have the `glibc-doc-reference' and `info' packages installed, try:</code><br /><code># `info libc "Name Service Switch"' for information about this file.</code><br /><br /><code>passwd: compat</code><br /><code>group: compat</code><br /><code>shadow: compat</code><br /><br /><br /><code>#hosts: dns files mdns4_minimal [NOTFOUND=return]</code><br /><code>hosts: files dns nis</code><br /><br /><code>networks: files</code><br /><br /><code>protocols: db files</code><br /><code>services: db files</code><br /><code>ethers: db files</code><br /><code>rpc: db files</code><br /><br /><code>netgroup: nis</code><br /><code>gstanden@vmem1:~$ </code></font></font></div><font size="3"><br /></font></div><div><font size="3">Here is the /etc/resolv.conf for lxcora02 as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora02 ~]# cat /etc/resolv.conf</code><br /><br /><code>options attempts:2 timeout:1</code><br /><code>; generated by /sbin/dhclient-script</code><br /><code>search vmem.org gns1.vmem.org</code><br /><code>nameserver 10.207.39.3</code><br /><code>nameserver 10.207.39.1</code><br /><br /><code>[root@lxcora02 ~]# </code></font></div><br /></font></div><div><font size="3">And here is /etc/resolv.conf for lxcora03 as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora03 ~]# cat /etc/resolv.conf</code><br /><br /><code>options attempts:2 timeout:1 </code><br /><code>; generated by /sbin/dhclient-script</code><br /><code>search vmem.org gns1.vmem.org</code><br /><code>nameserver 10.207.39.3</code><br /><code>nameserver 10.207.39.1</code><br /><br /><code>[root@lxcora03 ~]# </code></font></div><br /></font></div><div><font size="3">The forward zone file for the domain of the GNS ASM Flex Cluster as shown below. The lines added for GNS are shown in <b>bold</b>. <br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>root@vmem1:/var/lib/bind# named-checkzone vmem.org fwd.vmem.org</code><br /><br /><code>zone vmem.org/IN: loaded serial 1411021420</code><br /><code>OK</code><br /><br /><code>root@vmem1:/var/lib/bind# pwd</code><br /><code>/var/lib/bind</code><br /><br /><code>root@vmem1:/var/lib/bind# ls -l fwd.vmem.org</code><br /><code>-rw-r--r-- 1 bind bind 1096 Nov 2 14:20 fwd.vmem.org</code><br /><br /><code>root@vmem1:/var/lib/bind# named-checkzone vmem.org fwd.vmem.org</code><br /><br /><code>zone vmem.org/IN: loaded serial 1411021420</code><br /><code>OK</code><br /><br /><code>root@vmem1:/var/lib/bind# cat fwd.vmem.org</code><br /><br /><code>$ORIGIN .</code><br /><code>$TTL 86400 ; 1 day</code><br /><code>vmem.org  IN SOA vmem1.vmem.org. postmaster.vmem.org. (</code><br /><code>    1411021420 ; serial</code><br /><code>    60 ; refresh (1 minute)</code><br /><code>    1800 ; retry (30 minutes)</code><br /><code>    604800 ; expire (1 week)</code><br /><code>    86400 ; minimum (1 day)</code><br /><code>    )</code><br /><code>   <span> </span><span> </span><span> </span> NS vmem1.vmem.org.</code><br /><code>$ORIGIN vmem.org.</code><br /><code>_sflow._udp  TXT "txtvers=1" "polling=20" "sampling=512"</code><br /><code>   SRV 0 0 6343 vmem1</code><br /><code>$TTL 3600 ; 1 hour</code><br /><code>lxcora01  <span> </span><span> </span> A 10.207.39.85</code><br /><code>   <span> </span><span> </span>TXT "001060b0cef034d0d8b3ec569ea6615637"</code><br /><code>lxcora02  <span> </span><span> </span> A 10.207.39.87</code><br /><code>   <span> </span><span> </span>TXT "001d6eb17bf9f9081897f98548b528bfee"</code><br /><code>lxcora03  <span> </span><span> </span> A 10.207.39.88</code><br /><code>   <span> </span><span> </span>TXT "0084a3923f9bbe6559acbb98034af0c10a"</code><br /><code>$TTL 86400 ; 1 day</code><br /><code>lxcora1   <span> </span><span> </span>A 10.207.39.79</code><br /><code>$TTL 3600 ; 1 hour</code><br /><code>lxcora3   <span> </span><span> </span>A 10.207.39.83</code><br /><code>   <span> </span><span> </span>TXT "007e7554cced9024a1bac46cc4370293c6"</code><br /><code>lxcora5   <span> </span><span> </span>A 10.207.39.84</code><br /><code>   <span> </span><span> </span>TXT "0092ff209913ebc9ca832c943e48eff86f"</code><br /><code>$TTL 86400 ; 1 day</code><br /><code>oracle631  <span> </span><span> </span>A 10.207.39.72</code><br /><code>oracle632  <span> </span><span> </span>A 10.207.39.76</code><br /><code>oracle652  <span> </span><span> </span>A 10.207.39.74</code><br /><code>vmem1   <span> </span><span> </span>A 10.207.39.1</code><br /><b><code>lxc1-gns-vip.vmem.org. A 10.207.39.3</code></b><br /><code>$TTL 3600 ; 1 hour</code><br /><code>vmem2   <span> </span><span> </span>A 10.207.39.81</code><br /><code>   <span> </span> TXT "3118a6c1688c312b822454df8baa10bfff"</code><br /><b><code>$ORIGIN gns1.vmem.org.</code><br /><code>@ <span> </span><span> <span> </span><span></span></span>IN NS lxc1-gns-vip.vmem.org.</code><br /></b><br /><code>root@vmem1:/var/lib/bind#<br /><br /></code></font></div></font><br /><font size="3"><font size="3">Note that "<b>lxc1-gns-vip</b>" is a COMPLETELY ARBITRARY
 choice of name (although the domain is not arbitrary). If we look at a
 table showing the choices that were made at install time for GNS it can
 be seen that that DNS name does not appear anywhere in the installed 
configuration. It is just literally a VIP. It could just as easily 
have been called "lxc1" (i.e. FQDN "lxc1-gns-vip").</font> For example, here is the table of relevant values for this GNS setup. The first row is this system just built. The second row are the values Martin Bach used, to help see the way the setup goes. I've constructed this table from the references that I used to help figure this out (the last column "Source" gives the link to the referenced webpage work). The table should help to understand how these diffrent authors completed the same task successfully to configure GNS.<br /><br /></font><font size="3"><table border="1" bordercolor="#888" cellspacing="0" style="border-collapse:collapse;border-color:rgb(136,136,136);border-width:1px"><tbody><tr><td style="text-align:center;width:99px;height:57px"><b><br /><br />Domain</b></td><td style="text-align:center;width:148px;height:57px"><b><br />GNS<br />Subdomain</b><br /></td><td style="width:148px;height:57px"><b><br /></b><div style="text-align:center"><b>Delegated</b><br /><b>Subdomain</b><br /></div></td><td style="text-align:center;width:90px;height:57px"><br /><b>GNS<br />VIP</b><br /></td><td style="text-align:center;width:211px;height:57px"><b><br />SCAN<br />Name<br /></b></td><td style="text-align:center;width:141px;height:57px">GNS Internal VIPs<br /></td><td style="text-align:center;width:55px;height:57px"><b><br />Cluster<br />Name<br /></b></td><td style="text-align:center;width:115px;height:57px"><b>GNS<br />VIP<br />Address<br /></b></td><td style="text-align:center;width:49px;height:57px"><br /><b>mDNS<br />Port</b><br /></td><td style="text-align:center;width:41px;height:57px"><br /><b>DNS<br />Port</b><br /></td><td style="width:97px;height:57px"><br /><br /><div style="text-align:center">Source<br /></div></td></tr><tr><td style="text-align:center;width:99px;height:57px">vmem.org</td><td style="width:148px;height:57px">gns1.vmem.org</td><td style="width:148px;height:57px">gns1.vmem.org</td><td style="width:90px;height:57px">lxc1-gns-vip</td><td style="width:211px;height:57px;text-align:center">lxc1-scan.gns1.vmem.org</td><td style="text-align:center;width:141px;height:57px">lxc1-scan1-vip<br />lxc1-scan2.vip<br />lxc1-scan3-vip<br /></td><td style="text-align:center;width:55px;height:57px">lxc1</td><td style="text-align:center;width:115px;height:57px">10.207.39.3</td><td style="text-align:center;width:49px;height:57px">5353</td><td style="text-align:center;width:41px;height:57px">53</td><td style="width:97px;height:57px"><br /><div style="text-align:center"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html" target="_blank">Gilbert Standen</a><br /></div></td></tr><tr><td style="text-align:center;width:99px;height:57px">localdomain</td><td style="width:148px;height:57px">rac.localdomain</td><td style="width:148px;height:57px">rac.localdomain</td><td style="text-align:center;width:90px;height:57px">gns</td><td style="text-align:center;width:211px;height:57px">gnsclu-scan.rac.localdomain<br /></td><td style="text-align:center;width:141px;height:57px">gnsclu-scan1-vip<br /><font size="3">gnsclu-scan2-vip<br /></font><font size="3">gnsclu-scan3-vip</font><br /></td><td style="width:55px;height:57px">gnsclu</td><td style="text-align:center;width:115px;height:57px">192.168.99.150</td><td style="text-align:center;width:49px;height:57px">5353<span> </span><span> </span></td><td style="text-align:center;width:41px;height:57px">53</td><td style="width:97px;height:57px"><div style="text-align:center"><br /><a href="http://martincarstenbach.wordpress.com/2011/11/17/simplified-gns-setup-for-rac-11-2-0-2-and-newer/" target="_blank" rel="nofollow">Martin Bach</a><br /></div></td></tr><tr><td style="text-align:center;width:99px;height:38px">example.com</td><td style="text-align:center;width:148px;height:38px">oralab.example.com</td><td style="text-align:center;width:148px;height:38px">oralab.example.com</td><td style="text-align:center;width:90px;height:38px">oralab-gns</td><td style="text-align:center;width:211px;height:38px">oralab-scan.oralab.example.com</td><td style="width:141px;height:38px;text-align:center">oralab-scan1<br />oralab-scan2<br />oralab-scan3<br /></td><td style="width:55px;height:38px;text-align:center">oralab</td><td style="width:115px;height:38px;text-align:center">192.168.128.35</td><td style="width:49px;height:38px">5353</td><td style="width:41px;height:38px;text-align:center">53</td><td style="text-align:center;width:97px;height:38px"><a href="http://72.32.201.108/rac/Oracle_RAC_with_GNS.html" target="_blank" rel="nofollow">Mystery Author</a><br /></td></tr><tr><td style="width:99px;height:19px"></td><td style="width:148px;height:19px"></td><td style="width:148px;height:19px"></td><td style="width:90px;height:19px"></td><td style="width:211px;height:19px"></td><td style="width:141px;height:19px"></td><td style="width:55px;height:19px"></td><td style="width:115px;height:19px"></td><td style="width:49px;height:19px"></td><td style="width:41px;height:19px"></td><td style="width:97px;height:19px"></td></tr><tr><td style="width:99px;height:19px"></td><td style="width:148px;height:19px"></td><td style="width:148px;height:19px"></td><td style="width:90px;height:19px"></td><td style="width:211px;height:19px"></td><td style="width:141px;height:19px"></td><td style="width:55px;height:19px"></td><td style="width:115px;height:19px"></td><td style="width:49px;height:19px"></td><td style="width:41px;height:19px"></td><td style="width:97px;height:19px"></td></tr></tbody></table><br /></font></div><div><font size="3">There are some differences worth noting and possibly trying to resolve as to how these configurations differ slightly and which, if any, is "better" or if they are all equivalently "good" (i.e all of these configurations work so all roads lead to Rome as they say).<br /><br /></font></div><div><font size="3">One slight difference between my configuration and Martin Bach is in the DNS forward lookup zone file. Here are my entries to that file as shown below (showing just the GNS lines condensed for clariry).<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>lxc1-gns-vip.vmem.org. A 10.207.39.3</code><br /><code>$ORIGIN gns1.vmem.org.</code><br /><code>@ IN  NS lxc1-gns-vip.vmem.org.</code></font></div><br /></font></div><div><font size="3">Here is what Martin Bach used as shown below. Note that Martin's version has an "IN" on the "A" record line. Need to so some additional research. I went with not using the "A" record because the checkzone program did not like the "A" record in there (as shown further below).<br /></font></div><div><br /></div><div><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>$ORIGIN rac.localdomain.</code><br /><code>@       IN      NS      gns.rac.localdomain.</code><br /><code>gns.rac.localdomain.    IN      A       192.168.99.150</code></font></div></div><div></div><br /><br /><div><font size="3">Tried checkzone on the fwd.vmem.org both with and without the "IN" on the "A" record line, and both versions passed, so guess that this is options, but note to self need to understand better what "IN" an "A" denote in forward zone files.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><br /><code>root@vmem1:/var/lib/bind# named-checkzone vmem.org fwd.vmem.org</code><br /><code>zone vmem.org/IN: loaded serial 1411021420</code><br /><code>OK</code><br /><code>root@vmem1:/var/lib/bind# vi fwd.vmem.org</code><br /><code>root@vmem1:/var/lib/bind# named-checkzone vmem.org fwd.vmem.org</code><br /><code>zone vmem.org/IN: loaded serial 1411021420</code><br /><code>OK</code></font></div><br />Recall that column 5 counting from the left is set at install time as shown below. For example, "lxc1-scan" was used here. The non-advanced install will always set the scan name to "clustername-scan" but in the advanced install as shown below, it looks possible to have a scan that does not include the Cluster Name (bit would not recommend doing this).<br /><br /><div style="display:block;text-align:left"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-4.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480259786/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers/asmflex-4.png" /></a></div><br /></font></div><div><font size="3">Similar to "Mystery Author" the dig lookups can be run to verify correct DNS function as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ dig lxc1-gns-vip.vmem.org</code><br /><br /><code>; &lt;&lt;&gt;&gt; DiG 9.9.5-3-Ubuntu &lt;&lt;&gt;&gt; lxc1-gns-vip.vmem.org</code><br /><code>;; global options: +cmd</code><br /><code>;; Got answer:</code><br /><code>;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 62496</code><br /><code>;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 1, ADDITIONAL: 2</code><br /><br /><code>;; OPT PSEUDOSECTION:</code><br /><code>; EDNS: version: 0, flags:; udp: 4096</code><br /><code>;; QUESTION SECTION:</code><br /><code>;lxc1-gns-vip.vmem.org.  IN A</code><br /><br /><b><code>;; ANSWER SECTION:</code><br /><code>lxc1-gns-vip.vmem.org. 86400 IN A 10.207.39.3</code></b><br /><br /><code>;; AUTHORITY SECTION:</code><br /><code>vmem.org.  86400 IN NS vmem1.vmem.org.</code><br /><br /><code>;; ADDITIONAL SECTION:</code><br /><code>vmem1.vmem.org.  86400 IN A 10.207.39.1</code><br /><br /><code>;; Query time: 0 msec</code><br /><code>;; SERVER: 10.207.39.1#53(10.207.39.1)</code><br /><code>;; WHEN: Sun Nov 02 18:35:57 CST 2014</code><br /><code>;; MSG SIZE rcvd: 102</code></font></div><br /></font></div><div><font size="3">And for the reverse lookup as shown below.<br /></font></div><div><font size="3"><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ dig -x 10.207.39.3</code><br /><br /><code>; &lt;&lt;&gt;&gt; DiG 9.9.5-3-Ubuntu &lt;&lt;&gt;&gt; -x 10.207.39.3</code><br /><code>;; global options: +cmd</code><br /><code>;; Got answer:</code><br /><code>;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 53494</code><br /><code>;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 1, ADDITIONAL: 2</code><br /><br /><code>;; OPT PSEUDOSECTION:</code><br /><code>; EDNS: version: 0, flags:; udp: 4096</code><br /><code>;; QUESTION SECTION:</code><br /><code>;3.39.207.10.in-addr.arpa. IN PTR</code><br /><br /><b><code>;; ANSWER SECTION:</code><br /><code>3.39.207.10.in-addr.arpa. 86400 IN PTR lxc1-gns-vip.vmem.org.</code></b><br /><br /><code>;; AUTHORITY SECTION:</code><br /><code>39.207.10.in-addr.arpa. 86400 IN NS vmem1.vmem.org.</code><br /><br /><code>;; ADDITIONAL SECTION:</code><br /><code>vmem1.vmem.org.  86400 IN A 10.207.39.1</code><br /><br /><code>;; Query time: 0 msec</code><br /><code>;; SERVER: 10.207.39.1#53(10.207.39.1)</code><br /><code>;; WHEN: Sun Nov 02 18:36:12 CST 2014</code><br /><code>;; MSG SIZE rcvd: 124</code><br /><br /><code>gstanden@vmem1:~$</code></font></div></font></div><div><font size="3"><br />These values can be checked using some utilities after installation as shown below (here run from lxcora02).<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[grid@lxcora02 grid]$ ./runcluvfy.sh comp gns -postcrsinst -verbose</code><br /><br /><code>Verifying GNS integrity </code><br /><br /><code>Checking GNS integrity...</code><br /><code>Checking if the GNS subdomain name is valid...</code><br /><code>The GNS subdomain name "gns1.vmem.org" is a valid domain name</code><br /><code>Checking if the GNS VIP belongs to same subnet as the public network...</code><br /><code>Public network subnets "10.207.39.0" match the GNS VIP "10.207.39.3"</code><br /><code>Checking if the GNS VIP is a valid address...</code><br /><code>GNS VIP "10.207.39.3" resolves to a valid IP address</code><br /><code>Checking the status of GNS VIP...</code><br /><code>Checking if FDQN names for domain "gns1.vmem.org" are reachable</code><br /><br /><code>GNS resolved IP addresses are reachable</code><br /><br /><code>GNS resolved IP addresses are reachable</code><br /><br /><code>GNS resolved IP addresses are reachable</code><br /><code>Checking status of GNS resource...</code><br /><code> Node Running? Enabled? </code><br /><code> ------------ ------------------------ ------------------------</code><br /><code> lxcora02 no yes </code><br /><code> lxcora03 yes yes </code><br /><br /><code>GNS resource configuration check passed</code><br /><code>Checking status of GNS VIP resource...</code><br /><code> Node Running? Enabled? </code><br /><code> ------------ ------------------------ ------------------------</code><br /><code> lxcora02 no yes </code><br /><code> lxcora03 yes yes </code><br /><br /><code>GNS VIP resource configuration check passed.</code><br /><br /><code>GNS integrity check passed</code><br /><br /><code>Verification of GNS integrity was successful. </code><br /><br /><code>[grid@lxcora02 grid]$ </code></font></div><br /></font></div><div><font size="3">Here is the same check run from lxcora03 as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[grid@lxcora03 grid]$ ./runcluvfy.sh comp gns -postcrsinst -verbose</code><br /><br /><code>Verifying GNS integrity </code><br /><br /><code>Checking GNS integrity...</code><br /><code>Checking if the GNS subdomain name is valid...</code><br /><code>The GNS subdomain name "gns1.vmem.org" is a valid domain name</code><br /><code>Checking if the GNS VIP belongs to same subnet as the public network...</code><br /><code>Public network subnets "10.207.39.0" match the GNS VIP "10.207.39.3"</code><br /><code>Checking if the GNS VIP is a valid address...</code><br /><code>GNS VIP "10.207.39.3" resolves to a valid IP address</code><br /><code>Checking the status of GNS VIP...</code><br /><code>Checking if FDQN names for domain "gns1.vmem.org" are reachable</code><br /><br /><code>GNS resolved IP addresses are reachable</code><br /><br /><code>GNS resolved IP addresses are reachable</code><br /><br /><code>GNS resolved IP addresses are reachable</code><br /><code>Checking status of GNS resource...</code><br /><code> Node Running? Enabled? </code><br /><code> ------------ ------------------------ ------------------------</code><br /><code> lxcora02 no yes </code><br /><code> lxcora03 yes yes </code><br /><br /><code>GNS resource configuration check passed</code><br /><code>Checking status of GNS VIP resource...</code><br /><code> Node Running? Enabled? </code><br /><code> ------------ ------------------------ ------------------------</code><br /><code> lxcora02 no yes </code><br /><code> lxcora03 yes yes </code><br /><br /><code>GNS VIP resource configuration check passed.</code><br /><br /><code>GNS integrity check passed</code><br /><br /><code>Verification of GNS integrity was successful. </code><br /><br /><code>[grid@lxcora03 grid]$ </code></font></div><br />Also, there is an srvctl command that can be used as shown below from node lxcora02.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[grid@lxcora02 grid]$ srvctl config gns -a</code><br /><br /><code>GNS is enabled.</code><br /><code>GNS is listening for DNS server requests on port 53</code><br /><code>GNS is using port 5353 to connect to mDNS</code><br /><code>GNS status: OK</code><br /><code>Domain served by GNS: gns1.vmem.org</code><br /><code>GNS version: 12.1.0.2.0</code><br /><code>Globally unique identifier of the cluster where GNS is running: 381c21634d685f94ffd391a8528e606a</code><br /><code>Name of the cluster where GNS is running: lxc1</code><br /><code>Cluster type: server.</code><br /><code>GNS log level: 1.</code><br /><code>GNS listening addresses: tcp://10.207.39.3:11244.</code><br /><code>GNS is individually enabled on nodes: </code><br /><code>GNS is individually disabled on nodes: </code><br /><br /><code>[grid@lxcora02 grid]$</code></font></div><br /></font></div><div><font size="3">The output of "crsctl stat res -t" also shows GNS status as shown below in bold.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><br /><code>[grid@lxcora03 ~]$ crsctl stat res -t</code><br /><code>--------------------------------------------------------------------------------</code><br /><code>Name Target State Server State details </code><br /><code>--------------------------------------------------------------------------------</code><br /><code>Local Resources</code><br /><code>--------------------------------------------------------------------------------</code><br /><code>ora.ASMNET1LSNR_ASM.lsnr</code><br /><code> ONLINE ONLINE lxcora02 STABLE</code><br /><code> ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.DATA.dg</code><br /><code> ONLINE ONLINE lxcora02 STABLE</code><br /><code> ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.FRA.dg</code><br /><code> ONLINE ONLINE lxcora02 STABLE</code><br /><code> ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.IOPS.dg</code><br /><code> ONLINE ONLINE lxcora02 STABLE</code><br /><code> ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.LISTENER.lsnr</code><br /><code> ONLINE ONLINE lxcora02 STABLE</code><br /><code> ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.SYSTEMDG.dg</code><br /><code> ONLINE ONLINE lxcora02 STABLE</code><br /><code> ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.UNDO1.dg</code><br /><code> ONLINE ONLINE lxcora02 STABLE</code><br /><code> ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.net1.network</code><br /><code> ONLINE ONLINE lxcora02 STABLE</code><br /><code> ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.ons</code><br /><code> ONLINE ONLINE lxcora02 STABLE</code><br /><code> ONLINE ONLINE lxcora03 STABLE</code><br /><code>--------------------------------------------------------------------------------</code><br /><code>Cluster Resources</code><br /><code>--------------------------------------------------------------------------------</code><br /><code>ora.LISTENER_SCAN1.lsnr</code><br /><code> 1 ONLINE ONLINE lxcora02 STABLE</code><br /><code>ora.LISTENER_SCAN2.lsnr</code><br /><code> 1 ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.LISTENER_SCAN3.lsnr</code><br /><code> 1 ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.MGMTLSNR</code><br /><code> 1 ONLINE ONLINE lxcora03 169.254.28.2 192.210</code><br /><code> .39.11 192.211.39.11</code><br /><code> ,STABLE</code><br /><code>ora.asm</code><br /><code> 1 ONLINE ONLINE lxcora02 Started,STABLE</code><br /><code> 2 ONLINE ONLINE lxcora03 Started,STABLE</code><br /><code> 3 OFFLINE OFFLINE STABLE</code><br /><code>ora.cvu</code><br /><code> 1 ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.gns</code><br /><code> 1 ONLINE ONLINE lxcora03 STABLE</code><br /><b><code>ora.gns.vip</code><br /><code> 1 ONLINE ONLINE lxcora03 STABLE</code></b><br /><code>ora.lxcora02.vip</code><br /><code> 1 ONLINE ONLINE lxcora02 STABLE</code><br /><code>ora.lxcora03.vip</code><br /><code> 1 ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.mgmtdb</code><br /><code> 1 ONLINE ONLINE lxcora03 Open,STABLE</code><br /><code>ora.oc4j</code><br /><code> 1 ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.scan1.vip</code><br /><code> 1 ONLINE ONLINE lxcora02 STABLE</code><br /><code>ora.scan2.vip</code><br /><code> 1 ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.scan3.vip</code><br /><code> 1 ONLINE ONLINE lxcora03 STABLE</code><br /><code>ora.vmem1.db</code><br /><code> 1 ONLINE ONLINE lxcora02 Open,STABLE</code><br /><code> 2 ONLINE ONLINE lxcora03 Open,STABLE</code><br /><code>--------------------------------------------------------------------------------</code><br /><code>[grid@lxcora03 ~]$ </code></font></div><br /></font></div><div><font size="3">There are alot of other options that can be run on the srvctl command as shown below for GNS verification and info.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[grid@lxcora03 ~]$ srvctl config gns -help</code><br /><br /><code>Displays the configuration information for the GNS daemon.</code><br /><br /><code>Usage: srvctl config gns [-detail] [-subdomain] [-multicastport] [-node &lt;node_name&gt;] [-port] [-status] [-version] [-query &lt;name&gt;] [-list] [-clusterguid] [-clustername] [-clustertype] [-loglevel] [-network] [-verbose]</code><br /><code> -detail Print detailed configuration information</code><br /><code> -subdomain Display subdomain served by GNS</code><br /><code> -multicastport Display the port on which the GNS daemon is listening for multicast requests</code><br /><code> -node &lt;node_name&gt; Display the configuration information for GNS on the specified node.</code><br /><code> -port Display the port which the GNS daemon uses to communicate with the DNS server.</code><br /><code> -network Display network on which GNS is listening</code><br /><code> -status Display the status of GNS</code><br /><code> -version Display the version of GNS</code><br /><code> -query &lt;name&gt; Query GNS for the records belonging to a name.</code><br /><code> -list List all records in GNS.</code><br /><code> -clusterguid Display the globally unique identifier of the cluster where GNS is running</code><br /><code> -clustername Display the name of the cluster where GNS is running</code><br /><code> -clustertype Display the type of configuration of GNS on this cluster</code><br /><code> -loglevel Print the log level of the GNS</code><br /><code> -verbose Verbose output</code><br /><code> -help Print usage</code><br /><code>[grid@lxcora03 ~]$ srvctl config gns -clustertype</code></font></div><br /></font></div><div><font size="3">Connecting to the database from Ubuntu host laptop.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><br /><code>[oracle@lxcora02 ~]$ sqlplus system/Violin#1@//lxc1-scan.gns1.vmem.org:1521/VMEM1</code><br /><br /><code>SQL*Plus: Release 12.1.0.2.0 Production on Mon Nov 3 00:29:48 2014</code><br /><br /><code>Copyright (c) 1982, 2014, Oracle. All rights reserved.</code><br /><br /><code>Last Successful login time: Sun Nov 02 2014 21:28:06 -05:00</code><br /><br /><code>Connected to:</code><br /><code>Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production</code><br /><code>With the Partitioning, Real Application Clusters, Automatic Storage Management, OLAP,</code><br /><code>Advanced Analytics and Real Application Testing options</code><br /><br /><code>SQL&gt; select name, open_mode from v$database;</code><br /><br /><code>NAME  OPEN_MODE</code><br /><code>--------- --------------------</code><br /><code>VMEM1  READ WRITE</code><br /><br /><code>SQL&gt; exit</code><br /><code>Disconnected from Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production</code><br /><code>With the Partitioning, Real Application Clusters, Automatic Storage Management, OLAP,</code><br /><code>Advanced Analytics and Real Application Testing options</code><br /><code>[oracle@lxcora02 ~]$ </code></font></div></font><h3><a name="TOC-Connect-to-DB-from-Ubuntu-Host"></a>Connect to DB from Ubuntu Host</h3><p><font size="3">The database is accessible from the Ubuntu host using the instantclient software from Oracle (free). Instructions on how to obtain and install the software are here. Connecting to the database using Oracle Instantclient is shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>gstanden@vmem1:~$ sqlplus system/Violin#1@//lxc1-scan.gns1.vmem.org:1521/VMEM1</code><br /><br /><code>SQL*Plus: Release 12.1.0.2.0 Production on Mon Nov 3 12:05:55 2014</code><br /><br /><code>Copyright (c) 1982, 2014, Oracle. All rights reserved.</code><br /><br /><code>Last Successful login time: Mon Nov 03 2014 09:41:48 -06:00</code><br /><br /><code>Connected to:</code><br /><code>Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production</code><br /><code>With the Partitioning, Real Application Clusters, Automatic Storage Management, OLAP,</code><br /><code>Advanced Analytics and Real Application Testing options</code><br /><br /><code>SQL&gt; exit</code><br /><code>Disconnected from Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production</code><br /><code>With the Partitioning, Real Application Clusters, Automatic Storage Management, OLAP,</code><br /><code>Advanced Analytics and Real Application Testing options</code><br /><code>gstanden@vmem1:~$ sqlplus system/Violin#1@//lxc1-scan.gns1.vmem.org:1521/VMEM1</code><br /><br /><code>SQL*Plus: Release 12.1.0.2.0 Production on Mon Nov 3 14:27:21 2014</code><br /><br /><code>Copyright (c) 1982, 2014, Oracle. All rights reserved.</code><br /><br /><code>Last Successful login time: Mon Nov 03 2014 12:05:57 -06:00</code><br /><br /><code>Connected to:</code><br /><code>Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production</code><br /><code>With the Partitioning, Real Application Clusters, Automatic Storage Management, OLAP,</code><br /><code>Advanced Analytics and Real Application Testing options</code><br /><br /><code>SQL&gt; select name, open_mode from v$database;</code><br /><br /><code>NAME  OPEN_MODE</code><br /><code>--------- --------------------</code><br /><code>VMEM1  READ WRITE</code><br /><br /><code>SQL&gt; select instance_name from v$instance;</code><br /><br /><code>INSTANCE_NAME</code><br /><code>----------------</code><br /><code>VMEM11</code><br /><br /><code>SQL&gt; exit</code><br /><code>Disconnected from Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production</code><br /><code>With the Partitioning, Real Application Clusters, Automatic Storage Management, OLAP,</code><br /><code>Advanced Analytics and Real Application Testing options</code><br /><code>gstanden@vmem1:~$ </code></font></font></div><font size="3"><br /></font><h3><a name="TOC-1"></a><br /></h3></div><div><font size="3"><br /></font></div><div><font size="3"><br /><br /><br /></font></div><div></div><div><br /><br /><br /><br /><br /><br /><br /></div><div><div><div class="site-code-embed-container" data-code="&lt;script&gt;&#xA;  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){&#xA;  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),&#xA;  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)&#xA;  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');&#xA;&#xA;  ga('create', 'UA-54224306-1', 'auto');&#xA;  ga('send', 'pageview');&#xA;&#xA;&lt;/script&gt;" data-scrollable="true" style="display:block;float:left;width:480px;height:320px;"></div></div><br /><br /><br /></div><div><p><br /></p></div><div><font size="3"><br /></font></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-subfooter"><div class="sites-subfooter-content"><br /></div></div>
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://accounts.google.com/ServiceLogin?continue=https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers&amp;service=jotspot">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com/site">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/c9c36f/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/a/orabuntu-lxc.com/brandydandyoracle/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("2bd", "Navigation", true);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_2bd');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvbsUtc3zC_LBoVbZyRGtWgFMw4Ymf-i3viiAJfdm0tZe9QhJn8cESI70F9CZcH-tMiUOtbrqYx1t-5JD4ZcGDd3eiARQoos-HGwt9fqPedJPAmoAFuhGpuIHlzv5NOMoSUm48yfZ13Q_ndXLn4MTQm_ftSsQ/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([1109635200000, 1128902400000, 1130657000000, 1143333000000, 1143806400000, 1145000000000, 1146380000000, 1152489600000, 1159800000000, 1159500000000, 1162095000000, 1162075000000, 1162105500000]);
    gsites.Xhr.send('https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<script type="text/javascript">
          sites.codeembed.init();
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
