<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { /*

Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/
(function(){function e(g){this.t={};this.tick=function(h,k,f){this.t[h]=[void 0!=f?f:(new Date).getTime(),k];if(void 0==f)try{window.console.timeStamp("CSI/"+h)}catch(m){}};this.getStartTickTime=function(){return this.t.start[0]};this.tick("start",null,g)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var l=0<d?new e(d):new e;window.jstiming={Timer:e,load:l};if(a){var b=a.navigationStart;0<b&&d>=b&&(window.jstiming.srt=d-b)}if(a){var c=window.jstiming.load;0<b&&d>=
b&&(c.tick("_wtsrt",void 0,b),c.tick("wtsrt_","_wtsrt",d),c.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),c&&0<b&&(c.tick("_tbnd",void 0,window.chrome.csi().startE),c.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,c&&0<b&&(c.tick("_tbnd",void 0,window.external.startE),c.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(g){}})(); })()
</script>
<link rel="shortcut icon" href="../_/rsrc/1518480252104/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/c9c36f/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { function d(a){return document.getElementById(a)}window.byId=d;function g(a){return a.replace(/^\s+|\s+$/g,"")}window.trim=g;var h=[],k=0;window.JOT_addListener=function(a,b,c){var f=new String(k++);a={eventName:a,handler:b,compId:c,key:f};h.push(a);return f};window.JOT_removeListenerByKey=function(a){for(var b=0;b<h.length;b++)if(h[b].key==a){h.splice(b,1);break}};window.JOT_removeAllListenersForName=function(a){for(var b=0;b<h.length;b++)h[b].eventName==a&&h.splice(b,1)};
window.JOT_postEvent=function(a,b,c){var f={eventName:a,eventSrc:b||{},payload:c||{}};if(window.JOT_fullyLoaded)for(b=h.length,c=0;c<b&&c<h.length;c++){var e=h[c];e&&e.eventName==a&&(f.listenerCompId=e.compId||"",(e="function"==typeof e.handler?e.handler:window[e.handler])&&e(f))}else window.JOT_delayedEvents.push({eventName:a,eventSrc:b,payload:c})};window.JOT_delayedEvents=[];window.JOT_fullyLoaded=!1;
window.JOT_formatRelativeToNow=function(a,b){a=((new Date).getTime()-a)/6E4;if(1440<=a||0>a)return null;var c=0;60<=a&&(a/=60,c=2);2<=a&&c++;return b?window.JOT_siteRelTimeStrs[c].replace("__duration__",Math.floor(a)):window.JOT_userRelTimeStrs[c].replace("__duration__",Math.floor(a))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/a/orabuntu-lxc.com/brandydandyoracle/oracle-rac-in-lxc-linux-containers","deleted":false,"title":"Oracle RAC in LXC Linux Containers","dir":"ltr"},{"path":"/a/orabuntu-lxc.com/brandydandyoracle/oracle-rac-in-lxc-linux-containers/lxc-ovs-rac-gns","deleted":false,"title":"Ubuntu LXC OEL OVS ASM GNS RAC (12c)","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/c9c36f/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"gvizGstaticVersion":"current","enableAnalytics":true,"pageSharingId":"jotspot_page","codeembeds":{"outerIframeSrc":"https://www.gstatic.com/jotspot/embeds/code/0f08d42392f2000e7e3f3daf5b427a43/outer_iframe.html","innerIframeSrc":"https://888452734-jotspot-embeds.googleusercontent.com/code/8d87fa64604b2a11fae2ed06104c58d3/inner_iframe.html"},"enableUniversalAnalytics":false,"sharingPolicy":"OPENED","siteTitle":"brandydandyoracle","experiments":{"enableSubpagesGadgetInTakeout":true,"overrideDisableDomainEditing":false,"DisableSiteEditingFeature__disable_site_editing":true,"disableDomainEditing":false},"jot2atari":{"eligibility":"INELIGIBLE"},"onepickUrl":"https://docs.google.com/picker","adsensePublisherId":null,"features":{"moreMobileStyleImprovements":null,"subscriptionDataMigrationInProgress":null,"plusBadge":false},"configProperties":{"disableSiteEditing":null},"isPublic":true,"newSitesBaseUrl":"https://sites.google.com","isConsumer":false,"serverFlags":{"jot2AtariLearnMoreUrl":"https://support.google.com/sites/answer/7035197"},"domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://accounts.google.com/AccountChooser?continue\u003dhttps://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/oracle-rac-in-lxc-linux-containers/lxc-ovs-rac-gns\u0026service\u003djotspot","analyticsAccountId":"UA-54224306-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/c9c36f/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/c9c36f/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/trogedit.css","/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1628148289000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/codeeditor.css","/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1628148289000/system/app/css/camelot/editor-jfk.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"orabuntu-lxc.com","baseUri":"/a/orabuntu-lxc.com/brandydandyoracle","name":"brandydandyoracle","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/oracle-rac-in-lxc-linux-containers","parentWuid":"wuid:gx:49aa6ea0c073802a","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"Ubuntu LXC OEL OVS ASM GNS RAC (12c)","locale":"en","wuid":"wuid:gx:3a38a5c143561a9b","revision":1,"path":"/oracle-rac-in-lxc-linux-containers/lxc-ovs-rac-gns","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"lxc-ovs-rac-gns","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false,"isGoogleAdmin":false},"gadgets":{"baseUri":"/a/orabuntu-lxc.com/brandydandyoracle/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Ubuntu LXC OEL OVS ASM GNS RAC (12c) - brandydandyoracle" />
<meta itemprop="name" content="Ubuntu LXC OEL OVS ASM GNS RAC (12c) - brandydandyoracle" />
<meta property="og:title" content="Ubuntu LXC OEL OVS ASM GNS RAC (12c) - brandydandyoracle" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/c9c36f/system/app/themes/solitudeolive/standard-css-solitudeolive-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1628148289000/system/app/css/overlay.css%3Fcb=solitudeolive93320goog-ws-leftcontentthemedefaultstandard.css" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1628148289000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/a/orabuntu%2dlxc.com/brandydandyoracle/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Ubuntu LXC OEL OVS ASM GNS RAC (12c) - brandydandyoracle</title>
<meta itemprop="image" content="https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1518480257223/oracle-rac-in-lxc-linux-containers/lxc-ovs-rac-gns/repo-1.png" />
<meta property="og:image" content="https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1518480257223/oracle-rac-in-lxc-linux-containers/lxc-ovs-rac-gns/repo-1.png" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner" style="height: 93px"><div class="sites-header-cell-buffer-wrapper"><h2><a href="../index.html" dir="ltr" id="sites-chrome-userheader-title">brandydandyoracle</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
<div class="sites-header-nav"><ul class="sites-header-nav-container-boxes"><li class="unselected"><a class="sites-navigation-link unselected" href="../system/app/pages/sitemap/hierarchy.html">Sitemap</a></li></ul><div style="clear: both;"></div></div>
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:320px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_2bd" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList" class="has-expander"><li class="topLevel nav-first parent " wuid="gx:1771d7481512b604"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../home.html" jotId="wuid:gx:1771d7481512b604" class="sites-navigation-link topLevel">Home</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../home/brother-mfc-456cn-ubuntu-driver.html" jotId="wuid:gx:687d1f16adfece4e" class="sites-navigation-link">Brother MFC-456CN Ubuntu Driver</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../home/resume-short.html" jotId="wuid:gx:7ed50173758f1f8d" class="sites-navigation-link">Resume-Short</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../aws.html" jotId="wuid:gx:513e26955ed0bab9" class="sites-navigation-link topLevel">AWS</a></div></li><li class="topLevel parent " wuid="gx:2d7d78782d5199fb"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../blackberry-workspaces.html" jotId="wuid:gx:2d7d78782d5199fb" class="sites-navigation-link topLevel">Blackberry Workspaces</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../blackberry-workspaces/blackberry-workspaces-in-lxc-linux-containers.html" jotId="wuid:gx:3cc6d6487c8feafe" class="sites-navigation-link">Blackberry Workspaces in LXC Linux Containers</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../blackberry-workspaces/blackberry-workspaces-on-aws-ec2.html" jotId="wuid:gx:11790a2b5038525c" class="sites-navigation-link">Blackberry Workspaces on AWS EC2</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html" jotId="wuid:gx:1529117a57ecdba8" class="sites-navigation-link topLevel">Blackberry Workspaces in LXC Linux Containers on AWS EC2</a></div></li><li class="topLevel parent " wuid="gx:515464018f6bd717"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../centos7.html" jotId="wuid:gx:515464018f6bd717" class="sites-navigation-link topLevel">CentOS7</a></div><ul role="navigation" class="has-expander"><li class="parent closed " wuid="gx:46a7d96b1e768956"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../centos7/centos7-desktop.html" jotId="wuid:gx:46a7d96b1e768956" class="sites-navigation-link">CentOS7 Desktop</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-desktop/cisco-anyconnect-vpn-centos-7.html" jotId="wuid:gx:50d39b77de17a94c" class="sites-navigation-link">Cisco AnyConnect VPN CentOS 7 GNOME Desktop</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-desktop/cisco-anyconnect-vpn-centos-7-server-gui-with-kde.html" jotId="wuid:gx:77bba3a647193c" class="sites-navigation-link">Cisco AnyConnect VPN CentOS 7 Server GUI with KDE</a></div></li></ul></li><li class="parent closed " wuid="gx:73046cf3c3d2eaf2"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../centos7/centos7-general.html" jotId="wuid:gx:73046cf3c3d2eaf2" class="sites-navigation-link">CentOS7 General</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/dns-named-install-centos7-1.html" jotId="wuid:gx:3ac64e4220d3882e" class="sites-navigation-link">DNS DHCP Install CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/lxc-create-centos-7-2-container.html" jotId="wuid:gx:317f96357032310b" class="sites-navigation-link">LXC Create CentOS 7.2 Container</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/lxc-source-build-centos7.html" jotId="wuid:gx:5affb1858ab31aa9" class="sites-navigation-link">LXC Source Build CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/openvswitch-source-build-centos7.html" jotId="wuid:gx:156568a493298e2c" class="sites-navigation-link">OVS  (OpenvSwitch) Source Build CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/scst-centos-7-2-1511-core.html" jotId="wuid:gx:212b0b144e1fcb8c" class="sites-navigation-link">SCST Source Build CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/xfs-lvm-grow-centos7.html" jotId="wuid:gx:5e00471ebcc94e3e" class="sites-navigation-link">XFS LVM Grow CentOS7</a></div></li></ul></li></ul></li><li class="topLevel parent " wuid="gx:4184304c507d6cf0"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../kvm-and-openvswitch.html" jotId="wuid:gx:4184304c507d6cf0" class="sites-navigation-link topLevel">KVM and OpenvSwitch</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/add-pv-kvm-guest-vg.html" jotId="wuid:gx:f4ec37bc44defc6" class="sites-navigation-link">KVM Add PV Guest VG</a></div></li><li class="parent closed " wuid="gx:140bef1e880d2c0c"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../kvm-and-openvswitch/kvm-dg-migration.html" jotId="wuid:gx:140bef1e880d2c0c" class="sites-navigation-link">KVM DG Migration</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../kvm-and-openvswitch/kvm-dg-migration/rman-script.html" jotId="wuid:gx:67093dbbc93cdadc" class="sites-navigation-link">RMAN Script</a></div></li></ul></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-dns-oel-6-5.html" jotId="wuid:gx:5f50087695eef84b" class="sites-navigation-link">KVM DNS OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-dns-ul-14-04.html" jotId="wuid:gx:42ab043f5ac96f0f" class="sites-navigation-link">KVM DNS UL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-lxc-dns-ul-14-04.html" jotId="wuid:gx:2cd19b29fe55d875" class="sites-navigation-link">KVM LXC DNS UL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-mail-oel-6-5.html" jotId="wuid:gx:76072d3822550956" class="sites-navigation-link">KVM MAIL OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-oracle-clone.html" jotId="wuid:gx:152a84896b4db53b" class="sites-navigation-link">KVM Oracle Clone</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/ovs-kvm-oel-6-5.html" jotId="wuid:gx:371cf26362b6010e" class="sites-navigation-link">KVM OVS OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-ovs-oel-6-5.html" jotId="wuid:gx:75ead37952686999" class="sites-navigation-link">KVM OVS OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-openvswitch-1.html" jotId="wuid:gx:5c2152473fdc6ccc" class="sites-navigation-link">KVM OVS UEL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/resize-swap-lv.html" jotId="wuid:gx:399989aadef41fc3" class="sites-navigation-link">KVM Resize Swap LV</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/remove-kvm-disk.html" jotId="wuid:gx:707b288cc8f2b5a6" class="sites-navigation-link">Remove KVM Disk</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/remove-kvm-vbdp-disk.html" jotId="wuid:gx:33b6b83da936ce09" class="sites-navigation-link">Remove KVM VBDP Disk</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/resize-kvm-disk.html" jotId="wuid:gx:623a431aae174a92" class="sites-navigation-link">Resize KVM Disk</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/solaris-10-kvm-ovs-12c-gi-rac.html" jotId="wuid:gx:422583d75ebc70db" class="sites-navigation-link">Solaris 10 KVM OVS 12c GI RAC</a></div></li></ul></li><li class="topLevel parent " wuid="gx:4327ced0f58d8a86"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lenovo-thinkpad-p70.html" jotId="wuid:gx:4327ced0f58d8a86" class="sites-navigation-link topLevel">Lenovo ThinkPad P70</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/a-brief-guide-to-running-multiple-os-on-lenovo-thinkpad-p70-mobile-workstation.html" jotId="wuid:gx:48694287bced9d0a" class="sites-navigation-link">A Brief Guide to Running Multiple OS  on Lenovo ThinkPad P70 Mobile Workstation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/booting-to-graphical-ui-oracle-uek4-kernel-on-lenovo-p70-thinkpad.html" jotId="wuid:gx:30d8c05433ca020b" class="sites-navigation-link">Booting to Graphical UI Desktop Oracle UEK4 Kernel on Lenovo P70 Thinkpad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configure-wired-network-uek3-lenovo-p70-thinkpad.html" jotId="wuid:gx:77458fd960e08fe6" class="sites-navigation-link">Configure Wired Network UEK3 Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configure-wireless-network-uek3-lenovo-p70-thinkpad.html" jotId="wuid:gx:784425a052a48fc4" class="sites-navigation-link">Configure Wireless Network UEK3 Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configuring-external-monitors-on-oracle-linux-uek4-kernel-on-lenovo-p70-thinkpad.html" jotId="wuid:gx:6d22a62e4b021a82" class="sites-navigation-link">Configuring External Monitors on Oracle Linux UEK4 Kernel on Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configuring-wifi-on-oracle-linux-uek4-kernel.html" jotId="wuid:gx:2491259c2c6fb6e7" class="sites-navigation-link">Configuring WIFI on Oracle Linux UEK4 Kernel on Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/advantages-of-running-multiple-linux-distros-on-lenovo-p70-thinkpad-mobile-workstation.html" jotId="wuid:gx:3e26fa7db9c8ec5d" class="sites-navigation-link">Fixing BooBoos with Multiple Linux Distros on Lenovo P70 ThinkPad Mobile Workstation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/flash-installation-oracle-linux-uek4-lenovo-p70-mobile-workstation.html" jotId="wuid:gx:206da7bba5eb893d" class="sites-navigation-link">Flash Installation Oracle Linux UEK4 Lenovo P70 Mobile Workstation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/lenovo-thinkpad-p70-bios-flash-upgrade.html" jotId="wuid:gx:13c9853fd6822c1e" class="sites-navigation-link">Lenovo ThinkPad P70 BIOS Flash Upgrade</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/samsung-256-gb-m-2-950-pro-nvme.html" jotId="wuid:gx:4cf81fe1594a405c" class="sites-navigation-link">Samsung 256 Gb M.2 950 Pro NVME</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/samsung-evo-950-pro-256gb-m-2-ssd-vs-pm951-512gb-m-2-ssd.html" jotId="wuid:gx:5ea2a361cb8c66c8" class="sites-navigation-link">Samsung [(evo950 nvme) vs (pm951 nvme)] vs. Toshiba [OCZ RD400 1Tb nvme] M.2</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/ubuntu-17-10-artful-aardvark-lenovo-p70-mobile-workstation.html" jotId="wuid:gx:6fcad2f1dc0cfefc" class="sites-navigation-link">Ubuntu 17.10 Artful Aardvark Lenovo P70 Mobile Workstation</a></div></li></ul></li><li class="topLevel parent " wuid="gx:2a65617e5bca4df7"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lenovo-p72.html" jotId="wuid:gx:2a65617e5bca4df7" class="sites-navigation-link topLevel">Lenovo ThinkPad P72</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-p72/lenovo-part-40an0230us-thinkpad-thunderbolt-3-workstation-dock.html" jotId="wuid:gx:3b289d1da9ec8d8" class="sites-navigation-link">Lenovo Part #40AN0230US ThinkPad Thunderbolt 3 Workstation Dock</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-p72/lenovo-part-gx90m61235-thinkpad-usb-c-travel-hub.html" jotId="wuid:gx:62e9dde894d17ff7" class="sites-navigation-link">Lenovo Part #GX90M61235 ThinkPad USB-C Travel Hub</a></div></li></ul></li><li class="topLevel parent " wuid="gx:3c0bb513eca76dd7"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lxc-linux-containers.html" jotId="wuid:gx:3c0bb513eca76dd7" class="sites-navigation-link topLevel">LXC Linux Containers</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/install-oracle-supported-lxc-version-on-oracle-linux-uek4.html" jotId="wuid:gx:2803b780a785d633" class="sites-navigation-link">Install Oracle-Supported LXC Version on Oracle Linux 7 UEK4</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-3-0-1-oracle-8-source-build.html" jotId="wuid:gx:6d97bc40356b5b00" class="sites-navigation-link">LXC 3.0.1 Oracle 8 Source Build</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-environment-oel6.html" jotId="wuid:gx:498ae875c3ff8712" class="sites-navigation-link">LXC Environment OEL6</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-in-windows-10-bash-shell.html" jotId="wuid:gx:6b5a1e6d23bf1535" class="sites-navigation-link">LXC in Windows 10 Bash Shell</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-iproute2.html" jotId="wuid:gx:4770b5dee1c84e5d" class="sites-navigation-link">LXC iproute2</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-oracle-rdbms.html" jotId="wuid:gx:66170fca9aaf9bdb" class="sites-navigation-link">LXC Oracle RDBMS</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-ovs-bind-dns.html" jotId="wuid:gx:5ba336cc440e699a" class="sites-navigation-link">LXC OVS BIND DNS</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-vlc-oel6-5.html" jotId="wuid:gx:4e0871c894b402f5" class="sites-navigation-link">LXC VLC OEL6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/nvme-in-lxc.html" jotId="wuid:gx:344f13d75997f6ef" class="sites-navigation-link">NVME in LXC</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/source-build-lxc-ubuntu-16-04.html" jotId="wuid:gx:3668e93ca6fd3ec7" class="sites-navigation-link">Source Build LXC Ubuntu 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/veth-pair-cleanup-lxc.html" jotId="wuid:gx:eb4a3c8e75f750" class="sites-navigation-link">Veth Pair Cleanup LXC</a></div></li></ul></li><li class="topLevel parent " wuid="gx:904bf1e1a964cfa"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-in-lxd-1.html" jotId="wuid:gx:904bf1e1a964cfa" class="sites-navigation-link topLevel">LXD the Lighter-visor</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-in-lxd-1/building-oracle-enteprise-in-lxd.html" jotId="wuid:gx:3385e4f2498c1f97" class="sites-navigation-link">Building Oracle Enteprise in LXD</a></div></li></ul></li><li class="topLevel parent " wuid="gx:141aad64735ed8a7"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../openvswitch-ovs.html" jotId="wuid:gx:141aad64735ed8a7" class="sites-navigation-link topLevel">OpenvSwitch (OVS)</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/build-networkmanager-1-11-1-on-ubuntu-17-10.html" jotId="wuid:gx:4cd3336e7866b65e" class="sites-navigation-link">Build NetworkManager 1.11.1 on Ubuntu 17.10</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/configuring-virtualbox-vms-for-openvswitch-networking.html" jotId="wuid:gx:102f61a047f4fe27" class="sites-navigation-link">Configuring VirtualBox VMs for OpenvSwitch Networking</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/install-openvswitch-oel-uek3.html" jotId="wuid:gx:2603341f63b9d97a" class="sites-navigation-link">Install OpenvSwitch OEL UEK3</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/networking-problem-1.html" jotId="wuid:gx:65a0bbff837cdb64" class="sites-navigation-link">Networking Problem:  "The Lawnmower Man"</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/openvswitch-patch-ports.html" jotId="wuid:gx:9eac33f7488f9a0" class="sites-navigation-link">OpenvSwitch Patch Ports</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/build-openvswitch-from-source-on-oracle-linux-uek.html" jotId="wuid:gx:5d8addb931f09666" class="sites-navigation-link">OVS Source Build Oracle Linux 6 UEK3 Kernel</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/openvswitch-source-build-oracle-linux-7-uek4.html" jotId="wuid:gx:9f9da13c419a4e6" class="sites-navigation-link">OVS Source Build Oracle Linux 7 UEK4 Kernel</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/ovs-source-build-ubuntu-linux-16-04.html" jotId="wuid:gx:cc6b77eb34b437c" class="sites-navigation-link">OVS Source Build Ubuntu Linux 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/ovs-switch-as-a-service.html" jotId="wuid:gx:657c023b7927b1fa" class="sites-navigation-link">OVS Switch-As-A-Service Oracle Linux 7 UEK4</a></div></li></ul></li><li class="topLevel parent " wuid="gx:2a47e1cfadbf417d"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../orabuntu-lxc.html" jotId="wuid:gx:2a47e1cfadbf417d" class="sites-navigation-link topLevel">Orabuntu-LXC</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../orabuntu-lxc/using-systemd-resolved-in-a-networkmanager-environment.html" jotId="wuid:gx:87f2aaaf2ecb31b" class="sites-navigation-link">Configuring systemd-resolved in a NetworkManager Environment</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../orabuntu-lxc/lxc-containerized-dns-dhcp-configurations.html" jotId="wuid:gx:3d12f3317c481ea" class="sites-navigation-link">LXC Containerized DNS-DHCP Configurations (Ubuntu dnsmasq bind9)</a></div></li></ul></li><li class="topLevel parent " wuid="gx:56211f056f6b1e69"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-asmlib.html" jotId="wuid:gx:56211f056f6b1e69" class="sites-navigation-link topLevel">Oracle ASM and ASMLib</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-asmlib/build-asmlib-from-source.html" jotId="wuid:gx:37a420222f203d29" class="sites-navigation-link">ASMLib Source Build RHEL5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-asmlib/build-asmlib-from-source-on-rhel6.html" jotId="wuid:gx:258e6072b6403dc3" class="sites-navigation-link">ASMLib Source Build RHEL6</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-asmlib/rename-asm-sysdg.html" jotId="wuid:gx:44112e6c154428fe" class="sites-navigation-link">Rename ASM SYSDG</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../oracle-in-lxd.html" jotId="wuid:gx:1e2c0c88ac7cfde3" class="sites-navigation-link topLevel">Oracle in LXD</a></div></li><li class="topLevel parent " wuid="gx:7024699ef06b6856"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-linux-uek-kernel.html" jotId="wuid:gx:7024699ef06b6856" class="sites-navigation-link topLevel">Oracle Linux UEK Kernel</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-linux-uek-kernel/configuring-ipmi-console-redirection.html" jotId="wuid:gx:323acc64d4abf9a4" class="sites-navigation-link">Configuring IPMI Console Redirection</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-linux-uek-kernel/getting-kernel-headers-for-oracle-linux-uek-kernels.html" jotId="wuid:gx:264700ca67aa6f51" class="sites-navigation-link">Getting Kernel Headers Oracle Linux 7 UEK</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-linux-uek-kernel/lxc-source-build-oracle-linux-uek4.html" jotId="wuid:gx:65f6caada28e4879" class="sites-navigation-link">LXC Source Build Oracle Linux 7 UEK4</a></div></li></ul></li><li class="topLevel parent " wuid="gx:392e9c328d805127"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-rac.html" jotId="wuid:gx:392e9c328d805127" class="sites-navigation-link topLevel">Oracle RAC</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac/re-ip-rac.html" jotId="wuid:gx:60fa56c8049956b9" class="sites-navigation-link">Re-IP RAC</a></div></li></ul></li><li class="topLevel parent " wuid="gx:49aa6ea0c073802a"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-rac-in-lxc-linux-containers.html" jotId="wuid:gx:49aa6ea0c073802a" class="sites-navigation-link topLevel">Oracle RAC in LXC Linux Containers</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="12c-asm-flex-cluster-on-violin-memory-array.html" jotId="wuid:gx:2d93d5e8d118918d" class="sites-navigation-link">12c ASM Flex Cluster on Violin Memory Array</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-12c-6-node-asm-gns-flex-rac-on-lxc-linux-containers-ubuntu-15-04.html" jotId="wuid:gx:31b7a6e9df077adf" class="sites-navigation-link">Oracle 12c 6-node ASM GNS Flex RAC on LXC Linux Containers Ubuntu 15.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-12c-rac-asm-flex-cluster-on-ubuntu-14-10.html" jotId="wuid:gx:6d52027c26f6bd96" class="sites-navigation-link">Oracle 12c RAC ASM Flex Cluster on LXC Linux Containers Ubuntu 14.10</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-12c-rac-asm-flex-cluster-on-lxc-linux-containers-ubuntu-14-10.html" jotId="wuid:gx:7cf2aebcf0bd8b4a" class="sites-navigation-link">Oracle 12c RAC ASM Flex Cluster on LXC Linux Containers Ubuntu 14.10</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-12c-rac-asm-flex-cluster-on-lxc-linux-containers-ubuntu-15-04.html" jotId="wuid:gx:e7aeed695cf1a4a" class="sites-navigation-link">Oracle 12c RAC ASM Flex Cluster on LXC Linux Containers Ubuntu 15.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-12c-rac-in-gce-on-ubuntu-14-04-1.html" jotId="wuid:gx:ed0be0d284c02f0" class="sites-navigation-link">Oracle 12c RAC in GCE on Ubuntu 14.04.1</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-lxc-vlc.html" jotId="wuid:gx:3ecee06d4a4b2ffe" class="sites-navigation-link">Oracle EE ASM 12c LXC Ubuntu 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="docker-11gr2-ee-ul.html" jotId="wuid:gx:2863b8f1b8a0ae5d" class="sites-navigation-link">Oracle EE DB 11gR2 Docker Ubuntu 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-rac-6-node-12c-gns-asm-flex-cluster-ubuntu-15-04-automated.html" jotId="wuid:gx:1360b78ff726d213" class="sites-navigation-link">Oracle RAC 6-node 12c GNS ASM Flex Cluster Ubuntu 15.04 Automated</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-rac-6-node-12c-gns-asm-flex-cluster-ubuntu-15-04-install.html" jotId="wuid:gx:d6f61d65bebb324" class="sites-navigation-link">Oracle RAC 6-node 12c GNS ASM Flex Cluster Ubuntu 15.04 Install</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html" jotId="wuid:gx:55d12384bf11a4ac" class="sites-navigation-link">Ubuntu 14.04.1 Oracle GI 12c ASM Flex Cluster on LXC Containers</a></div></li><li class=""><div class="current-bg" jotId="wuid:gx:3a38a5c143561a9b" dir="ltr" style="padding-left: 38px;">Ubuntu LXC OEL OVS ASM GNS RAC (12c)</div></li></ul></li><li class="topLevel parent " wuid="gx:b42a27877981be1"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-rman.html" jotId="wuid:gx:b42a27877981be1" class="sites-navigation-link topLevel">Oracle RMAN</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rman/rman-active-duplicate-script.html" jotId="wuid:gx:51524327d66ae40f" class="sites-navigation-link">RMAN Active Duplicate Script</a></div></li></ul></li><li class="topLevel parent " wuid="gx:89ec64364eab694"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../engineering-docs.html" jotId="wuid:gx:89ec64364eab694" class="sites-navigation-link topLevel">Projects</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../engineering-docs/11gr2---12cr2-dataguard-upgrade-in-ol-lxc-on-ubuntu-17-04.html" jotId="wuid:gx:1da20af09381ca55" class="sites-navigation-link">11gR2 -&gt; 12cR2 Dataguard Upgrade in OL LXC on Ubuntu 17.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../engineering-docs/vmos6-oracle-snapshots.html" jotId="wuid:gx:1ea7e4c3c5ca52d" class="sites-navigation-link">VMOS6 Oracle Snapshots</a></div></li></ul></li><li class="topLevel parent " wuid="gx:204d0c728c285380"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../robin-systems.html" jotId="wuid:gx:204d0c728c285380" class="sites-navigation-link topLevel">Robin Systems</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/configuring-hugepages-for-oracle.html" jotId="wuid:gx:52999571538d8ca7" class="sites-navigation-link">Configuring HugePages for Oracle on CentOS 7 Robin Hosts</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-12c-rac-asm-flex-cluster.html" jotId="wuid:gx:4460573d54662758" class="sites-navigation-link">Robin 12c RAC ASM Flex Cluster</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-server-install-centos-7-vm.html" jotId="wuid:gx:573c9ade4fca5871" class="sites-navigation-link">Robin Server Install CentOS 7 VM</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-slob2-pdb-protocols.html" jotId="wuid:gx:4f404578ed53bc1" class="sites-navigation-link">Robin SLOB2 PDB Protocols</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-slob2-testing-notes.html" jotId="wuid:gx:653c530a0894e054" class="sites-navigation-link">Robin SLOB2 Testing Notes</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-virtualbox-ovs.html" jotId="wuid:gx:3ede1bee391dc4db" class="sites-navigation-link">Robin VirtualBox OVS</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/the-surfing-life.html" jotId="wuid:gx:1f2b8b97c48d346a" class="sites-navigation-link">The Surfing Life</a></div></li></ul></li><li class="topLevel parent " wuid="gx:42a5103bbab0903f"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../scst.html" jotId="wuid:gx:42a5103bbab0903f" class="sites-navigation-link topLevel">SCST</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/reset-lun-read-only-attributes.html" jotId="wuid:gx:19d5a823bab350d4" class="sites-navigation-link">Reset LUN Read-Only Attributes</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-create-deb-package-and-install-fpm.html" jotId="wuid:gx:2f9a5abb765dc8ab" class="sites-navigation-link">SCST Create Deb Package and Install</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-debian-dkms-package-build-from-source-ubuntu-17-04.html" jotId="wuid:gx:263b273ada4b1198" class="sites-navigation-link">SCST Debian (DKMS) Package Build from Source (Ubuntu  15.04-17.04+)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-debian-dkms-package-build-from-source-ubuntu-14-04.html" jotId="wuid:gx:37519387aa0d7b34" class="sites-navigation-link">SCST Debian (DKMS) Package Build from Source (Ubuntu 14.04)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-debian-package-build-from-source-ubuntu-15-04-17-04.html" jotId="wuid:gx:376a668b36e2458e" class="sites-navigation-link">SCST Debian Package Build from Source (Ubuntu 15.04-17.04+)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-debian-package-build-from-source-ubuntu-17-04.html" jotId="wuid:gx:23e3728da5d7b341" class="sites-navigation-link">SCST Debian Package Build from Source (Ubuntu 17.04)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/kvm-scst-oel-6-5.html" jotId="wuid:gx:35aca0b4a22810be" class="sites-navigation-link">SCST KVM OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/kvm-scst-uek-3-8.html" jotId="wuid:gx:727a09d4af2e0cb6" class="sites-navigation-link">SCST KVM UEK 3.8</a></div></li><li class="parent closed " wuid="gx:22f557a9fc2e1e25"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../scst/scst-linux-san.html" jotId="wuid:gx:22f557a9fc2e1e25" class="sites-navigation-link">SCST Linux SAN</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/add-asm-dg.html" jotId="wuid:gx:2bc6ef8def1e36c9" class="sites-navigation-link">Add ASM DG</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/add-asm-dg-4k.html" jotId="wuid:gx:242dab2dbfad9ac5" class="sites-navigation-link">Add ASM DG (4K)</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/add-asm-lun.html" jotId="wuid:gx:2fedfac6897719" class="sites-navigation-link">Add ASM LUN</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/add-lun.html" jotId="wuid:gx:4b7b14970b8123cc" class="sites-navigation-link">Add LUN</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/resize-asm-lun.html" jotId="wuid:gx:546bc643a9b955fd" class="sites-navigation-link">Resize ASM LUN</a></div></li></ul></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/lxc-scst-ul-14-04.html" jotId="wuid:gx:56ede6a9ffa466a3" class="sites-navigation-link">SCST LXC UL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-ol-uek-3.html" jotId="wuid:gx:775819e6573c1127" class="sites-navigation-link">SCST OL UEK 3</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-package-build-and-install-ubuntu-17-04---14-04.html" jotId="wuid:gx:94e286580e7f53a" class="sites-navigation-link">SCST Package Build Install (Ubuntu 14.x-17.x)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/build-scst-from-source-on-oracle-linux-uek.html" jotId="wuid:gx:11bdab641c7da34" class="sites-navigation-link">SCST Source Build Oracle UEK</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-ubuntu-15-04.html" jotId="wuid:gx:7ac9dfabcffec63d" class="sites-navigation-link">SCST Ubuntu 15.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-ubuntu-16-04.html" jotId="wuid:gx:3dd6f13e96e8fcdf" class="sites-navigation-link">SCST Ubuntu 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/update-gpg-key-email-address-for-signing-debian-packages.html" jotId="wuid:gx:69975edf103e1292" class="sites-navigation-link">Update GPG1 Key Email Address, Add UID, Secret Key</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../the-surfing-life.html" jotId="wuid:gx:6260f278e385cf3d" class="sites-navigation-link topLevel">The Surfing Life</a></div></li><li class="topLevel parent " wuid="gx:3feac623e97563f8"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../tools.html" jotId="wuid:gx:3feac623e97563f8" class="sites-navigation-link topLevel">Tools</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/awr-analyzer-v3-02.html" jotId="wuid:gx:77df010a1161688f" class="sites-navigation-link">AWR Analyzer v3.02</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/cisco-anyconnect-vpn-centos-7.html" jotId="wuid:gx:1d46650a5d12d8f8" class="sites-navigation-link">Cisco AnyConnect VPN CentOS 7</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/dtrace-linux.html" jotId="wuid:gx:8cdf7bdd75524d8" class="sites-navigation-link">DTrace Linux</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/iotop.html" jotId="wuid:gx:638d81a1909fcba9" class="sites-navigation-link">iotop</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/iscsiadm.html" jotId="wuid:gx:5d490b3b5ae2b18b" class="sites-navigation-link">iscsiadm</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/lynx-html-cli.html" jotId="wuid:gx:3c44570e4d9e5dbe" class="sites-navigation-link">lynx HTML CLI</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/nsupdate.html" jotId="wuid:gx:3dd2f364ba8d97c3" class="sites-navigation-link">nsupdate</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/orion.html" jotId="wuid:gx:5e1bc1ac2b426298" class="sites-navigation-link">Orion</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/perf_stat.html" jotId="wuid:gx:17c3dad58ddee2ec" class="sites-navigation-link">perf_stat</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/qemu-monitor-command.html" jotId="wuid:gx:332a02f511ef9aa0" class="sites-navigation-link">QEMU Monitor Command</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/sflow.html" jotId="wuid:gx:51f13dca17c0f452" class="sites-navigation-link">sflow</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/slob.html" jotId="wuid:gx:6fb549ba8af63cc8" class="sites-navigation-link">SLOB2</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/slob2-12c-rac-pdb-version.html" jotId="wuid:gx:7370bb97c3458d1c" class="sites-navigation-link">SLOB2 (12c RAC PDB Version)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/tunnels.html" jotId="wuid:gx:67c0050b2d97d566" class="sites-navigation-link">Tunnels</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/vdbench.html" jotId="wuid:gx:5a058833aa18c315" class="sites-navigation-link">VDBench</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/virt-alignment-scan.html" jotId="wuid:gx:7ef6511f7ec6d8fc" class="sites-navigation-link">virt-alignment-scan</a></div></li></ul></li><li class="topLevel parent " wuid="gx:a688388e2cf1712"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../ubuntu-16-04.html" jotId="wuid:gx:a688388e2cf1712" class="sites-navigation-link topLevel">Ubuntu 16.04</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../ubuntu-16-04/canonical-ubuntu-16-04-livepatch-service.html" jotId="wuid:gx:36531436c1ed4a17" class="sites-navigation-link">Canonical Ubuntu 16.04 Livepatch Service</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../ubuntu-16-04/cisco-anyconnect-vpn-ubunty-16-04.html" jotId="wuid:gx:1f1f8e214e889787" class="sites-navigation-link">Cisco AnyConnect VPN Ubuntu 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../ubuntu-16-04/systemd-to-manage-network-interfaces.html" jotId="wuid:gx:182e7ebf6d20564f" class="sites-navigation-link">Systemd to Manage Network Interfaces</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../zero-downtime-asm-lun-add.html" jotId="wuid:gx:6d5fc0b6a3941475" class="sites-navigation-link topLevel">Zero-Downtime ASM LUN Add</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:5b81d66bdd7a72b7" class="sites-navigation-link topLevel">Sitemap</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_35309087585577514" class="sites-sidebar-plusone-wrapper"><div class="g-plusone" data-count="true" data-size="standard" data-source="google:sites"></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../oracle-rac-in-lxc-linux-containers.html" dir="ltr">Oracle RAC in LXC Linux Containers</A> &gt; 
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Ubuntu LXC OEL OVS ASM GNS RAC (12c)</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div><div><div><div><font size="3"><div><div class="sites-embed-align-left-wrapping-off"><div class="sites-embed-border-off sites-embed" style="width:500px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-6"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-Update-26-October-2014"><strong>1 </strong>Update 26 October 2014</a><ol class="goog-toc"><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-End-Update"><strong>1.1 </strong>End Update</a><ol class="goog-toc"><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-Update-26-October-20141"><strong>1.1.1 </strong>Update 26 October 2014</a></li></ol></li><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-A-Note-about-ntp"><strong>1.2 </strong>A Note about ntp</a></li><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-Adding-a-Second-OpenvSwitch-Ethernet-Interface-to-LXC-Container"><strong>1.3 </strong>Adding a Second OpenvSwitch Ethernet Interface to LXC Container</a><ol class="goog-toc"><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-Update-26-October-20142"><strong>1.3.1 </strong>Update 26 October 2014</a></li><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-End-Update1"><strong>1.3.2 </strong>End Update</a></li><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-Update-26-October-20143"><strong>1.3.3 </strong>Update 26 October 2014</a></li><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-End-Update2"><strong>1.3.4 </strong>End Update</a></li><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-Update-27-October-2014"><strong>1.3.5 </strong>Update 27 October 2014</a></li><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-End-Update3"><strong>1.3.6 </strong>End Update</a></li></ol></li><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-Edit-etc-dhcp-dhcpclient.conf"><strong>1.4 </strong>Edit /etc/dhcp/dhcpclient.conf</a></li><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-Setup-Oracle-GNS-Grid-Naming-Service-on-LXC-Container"><strong>1.5 </strong>Setup Oracle GNS (Grid Naming Service) on LXC Container</a><ol class="goog-toc"><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-Update-27-October-20141"><strong>1.5.1 </strong>Update 27 October 2014</a></li><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-End-Update4"><strong>1.5.2 </strong>End Update</a></li></ol></li><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-Speed-Up-SSH"><strong>1.6 </strong>Speed Up SSH</a></li><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-Test-GNS-Configuration-Using-cluvfy"><strong>1.7 </strong>Test GNS Configuration Using cluvfy</a><ol class="goog-toc"><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-Update-27-October-20142"><strong>1.7.1 </strong>Update 27 October 2014</a></li><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-End-Update5"><strong>1.7.2 </strong>End Update</a></li></ol></li><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-Clone-the-LXC-Container-to-Create-Second-RAC-Node"><strong>1.8 </strong>Clone the LXC Container to Create Second RAC Node</a><ol class="goog-toc"><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-Update-28-October-2014"><strong>1.8.1 </strong>Update 28 October 2014</a></li></ol></li><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-Check-the-MTU-9000-is-Working-on-the-Private-Interfaces"><strong>1.9 </strong>Check the MTU 9000 is Working on the Private Interfaces</a></li><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-Configure-and-Test-Jumbo-Frames-on-Private-Interconnect-Interfaces"><strong>1.10 </strong>Configure and Test Jumbo Frames on Private Interconnect Interfaces</a></li><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-Install-cvuqdisk-rpm-Package-on-Both-RAC-nodes"><strong>1.11 </strong>Install cvuqdisk rpm Package on Both RAC nodes</a></li><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-Establish-No-password-ssh-between-RAC-nodes"><strong>1.12 </strong>Establish No-password ssh between RAC nodes</a></li></ol></li><li class="goog-toc"><a href="lxc-ovs-rac-gns.html#TOC-Install-RAC-Database-on-LXC-Containers-GI"><strong>2 </strong>Install RAC Database on LXC Containers GI</a></li></ol></div></div></div></div></div>Hi sportsfans well today I'm working on building a 2-node Oracle 12c Real Application Cluster (RAC) using Ubuntu 14.04.1 as my base operating system, and Oracle Enterprise Linux 6.5 LXC Containers for my two RAC nodes running ontop of the Ubuntu. You might be one of those people who would ask "Why would you do that?" There are many answers. One answer is "Because it seems like LXC for the first time I can remember makes building Oracle RAC on Ubuntu a very interesting and reachable goal." Or I could go with the Sir Edmund Hillary answer "Because it was there" (Mt. Everest). I think the main reason is that I am absolutely thrilled about the possibility of running Oracle RAC on Ubuntu Linux in Oracle Enterprise Linux 6.5 LXC containers. <br /><br /></font></div><div><font size="3"><b>Note that this site is under construction, however, the final result is already achieved - the 2-node 12c RAC on LXC containers on Ubuntu 14.04.1 base OS is built and running. Because therefore this is a work-in-progress (WIP) and is primarily a place at this point where I can record my own notes on building this, plus improvements and tweaks, etc., therefore I make no assurances as to the flow or readability of the content: there may be sudden breaks in flow where I add an update noting how something was redesigned or improved (or fixed). </b><br /><br />I will be adding the details about how storage was presented and many many other details, so this blog post will grow for some time. Check back for additional information if the topic of building Oracle Grid Infrastructure on Ubuntu Linux in Oracle Enteprise Linux LXC containers is of interest to you.<br /><br /></font></div><div><font size="3"><b>Important Please Note as usual that this is not a supported configuration for a production deployment, neither from a Linux Containers perspective in general, nor from a supported Operating System perspective (Ubuntu Linux is not officially supported by Oracle Corporation for database or grid infrastructure)</b> <i>and, as usual Jim, if you or any of your IMF team are killed or captured, the State Department will disavow all knowledge of your mission. Good Luck, Jim. This tape will self-destruct in 5 seconds....</i><br /></font></div><div><font size="3"><br /></font></div><div><font size="3">This build uses the following technologies:<br /><br /></font></div><div><font size="3">LXC Linux Containers for the 2 RAC Nodes<br /></font></div><div><font size="3">Ubuntu 14.04.1 Desktop Edition 64-bit with all latest updates from the following repositores shown below for the Base OS<br /></font></div><div><font size="3">Oracle Enterprise Linux 6.5 for the two RAC-node LXC containers<br /></font></div><div><font size="3">OpenvSwitch for the networking<br /></font></div><div><font size="3">Oracle 12c Grid Infrastructure (GI) version 12.1.0.2.0<br /></font></div><div><font size="3">Oracle 12c Database (RDBMS) version 12.1.0.2.0<br /></font></div><div><font size="3">Oracle Grid Naming Service (GNS)<br /></font></div><div><font size="3">DHCP isc-dhcp-server<br /></font></div><div><font size="3">Named (bind9) DNS server<br /></font></div><div><font size="3">InMon sflow for performance monitoring<br /></font></div><div><font size="3">KVM (single guest is used for providing SCST Linux iSCSI SAN LUNs for the RAC)<br /></font></div><div><font size="3"><br /></font></div><div><font size="3">Note : DHCP an BIND9 are deployed so as to update DNS automatically when new LXC containers are added<br /></font></div><div><font size="3">Note : All LXC Linux containers in this setup use OpenvSwitch for networking. They DO NOT use the lxcbr0 default LXC out-of-the-box networking solution.<br /></font></div><div><font size="3">Note : InMon sflow is designed to automatically add hosts to sflow monitoring, also through DNS<br /></font></div><div><font size="3">Note : Regarding Ubuntu repositores, below, note that I get the "ubuntu-lxc" trusty-tahr daily build updates, and I apply them when notified they are availalble<br /></font></div><div><font size="3"><br /></font></div><div><font size="3">These are my currently active Ubuntu repositories. I always install all updates as soon as I am aware the are available. My Ubuntu base OS is not a "locked-down" deployment because it is on my laptop which I keep updated with all latest Ubuntu mainline updates (as well as the LXC daily build updates, as noted below).<br /><br /><div style="display:block;text-align:left"><a href="lxc-ovs-rac-gns/repo-1.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480257223/oracle-rac-in-lxc-linux-containers/lxc-ovs-rac-gns/repo-1.png" /></a></div><br /><div style="display:block;text-align:left"><a href="lxc-ovs-rac-gns/repo-2.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480257223/oracle-rac-in-lxc-linux-containers/lxc-ovs-rac-gns/repo-2.png" /></a></div><br /><div style="display:block;text-align:left"><a href="lxc-ovs-rac-gns/repo-3.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480257223/oracle-rac-in-lxc-linux-containers/lxc-ovs-rac-gns/repo-3.png" /></a></div></font></div><div><h4><a name="TOC-Update-26-October-2014"></a>Update 26 October 2014</h4><p><font size="3">Opted to use block storage and not NFS after all as originally planned for this 2-node RAC and went with the option of just mounting the entire /dev/mapper directory of the Ubuntu 14.04.1 host inside the two LXC containers. The configuration passed cluster verification for storage with respect the ASM LUNs, and I knew from building the previous standalone 12c GI that it works that way. This change was made because after checking the Oracle documentation found that whereas in 11gR2 GI clustering NFS was supported for OCR and VOTE, now in 12c, NFS is no longer supported for OCR and VOTE, and I wanted to build a supported version first time around, so went with the ASM option after all.</font></p><p><font size="3"><b>Important Note</b>: I'm leaving all this NFS work I did with LXC in here because I am going to build a 2-node Oracle 11gR2 RAC using NFS, so this work will come in handy for that later, but for the purposes of how this 2-node ASM 12c RAC on LXC Linux containers was built,<b> the NFS material herein can be skipped over</b>.</font><br /></p><h4><a name="TOC-End-Update"></a>End Update<br /></h4></div><font size="3">Here are some notes for me. I'm going for a build that uses NFS as the shared storage for the two LXC RAC nodes. Why? Because presenting block storage that ASM could use to LXC containers has proved challenging. So far I had good luck building a single instance of 12c EE ASM using the technique of just mounting all of /dev/mapper (host) inside the LXC ASM guest. However, this won't work in general because mounting the entire /dev/mapper if you think about it gets kind of problematic when you think about doing that with multiple LXC containers. It lacks a certain elegance on top of which idk if it's even possible.<br /><br />I found that LXC on Oracle Enterprise Linux 6.5 base operating system also likes NFS mounts inside the LXC container (running on a btrfs FS) so I'm going to make this my defacto standard for my first go at this (building RAC on Ubuntu Linux 14.04.1 base OS using Oracle Enterprise Linux 6.5 containers).<br /><br /></font></div><div><font size="3"><a href="https://help.ubuntu.com/12.04/serverguide/lxc.html#lxc-conf" target="_blank" rel="nofollow">Ubuntu LXC Guide is found here</a>.<br /></font></div><div><font size="3"><br /></font></div><font size="3">The first thing I found after mounting some test NFS mounts was that upon reboot my LXC container would not boot. I got this message:<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ sudo lxc-start -n lxcora01 -F</code><br /><code>lxc-start: lsm/apparmor.c: apparmor_process_label_set: 200 No such file or directory - failed to change apparmor profile to lxc-container-default</code><br /><code>lxc-start: sync.c: __sync_wait: 51 invalid sequence number 1. expected 4</code><br /><code>lxc-start: start.c: __lxc_start: 1087 failed to spawn 'lxcora01'</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 503 call to cgmanager_remove_sync failed: invalid request</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 505 Error removing name=systemd:lxc/lxcora01-2</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 503 call to cgmanager_remove_sync failed: invalid request</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 505 Error removing perf_event:lxc/lxcora01-2</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 503 call to cgmanager_remove_sync failed: invalid request</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 505 Error removing memory:lxc/lxcora01-2</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 503 call to cgmanager_remove_sync failed: invalid request</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 505 Error removing hugetlb:lxc/lxcora01-2</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 503 call to cgmanager_remove_sync failed: invalid request</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 505 Error removing freezer:lxc/lxcora01-2</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 503 call to cgmanager_remove_sync failed: invalid request</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 505 Error removing devices:lxc/lxcora01-2</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 503 call to cgmanager_remove_sync failed: invalid request</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 505 Error removing blkio:lxc/lxcora01-2</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 503 call to cgmanager_remove_sync failed: invalid request</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 505 Error removing cpuacct:lxc/lxcora01-2</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 503 call to cgmanager_remove_sync failed: invalid request</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 505 Error removing cpu:lxc/lxcora01-2</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 503 call to cgmanager_remove_sync failed: invalid request</code><br /><code>lxc-start: cgmanager.c: cgm_remove_cgroup: 505 Error removing cpuset:lxc/lxcora01-2</code><br /><code>lxc-start: lxc_start.c: main: 341 The container failed to start.</code><br /><code>lxc-start: lxc_start.c: main: 345 Additional information can be obtained by setting the --logfile and --logpriority options.</code><br /><code>gstanden@vmem1:~$ </code></font></div><br /></font></div><font size="3">I was at Starbucks with my mom who is 80 and who I take out for coffee quite a bit, and then I keep working at the Starbucks. Well at Starbucks my LXC container with the new NFS mounts would not start. So there are several steps that thank God I found on the internet which got me through this latest fire trial walk on coals.<br /><br />First, I found these links <a href="http://technuts.tru.my/2013/08/28/how-to-mount-nfs-in-lxc-container/" target="_blank" rel="nofollow">here at Technology Talk website</a> and <a href="http://tquerci.blogspot.com/2014/03/nfs-on-lxc-container.html" target="_blank" rel="nofollow">here at TQuerci's Weblog</a>. These sites indicated that you had to make some changes to the </font><font size="3">/etc/apparmor.d/lxc/lxc-default file, so I made the recommended changes and that file now looks like this as shown below. Thanks very much to that website and weblog for keeping this project moving forward with that very helpful information about setup for NFS in LXC containers.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ cat /etc/apparmor.d/lxc/lxc-default</code><br /><code># Do not load this file. Rather, load /etc/apparmor.d/lxc-containers, which</code><br /><code># will source all profiles under /etc/apparmor.d/lxc</code><br /><br /><code>profile lxc-container-default flags=(attach_disconnected,mediate_deleted) {</code><br /><code> #include &lt;abstractions/lxc/container-base&gt;</code><br /><br /><code> # the container may never be allowed to mount devpts. If it does, it</code><br /><code> # will remount the host's devpts. We could allow it to do it with</code><br /><code> # the newinstance option (but, right now, we don't).</code><br /><code> deny mount fstype=devpts,</code><br /><code> # allow nfs mount everywhere</code><br /><code> mount fstype=nfs,</code><br /><code> mount fstype=nfs4,</code><br /><code> mount fstype=rpc_pipefs,</code><br /><code>}</code><br /><code>gstanden@vmem1:~$ </code></font></div><br /></font></div><font size="3">Well unfortunately, I still got some error that was simlar to the first one (but different). Unfortunately it's not available on my screen anymore and I can't cut and paste it because I stupidly did a clear screen, but you get the idea, this still did not fix it completely.<br /><br />Well, Ubuntu LXC documentation in this case came to the rescue. I followed the steps <a href="https://help.ubuntu.com/lts/serverguide/lxc.html" target="_blank" rel="nofollow">here</a> and ran this command as shown below which supposedly would fix this problem possibly (and together with another step, it did). Now as to what this command actually means, does, etc. idk. I am just trying to get Oracle RAC running in some LXC containers on Ubuntu why only God knows and since I'm still an intermediate level LXC newb, I don't entirely know what these commands did, but one thing they did actually do is get my LXC container to start normally again (with a couple of additional steps which I will also share).<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>sudo apparmor_parser -R /etc/apparmor.d/usr.bin.lxc-start</code><br /><code>sudo ln -s /etc/apparmor.d/usr.bin.lxc-start /etc/apparmor.d/disabled</code></font></div><br /></font><div><div><font size="3">So after these steps, still had issue. But that turned out to be from having mucked about trying to add a second network interface to my LXC container and now knowing how, which resulted in a port hanging off my sw1 OpenvSwitch and so I had to delete that manually as shown below (you won't need to do this for sure).<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>sudo ovs-vsctl del-port sw1 lxcora01b</code></font></div><br /></font></div><div><font size="3">Ok so after that was done, there was one more step that was required, I had to add some single line add-in to my LXC config file as shown below (bold line at end is the one I added).<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>root@vmem1:~# cd /var/lib/lxc/lxcora01</code><br /><code>root@vmem1:/var/lib/lxc/lxcora01# cat config</code><br /><br /><code># Template used to create this container: /usr/share/lxc/templates/lxc-oracle</code><br /><code># Parameters passed to the template:</code><br /><code># For additional config options, please look at lxc.container.conf(5)</code><br /><code>lxc.network.type = veth</code><br /><code>lxc.network.flags = up</code><br /><code># lxc.network.link = lxcbr0</code><br /><code>lxc.network.script.up = /etc/network/if-up.d/lxc-ifup</code><br /><code>lxc.network.script.down = /etc/network/if-down.d/lxc-ifdown</code><br /><code>lxc.network.veth.pair = lxcora01</code><br /><code># GLS 2014-10-22 Above 3 lines added for OpenvSwitch networking.</code><br /><code>lxc.network.hwaddr = 00:16:3e:5d:ae:70</code><br /><code>lxc.rootfs = /var/lib/lxc/lxcora01/rootfs</code><br /><code># Common configuration</code><br /><code>lxc.include = /usr/share/lxc/config/oracle.common.conf</code><br /><code># Container configuration for Oracle Linux 6.5</code><br /><code>lxc.arch = x86_64</code><br /><code>lxc.utsname = lxcora01</code><br /><code>lxc.cap.drop = sys_resource</code><br /><code>lxc.cap.drop = setfcap setpcap</code><br /><code># Networking</code><br /><code>lxc.network.name = eth0</code><br /><code>lxc.network.mtu = 1500</code><br /><code>lxc.network.hwaddr = fe:cb:23:4e:a9:22</code><br /><code>lxc.cgroup.devices.allow = a # Allow access to all devices</code><br /><code>lxc.cgroup.devices.allow = a 10:236 rwm</code><br /><code>lxc.cgroup.devices.allow = a 252:* rwm</code><br /><code>lxc.cgroup.devices.allow = a 8:* rwm</code><br /><code>lxc.mount.entry = /dev/mapper /var/lib/lxc/lxcora01/rootfs/dev/mapper none defaults,bind,create=dir 0 0</code><br /><code>lxc.mount.auto = proc sys cgroup</code><br /><code>lxc.mount.auto = proc:rw sys:rw cgroup-full:rw</code><br /><code>lxc.aa_allow_incomplete = 1</code><br /><b><code>lxc.aa_profile = unconfined</code></b><br /><br /><code>root@vmem1:/var/lib/lxc/lxcora01# </code></font></div><br /></font></div><div><font size="3">Now the LXC container lxcora01 would start and it would also get it's DHCP ip address that is on my OpenvSwitch sw1 and it mounted it's NFS shares. Halleluluah! The NFS shares are going to be the shared storage. LXC container lxcora01 is just a sort of test bed where I am trying to confirm that I can create all the things that will be needed. Here are the NFS shares that are setup for the RAC on NFS in the LXC container as shown below. Shown below are both the output of "df -TH" and also how the /etc/fstab is setup for NFS.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora01 ~]# df -TH</code><br /><br /><code>Filesystem Type Size Used Avail Use% Mounted on</code><br /><code>tmpfs tmpfs 4.0G 662M 3.3G 17% /dev/shm</code><br /><code>vmem1:/shared_config nfs 964G 465G 450G 51% /shared_config</code><br /><code>vmem1:/shared_grid nfs 964G 465G 450G 51% /shared_grid</code><br /><code>vmem1:/shared_home nfs 964G 465G 450G 51% /shared_home</code><br /><code>vmem1:/shared_data nfs 964G 465G 450G 51% /shared_data</code><br /><br /><code>[root@lxcora01 ~]# cat /etc/fstab</code><br /><br /><code>tmpfs /dev/shm tmpfs rw,exec,size=3500m 0 0</code><br /><code>vmem1:/shared_config /shared_config nfs rw,bg,hard,nointr,tcp,vers=3,timeo=600,rsize=32768,wsize=32768,actimeo=0 0 0</code><br /><code>vmem1:/shared_grid /shared_grid nfs rw,bg,hard,nointr,tcp,vers=3,timeo=600,rsize=32768,wsize=32768,actimeo=0 0 0</code><br /><code>vmem1:/shared_home /shared_home nfs rw,bg,hard,nointr,tcp,vers=3,timeo=600,rsize=32768,wsize=32768,actimeo=0 0 0</code><br /><code>vmem1:/shared_data /shared_data nfs rw,bg,hard,nointr,tcp,vers=3,timeo=600,rsize=32768,wsize=32768,actimeo=0 0 0</code><br /><br /><code>[root@lxcora01 ~]# </code></font></div><br /></font></div><div><font size="3">So I have storage. Presumably, subject to verification, I should be able to setup two new LXC containers and mount this NFS share to both of them for my shared RAC storage.<br /></font><h4><a name="TOC-Update-26-October-20141"></a>Update 26 October 2014</h4><p><font size="3">As previously noted in another update, I opted to use ASM block storage after all, not NFS. However, also as previously noted, I've kept all the NFS information in this blog post because at some point an 11gR2 RAC on LXC containers will be built using NFS. <br /></font></p><p><font size="3">This note is that to get NFS to mount at boot time, I had to add the resolution information for the NFS server (vmem1.vmem.org) to /etc/hosts, as it does not seem to be getting the information successfully at boot time from DNS. Therefore, below is my configuration for the system with respect to all these various needs. The setup involves edits to all of the following files:</font></p><p><font size="3">/etc/hosts</font></p><p><font size="3">/etc/nsswitch.conf</font></p><p><font size="3">/etc/dhcp/dhclient.conf</font></p><p><font size="3">/etc/resolv.conf<br /></font></p><p><font size="3">and these files in their current configuration are shown, with some relevant sections bolder where applicable, as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora02 ~]# cat /etc/dhcp/dhclient.conf<b> &lt;-- This puts the GNS information into /etc/resolv.conf on boot</b></code><br /><br /><code>prepend domain-name-servers 10.207.39.3;</code><br /><code>append domain-name " lxcrac-gns.vmem.org";</code><br /><br /><code>[root@lxcora02 ~]# cat /etc/resolv.conf</code><br /><br /><code>options attempts:2 timeout:1 <b>&lt;-- This is the resolv.conf format that is required for GNS</b></code><br /><code>; generated by /sbin/dhclient-script</code><br /><code>search vmem.org lxcrac-gns.vmem.org</code><br /><code>nameserver 10.207.39.3</code><br /><code>nameserver 10.207.39.1</code><br /><br /><code>[root@lxcora02 ~]# cat /etc/hosts <b>&lt;-- This is required so that the NFS mounts will mount at boot</b></code><br /><br /><code>127.0.0.1 localhost lxcora02</code><br /><br /><code>10.207.39.88 lxcora03.vmem.org lxcora03</code><br /><code>10.207.39.87 lxcora02.vmem.org lxcora02</code><br /><code>10.207.39.1  vmem1.vmem.org   vmem1</code><br /><br /><code>[root@lxcora02 ~]# cat /etc/nsswitch.conf </code><br /><code>#</code><br /><code># /etc/nsswitch.conf</code><br /><code>#</code><br /><code># An example Name Service Switch config file. This file should be</code><br /><code># sorted with the most-used services at the beginning.</code><br /><code>#</code><br /><code># The entry '[NOTFOUND=return]' means that the search for an</code><br /><code># entry should stop if the search in the previous entry turned</code><br /><code># up nothing. Note that if the search failed due to some other reason</code><br /><code># (like no NIS server responding) then the search continues with the</code><br /><code># next entry.</code><br /><code>#</code><br /><code># Valid entries include:</code><br /><code>#</code><br /><code># nisplus   Use NIS+ (NIS version 3)</code><br /><code># nis   Use NIS (NIS version 2), also called YP</code><br /><code># dns   Use DNS (Domain Name Service)</code><br /><code># files   Use the local files</code><br /><code># db   Use the local database (.db) files</code><br /><code># compat   Use NIS on compat mode</code><br /><code># hesiod   Use Hesiod for user lookups</code><br /><code># [NOTFOUND=return] Stop searching if not found so far</code><br /><code>#</code><br /><br /><code># To use db, put the "db" in front of "files" for entries you want to be</code><br /><code># looked up first in the databases</code><br /><code>#</code><br /><code># Example:</code><br /><code>#passwd: db files nisplus nis</code><br /><code>#shadow: db files nisplus nis</code><br /><code>#group: db files nisplus nis</code><br /><br /><code>passwd: files</code><br /><code>shadow: files</code><br /><code>group: files</code><br /><br /><code>#hosts: db files nisplus nis dns</code><br /><b><code>hosts: dns files nisplus nis db &lt;-- Want DNS to be the preferential name resolution method, so it goes first</code></b><br /><br /><code># Example - obey only what nisplus tells us...</code><br /><code>#services: nisplus [NOTFOUND=return] files</code><br /><code>#networks: nisplus [NOTFOUND=return] files</code><br /><code>#protocols: nisplus [NOTFOUND=return] files</code><br /><code>#rpc: nisplus [NOTFOUND=return] files</code><br /><code>#ethers: nisplus [NOTFOUND=return] files</code><br /><code>#netmasks: nisplus [NOTFOUND=return] files </code><br /><br /><code>bootparams: nisplus [NOTFOUND=return] files</code><br /><br /><code>ethers: files</code><br /><code>netmasks: files</code><br /><code>networks: files</code><br /><code>protocols: files</code><br /><code>rpc: files</code><br /><code>services: files</code><br /><br /><code>netgroup: nisplus</code><br /><br /><code>publickey: nisplus</code><br /><br /><code>automount: files nisplus</code><br /><code>aliases: files nisplus</code><br /><br /><code>[root@lxcora02 ~]# </code></font></div><br /></div><div><font size="3">Additional update to the update (a short while later). The below shows what would seem to be the ideal settings which are changed a bit from above for /etc/resolv.conf and /etc/dhcp/dhclient.conf so that (a) all external resolutions will work and (b) resolution of RAC VIPs will also work via GNS.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora03 ~]# nslookup lxcora03-vip.lxcrac-gns.vmem.org</code><br /><br /><code>Server:  10.207.39.3</code><br /><code>Address: 10.207.39.3#53</code><br /><br /><code>Name: lxcora03-vip.lxcrac-gns.vmem.org</code><br /><code>Address: 10.207.39.93</code><br /><br /><code>[root@lxcora03 ~]# nslookup lxcora03-vip<br /> </code><br /><code>;; Got recursion not available from 10.207.39.3, trying next server</code><br /><code>Server:  10.207.39.3</code><br /><code>Address: 10.207.39.3#53</code><br /><br /><code>Name: lxcora03-vip.lxcrac-gns.vmem.org</code><br /><code>Address: 10.207.39.93</code><br /><br /><code>[root@lxcora03 ~]# nslookup oracle652</code><br /><br /><code>;; Got recursion not available from 10.207.39.3, trying next server</code><br /><code>Server:  10.207.39.1</code><br /><code>Address: 10.207.39.1#53</code><br /><br /><code>Name: oracle652.vmem.org</code><br /><code>Address: 10.207.39.74</code><br /><br /><code>[root@lxcora03 ~]# cat /etc/dhcp/dhclient.conf</code><br /><br /><code>prepend domain-name-servers 10.207.39.3;</code><br /><code>append domain-name " lxcrac-gns.vmem.org";<br /><br /></code><code>[root@lxcora03 ~]# cat /etc/resolv.conf</code><br /><br /><code>options attempts:2 timeout:1 rotate</code><br /><code>; generated by /sbin/dhclient-script</code><br /><code>search vmem.org lxcrac-gns.vmem.org</code><br /><code>nameserver 10.207.39.3</code><br /><code>nameserver 10.207.39.1</code><br /><br /><code>[root@lxcora03 ~]# </code></font></div></font></div><div><h3><a name="TOC-A-Note-about-ntp"></a><font size="3"><font size="4">A Note about ntp</font></font></h3><p><font size="3">The ntp was installed according to some notes at oracle-base. It doesn't seem to run however in the LXC containers. So I uninstalled it using yum. And guess what? The Oracle has failed to startup! Even though ntp was not running, it seems has wanted it there. So I reinstalled ntp, and voila! has stack and all Oracle services started. Need to figure out what that was all about.</font><br /></p><h3><a name="TOC-Adding-a-Second-OpenvSwitch-Ethernet-Interface-to-LXC-Container"></a><font size="3"><font size="4">Adding a Second OpenvSwitch Ethernet Interface to LXC Container</font></font></h3><h4><a name="TOC-Update-26-October-20142"></a>Update 26 October 2014</h4><p><font size="3">I ended up using OpenvSwitch for all the networking and decommissioned the "lxcbr0" that I was using mostly as a convenience and out of sheer bold laziness. First, the lxcbr0 was having some issue where I could not ping or ssh between the LXC containers (which I believe occurred after I had setup OpenvSwitch for the public interface which may have somehow broken inter-container ssh), even though both were on the same 10.0.3.1 default LXC network, so opted to just create an additional OpenvSwitch for the private RAC interconnect network and completely decommission the out-of-the-box lxcbr0 default networking solution and go with an all-OpenvSwitch solution. I made some desultory efforts to solve this, but with no success on that front, decided that a better use of hair-pulling time would be to just setup the private RAC interconnect on OpenvSwitch since that is of much more interest anyway, and since OpenvSwitch is a fully-functional professional-grade layer 2 switch. Also, using OpenvSwitch makes the upcoming exercise to completely re-ip a GNS RAC a much more palatable and enjoyable exercise.</font></p><h4><a name="TOC-End-Update1"></a>End Update<br /></h4><p><font size="3">The LXC container config file used to obtain a second ethernet interface (i.e. the config file for having two ethernet interfaces in the LXC container) is shown below. The single most important reference used for getting a second network interface setup for the RAC private interconnect in the LXC container was <a href="http://tacchen.logdown.com/posts/2014/09/03/230736" target="_blank" rel="nofollow">here at Ta-Ching Chen's blog</a> and the <a href="http://www.boxtricks.com/multiple-network-interfaces-lxc-container/" target="_blank" rel="nofollow">Network Administrator Blog here</a>, and also some good info at <a href="http://box.matto.nl/lxctwonics.html" target="_blank" rel="nofollow">box.matto.nl here</a>, was also very helpful (this was actually the first reference that I found that got things rolling). This blog also had another page that gave the best information I had found on how to use LXC with OpenvSwitch networking. The solution for this RAC on LXC uses interface eth0 (on the OpenvSwitch network) as the public interface, and eth1, on the default LXC "lxcbr0" bridge for the private RAC interconnect network. The solution could of course use a second network defined in bind9 (named) for the private network, but it was convenient to use lxcbr0 default LXC networking for the private interconnect for this first attempt at building a 2-node Oracle 12c RAC on LXC. Below is shown the config file that is used. The two stanzas in the "Networking" section are the ethernet interfaces. Some entries of interest are bolded as shown below.</font></p><p><font size="3"><br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>root@vmem1:~# cd /var/lib/lxc/lxcora01</code><br /><code>root@vmem1:/var/lib/lxc/lxcora01# cat config</code><br /><code># Template used to create this container: /usr/share/lxc/templates/lxc-oracle</code><br /><code># Parameters passed to the template:</code><br /><code># For additional config options, please look at lxc.container.conf(5)</code><br /><br /><code># Networking</code><br /><code>lxc.network.type = veth</code><br /><code>lxc.network.flags = up</code><br /><b><code>lxc.network.script.up = /etc/network/if-up.d/lxc-ifup-sw1</code><br /><code>lxc.network.script.down = /etc/network/if-down.d/lxc-ifdown-sw1</code><br /><code>lxc.network.veth.pair = lxcora01-pub</code></b><br /><code>lxc.network.name = eth0</code><br /><code>lxc.network.mtu = 1500</code><br /><code>lxc.network.hwaddr = fe:cb:23:4e:a9:22</code><br /><br /><code>lxc.network.type = veth</code><br /><code>lxc.network.flags = up</code><br /><code>lxc.network.link = lxcbr0</code><br /><code>lxc.network.veth.pair = lxcora01-pri</code><br /><code>lxc.network.name = eth1</code><br /><code>lxc.network.mtu = 1500</code><br /><code>#lxc.network.hwaddr = fe:cb:23:4e:a9:23</code><br /><code>lxc.network.hwaddr = 00:16:3e:5d:ae:70</code><br /><br /><code># Common configuration</code><br /><code>lxc.rootfs = /var/lib/lxc/lxcora01/rootfs</code><br /><code>lxc.include = /usr/share/lxc/config/oracle.common.conf</code><br /><br /><code># Container configuration for Oracle Linux 6.5</code><br /><code>lxc.arch = x86_64</code><br /><code>lxc.utsname = lxcora01</code><br /><code>lxc.cap.drop = sys_resource</code><br /><code>lxc.cap.drop = setfcap setpcap</code><br /><br /><code># Devices</code><br /><code>lxc.cgroup.devices.allow = a # Allow access to all devices</code><br /><code>lxc.cgroup.devices.allow = a 10:236 rwm</code><br /><code>lxc.cgroup.devices.allow = a 252:* rwm</code><br /><code>lxc.cgroup.devices.allow = a 8:* rwm</code><br /><code>lxc.mount.entry = /dev/mapper /var/lib/lxc/lxcora01/rootfs/dev/mapper none defaults,bind,create=dir 0 0</code><br /><code>lxc.mount.auto = proc sys cgroup</code><br /><code>lxc.mount.auto = proc:rw sys:rw cgroup-full:rw</code><br /><code>lxc.aa_allow_incomplete = 1</code><br /><br /><code># GLS 2014-10-23 NFS</code><br /><code>lxc.aa_profile = unconfined</code><br /><br /><code>root@vmem1:/var/lib/lxc/lxcora01# </code></font></div><p><font size="4"><font size="3">A show of the OpenvSwitch configuration helps to show how the networking is setup for the public interface for the RAC as shown below. The lxcora01-pub port off of sw1 is shown in bold.</font><br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>root@vmem1:/var/lib/lxc/lxcora01# ovs-vsctl show</code><br /><code>2fc24710-34b5-4aa2-a32d-4e7bcb1afa1a</code><br /><code> Bridge "sw2"</code><br /><code> Port "sw2"</code><br /><code> Interface "sw2"</code><br /><code> type: internal</code><br /><code> Port "t5"</code><br /><code> Interface "t5"</code><br /><code> Port "t1"</code><br /><code> Interface "t1"</code><br /><code> Port "t6"</code><br /><code> Interface "t6"</code><br /><code> Port "t3"</code><br /><code> Interface "t3"</code><br /><code> Port "t2"</code><br /><code> Interface "t2"</code><br /><code> Port "t4"</code><br /><code> Interface "t4"</code><br /><code> Bridge "sw1"</code><br /><code> Port "s2"</code><br /><code> Interface "s2"</code><br /><code> Port "s4"</code><br /><code> Interface "s4"</code><br /><code> Port "s1"</code><br /><code> Interface "s1"</code><br /><code> Port "s6"</code><br /><code> Interface "s6"</code><br /><code> Port "sw1"</code><br /><code> Interface "sw1"</code><br /><code> type: internal</code><br /><code> Port "s5"</code><br /><code> Interface "s5"</code><br /><code><b> Port "lxcora01-pub"</b></code><b><br /><code> Interface "lxcora01-pub"</code></b><br /><code> Port "s3"</code><br /><code> Interface "s3"</code><br /><code> Bridge "sw3"</code><br /><code> Port "w4"</code><br /><code> Interface "w4"</code><br /><code> Port "w2"</code><br /><code> Interface "w2"</code><br /><code> Port "w6"</code><br /><code> Interface "w6"</code><br /><code> Port "w3"</code><br /><code> Interface "w3"</code><br /><code> Port "w5"</code><br /><code> Interface "w5"</code><br /><code> Port "w1"</code><br /><code> Interface "w1"</code><br /><code> Port "sw3"</code><br /><code> Interface "sw3"</code><br /><code> type: internal</code><br /><code> ovs_version: "2.0.2"</code><br /><code>root@vmem1:/var/lib/lxc/lxcora01# </code></font></div><p><font size="3">The two scripts refernced in the config file are shown below. These scripts dynamically create the port on the OpenvSwitch and then destroy the port when the LXC container is shut down.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>root@vmem1:/etc/network/if-up.d# cat lxc-ifup-sw1</code><br /><br /><code>#!/bin/bash</code><br /><code>ovsBr='sw1'</code><br /><code>ovs-vsctl --may-exist add-br ${ovsBr}</code><br /><code>ovs-vsctl --may-exist add-port ${ovsBr} $5</code><br /><br /><code>root@vmem1:/etc/network/if-up.d# pwd</code><br /><code>/etc/network/if-up.d</code><br /><code>root@vmem1:/etc/network/if-up.d# </code></font></div><p><font size="3">The similar script for shutdown is shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>root@vmem1:/etc/network/if-down.d# cat lxc-ifdown-sw1</code><br /><br /><code>#!/bin/bash</code><br /><code>ovsBr='sw1'</code><br /><code>ovs-vsctl --if-exists del-port ${ovsBr} $5</code><br /><br /><code>root@vmem1:/etc/network/if-down.d# pwd</code><br /><code>/etc/network/if-down.d</code><br /><br /><code>root@vmem1:/etc/network/if-down.d# ls -lrt lxc-ifdown-sw1</code><br /><code>-rwxr-xr-x 1 root root 67 Sep 6 20:03 lxc-ifdown-sw1</code><br /><code>root@vmem1:/etc/network/if-down.d# </code></font></div><h4><a name="TOC-Update-26-October-20143"></a>Update 26 October 2014</h4><p><font size="3">Couple of updates here. First. when shutting down the LXC container RAC nodes lxcora02 or lxcora03 it is best to use "shutdown -h now" and not "reboot" because the reboot sequence does not execute the "lxc-ifdown-sw*" script, and so when the LXC node tries to restart, it fails because the port on the OpenvSwitch still exists (was not destroyed at shutdown). Thus, shutdown should be used, not reboot.</font><br /></p><p><font size="3">Found that the "if-exists" clause on the "del-port" command above was causing the "del-port" command to fail so took it out. Here is the form of the commands which is working and which is reproducibly and reliably removing the port at node shutdown, as shown below. This format should be used (without the "if-exists" clause).</font></p><p><font size="3">Another update, a short while later, also found that even with the "if-exists" clause removed, this command was still sometimes failing, not sure why. So in addition, I also put in an if-then to re-run the command if the first run of the command was unsuccessful. Here is the current scritping being used, so far successfully, for destroying the port on shutdown.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>gstanden@vmem1:/etc/network/if-down.d$ cat lxc-ifdown-sw1</code><br /><code>#!/bin/bash</code><br /><code>ovsBr='sw1'</code><br /><code>sudo ovs-vsctl del-port ${ovsBr} $5</code><br /><code>gstanden@vmem1:/etc/network/if-down.d$ cat lxc-ifdown-sw4</code><br /><code>#!/bin/bash</code><br /><code>ovsBr='sw4'</code><br /><code>sudo ovs-vsctl del-port ${ovsBr} $5</code><br /><code>gstanden@vmem1:/etc/network/if-down.d$</code></font></font></div><p><font size="3">So here is the version of the script for down which seems to be working every time as shown below. You can see the function has been added to re-run the del-port command if it still exists.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>gstanden@vmem1:~$ cat /etc/network/if-down.d/lxc-ifdown-sw1</code><br /><br /><code>#!/bin/bash</code><br /><code>ovsBr='sw1'</code><br /><code>sudo ovs-vsctl del-port ${ovsBr} $5</code><br /><b><code>function CheckPortExists</code><br /><code>{</code><br /><code>sudo ovs-vsctl show | grep \"$5\" | grep Port | sed 's/^[ \t]*//;s/[ \t]*$//' | cut -f2 -d' ' | sed 's/"//g'</code><br /><code>}</code><br /><code>PortExists=$(CheckPortExists)</code><br /><code>if [ "$PortExists" = "$5" ]</code><br /><code>then</code><br /><code>sudo ovs-vsctl del-port ${ovsBr} $5</code><br /><code>fi</code></b><br /><br /><code>gstanden@vmem1:~$ </code></font></font></div><h4><a name="TOC-End-Update2"></a>End Update</h4><h4><a name="TOC-Update-27-October-2014"></a>Update 27 October 2014</h4><p><font size="3">Every now and then the above lxc-ifdown-sw1 script is still failing to clear out the ports from the OpenvSwitch. I'm going to give each LXC container it's own file because the only thing I can think of is that the instances may be concurrently trying to access the files and this is causing them to occassionally fail.</font></p><p><font size="3">So even larger changes were made today later in the day and so far they seem to be working perfectly. First, I added 3 more private networks so that on this install I will add HAIP 4-network to the build. Second, I have given each interface up/down it's own file so that there will be no chance of interfaces trying to access the same up/down files. Here are those files as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>gstanden@vmem1:/etc/network/if-up.d$ ls -l lxcora*</code><br /><code>-rwxr-xr-x 1 root root 117 Oct 27 20:09 lxcora02-ifup-sw1</code><br /><code>-rwxr-xr-x 1 root root 117 Oct 27 20:09 lxcora02-priv1-ifup-sw4</code><br /><code>-rwxr-xr-x 1 root root 117 Oct 27 20:31 lxcora02-priv2-ifup-sw5</code><br /><code>-rwxr-xr-x 1 root root 117 Oct 27 20:31 lxcora02-priv3-ifup-sw6</code><br /><code>-rwxr-xr-x 1 root root 117 Oct 27 20:31 lxcora02-priv4-ifup-sw7</code><br /><code>-rwxr-xr-x 1 root root 117 Oct 27 20:09 lxcora03-ifup-sw1</code><br /><code>-rwxr-xr-x 1 root root 117 Oct 27 20:09 lxcora03-priv1-ifup-sw4</code><br /><code>-rwxr-xr-x 1 root root 117 Oct 27 20:32 lxcora03-priv2-ifup-sw5</code><br /><code>-rwxr-xr-x 1 root root 117 Oct 27 20:32 lxcora03-priv3-ifup-sw6</code><br /><code>-rwxr-xr-x 1 root root 117 Oct 27 20:33 lxcora03-priv4-ifup-sw7</code><br /><code>gstanden@vmem1:/etc/network/if-up.d$ cd ..</code><br /><code>gstanden@vmem1:/etc/network$ cd if-down.d</code><br /><code>gstanden@vmem1:/etc/network/if-down.d$ ls -l lxcora*</code><br /><code>-rwxr-xr-x 1 root root 300 Oct 27 20:08 lxcora02-ifdown-sw1</code><br /><code>-rwxr-xr-x 1 root root 301 Oct 27 20:20 lxcora02-priv1-ifdown-sw4</code><br /><code>-rwxr-xr-x 1 root root 301 Oct 27 20:21 lxcora02-priv2-ifdown-sw5</code><br /><code>-rwxr-xr-x 1 root root 301 Oct 27 20:21 lxcora02-priv3-ifdown-sw6</code><br /><code>-rwxr-xr-x 1 root root 301 Oct 27 20:21 lxcora02-priv4-ifdown-sw7</code><br /><code>-rwxr-xr-x 1 root root 300 Oct 27 20:09 lxcora03-ifdown-sw1</code><br /><code>-rwxr-xr-x 1 root root 301 Oct 27 20:20 lxcora03-priv1-ifdown-sw4</code><br /><code>-rwxr-xr-x 1 root root 301 Oct 27 20:21 lxcora03-priv2-ifdown-sw5</code><br /><code>-rwxr-xr-x 1 root root 301 Oct 27 20:21 lxcora03-priv3-ifdown-sw6</code><br /><code>-rwxr-xr-x 1 root root 301 Oct 27 20:21 lxcora03-priv4-ifdown-sw7</code><br /><code>gstanden@vmem1:/etc/network/if-down.d$ </code></font></font></div><p><font size="3">And here is an example of how those files look as shown below. The files are all the same except for the name of the particular OpenvSwitch as shown below.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><p><font size="4"><code>gstanden@vmem1:/etc/network/if-down.d$ cat lxc-ifdown-sw1</code></font></p><p><font size="4"><code>#!/bin/bash</code><br /><code>ovsBr='sw1'</code><br /><code>sudo ovs-vsctl del-port ${ovsBr} $5</code><br /><code>function CheckPortExists</code><br /><code>{</code><br /><code>sudo ovs-vsctl show | grep \"$5\" | grep Port | sed 's/^[ \t]*//;s/[ \t]*$//' | cut -f2 -d' ' | sed 's/"//g'</code><br /><code>}</code><br /><code>PortExists=$(CheckPortExists)</code><br /><code>if [ "$PortExists" = "$5" ]</code><br /><code>then</code><br /><code>sudo ovs-vsctl del-port ${ovsBr} $5</code><br /><code>fi</code></font></p><p><font size="4"><code>gstanden@vmem1:/etc/network/if-down.d$ </code><br /><code>gstanden@vmem1:/etc/network/if-down.d$ diff lxc-ifdown-sw4 lxc-ifdown-sw1</code><br /><code>2c2</code><br /><code>&lt; ovsBr='sw4'</code><br /><code>---</code><br /><code>&gt; ovsBr='sw1'</code></font></p></div><h4><a name="TOC-End-Update3"></a>End Update<br /></h4><h3><a name="TOC-Edit-etc-dhcp-dhcpclient.conf"></a>Edit /etc/dhcp/dhcpclient.conf <br /></h3><p><font size="3">To get the /etc/resolv.conf to generate correctly at startup of the LXC container RAC node, it was necessary to edit the /etc/dhcp/dhcpclient.conf file (inside the LXC container) as shown below. Note that the "nameserver 10.0.3.1" is added automatically without need of an entry in dhcpclient.conf and it was only the need to get the LXC container to be able to resolve DNS names on the vmem.org 10.207.39.1 network which drove the need to add these lines to the dhcpclient.conf file.</font><br /></p></div><div><font size="3"><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ ssh root@lxcora01</code><br /><code>root@lxcora01's password: </code><br /><code>Last login: Fri Oct 24 10:59:59 2014 from vmem1.vmem.org</code><br /><br /><code>[root@lxcora01 ~]# cat /etc/dhcp/dhclient.conf</code><br /><br /><code>prepend domain-name-servers 10.207.39.1;</code><br /><code>supersede domain-search "vmem.org";</code><br /><br /><code>[root@lxcora01 ~]# </code></font></div><br />The /etc/resolv.conf file which results from the lines added to dhcpclient.conf is shown below. This /etc/resolv.conf will resolve named and addresses on both networks.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora01 ~]# cat /etc/resolv.conf</code><br /><br /><code>; generated by /sbin/dhclient-script</code><br /><code>search vmem.org.</code><br /><code>nameserver 10.207.39.1</code><br /><code>nameserver 10.0.3.1</code><br /><br /><code>[root@lxcora01 ~]# </code></font></div><br /></font></div><div><font size="3">For example, here is a lookup of the Grid Naming Service (GNS) DNS entry for this RAC.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora01 ~]# nslookup lxcrac-gns</code><br /><code>Server:  10.207.39.1</code><br /><code>Address: 10.207.39.1#53</code><br /><br /><code>Name: lxcrac-gns.vmem.org</code><br /><code>Address: 10.207.39.3</code><br /><br /><code>[root@lxcora01 ~]# nslookup 10.207.39.3</code><br /><code>Server:  10.207.39.1</code><br /><code>Address: 10.207.39.1#53</code><br /><br /><code>3.39.207.10.in-addr.arpa name = lxcrac-gns.vmem.org.</code><br /><br /><code>[root@lxcora01 ~]# </code></font></div><br /></font></div><div><font size="3">Here's a lookup of the RAC node itself.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora01 ~]# nslookup lxcora01</code><br /><code>Server:  10.207.39.1</code><br /><code>Address: 10.207.39.1#53</code><br /><br /><code>Name: lxcora01.vmem.org</code><br /><code>Address: 10.207.39.85</code><br /><br /><code>[root@lxcora01 ~]# nslookup 10.207.39.85</code><br /><code>Server:  10.207.39.1</code><br /><code>Address: 10.207.39.1#53</code><br /><br /><code>85.39.207.10.in-addr.arpa name = lxcora01.vmem.org.</code><br /><br /><code>[root@lxcora01 ~]# </code></font></div><br /></font></div><div><font size="3">Notice that if the vmem.org and associated nameserver information were not in /etc/resolv.conf it would resolve the LXC RAC node on the default LXC lxcbr0 network (private RAC interconnect network) instead of the desired public network resolution which is why the additional entries in /etc/resolv.conf are needed.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><br /><code>[root@lxcora01 ~]# cat /etc/resolv.conf</code><br /><br /><code>; generated by /sbin/dhclient-script</code><br /><code>#search vmem.org.</code><br /><code>#nameserver 10.207.39.1</code><br /><code>nameserver 10.0.3.1</code><br /><br /><code>[root@lxcora01 ~]# nslookup lxcora01</code><br /><code>Server:  10.0.3.1</code><br /><code>Address: 10.0.3.1#53</code><br /><br /><code>Name: lxcora01</code><br /><code>Address: 10.0.3.2</code><br /><br /><code>[root@lxcora01 ~]# </code></font></div></font><h3><a name="TOC-Setup-Oracle-GNS-Grid-Naming-Service-on-LXC-Container"></a>Setup Oracle GNS (Grid Naming Service) on LXC Container<br /></h3><p><font size="3"><a href="http://martincarstenbach.wordpress.com/2011/11/17/simplified-gns-setup-for-rac-11-2-0-2-and-newer/" target="_blank" rel="nofollow">Martin Carstenbach</a> has a great post on how to test to be sure the GNS setup is correct <a href="http://martincarstenbach.wordpress.com/2011/11/17/simplified-gns-setup-for-rac-11-2-0-2-and-newer/" target="_blank" rel="nofollow">here at Simplified GNS setup for RAC 11.2.0.2 and newer</a>.</font> <font size="3">That's what is about to be done. Last night the GNS was setup with help from these references. This is my first time using GNS - I've been an Oracle DBA over 20 years but kept putting this off and using static DNS entries for RAC. However , with this setup, so much work has been done setting up this laptop system to use Dynamic DNS for everything, that it was very appealing to stay consistent with that motif so here now finally using GNS which is long overdue. Some references that were found very helpful were <a href="http://72.32.201.108/rac/Oracle_RAC_with_GNS.html" target="_blank" rel="nofollow">here</a></font> <font size="3">and also the <a href="http://docs.oracle.com/database/121/CWLIN/networks.htm#CWLIN213" target="_blank" rel="nofollow">Oracle official documentation here</a></font> <font size="3">and Martin Carstenbach has some very useful-looking blogs that I have not used (yet) but which look like they will eventually be consulted since they are chock full of great information <a href="http://martincarstenbach.wordpress.com/2013/11/26/inside-a-rac-12c-gns-cluster/" target="_blank" rel="nofollow">here</a> and <a href="http://martincarstenbach.wordpress.com/2009/10/02/build-your-own-11-2-rac-system-part-ii-dns-dhcp-for-gns/" target="_blank" rel="nofollow">here</a></font>.</p><p><font size="3">Shown below are the forward zone lookup file and the reverse zone lookup file with the GNS additions in bold which will be used on this 2-node LXC RAC. This is on the Ubuntu Host OS and included is the directory location of the zone files as well as the checkzone test. The DNS environment on this laptop uses a dynamic DNS and DHCP setup which was built from help from <a href="http://blog.bigdinosaur.org/running-bind9-and-isc-dhcp/" target="_blank" rel="nofollow">Lee Hutchinson's Big Dinosaur blog here</a>.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>root@vmem1:/var/lib/bind# pwd</code><br /><br /><code>/var/lib/bind</code><br /><br /><code>root@vmem1:/var/lib/bind# cat fwd.vmem.org</code><br /><br /><code>$ORIGIN .</code><br /><code>$TTL 86400 ; 1 day</code><br /><code>vmem.org  IN SOA vmem1.vmem.org. postmaster.vmem.org. (</code><br /><code>    1410240112 ; serial</code><br /><code>    60 ; refresh (1 minute)</code><br /><code>    1800 ; retry (30 minutes)</code><br /><code>    604800 ; expire (1 week)</code><br /><code>    86400 ; minimum (1 day)</code><br /><code>    )</code><br /><code>   NS vmem1.vmem.org.</code><br /><code>$ORIGIN vmem.org.</code><br /><code>_sflow._udp  TXT "txtvers=1" "polling=20" "sampling=512"</code><br /><code>   SRV 0 0 6343 vmem1</code><br /><code>$TTL 3600 ; 1 hour</code><br /><code>lxcora01  A 10.207.39.85</code><br /><code>   TXT "001060b0cef034d0d8b3ec569ea6615637"</code><br /><code>$TTL 86400 ; 1 day</code><br /><code>lxcora1   A 10.207.39.79</code><br /><code>$TTL 3600 ; 1 hour</code><br /><code>lxcora3   A 10.207.39.83</code><br /><code>   TXT "007e7554cced9024a1bac46cc4370293c6"</code><br /><code>lxcora5   A 10.207.39.84</code><br /><code>   TXT "0092ff209913ebc9ca832c943e48eff86f"</code><br /><code>$TTL 86400 ; 1 day</code><br /><code>oracle631  A 10.207.39.72</code><br /><code>oracle632  A 10.207.39.76</code><br /><code>oracle652  A 10.207.39.74</code><br /><code>vmem1   A 10.207.39.1</code><br /><b><code>lxcrac-gns  A 10.207.39.3</code></b><br /><code>$TTL 3600 ; 1 hour</code><br /><code>vmem2   A 10.207.39.81</code><br /><code>   TXT "3118a6c1688c312b822454df8baa10bfff"</code><br /><code>; subdomain (lxcrac1.vmem.org) for Oracle RAC GNS</code><br /><b><code>$ORIGIN lxcrac.vmem.org.</code><br /><code>@   IN NS lxcrac-gns.vmem.org.</code></b><br /><br /><code>root@vmem1:/var/lib/bind# named-checkzone vmem.org fwd.vmem.org</code><br /><br /><code>zone vmem.org/IN: loaded serial 1410240112</code><br /><code>OK</code><br /><br /><code>root@vmem1:/var/lib/bind# </code></font></font></div></div><div><h4><a name="TOC-Update-27-October-20141"></a>Update 27 October 2014</h4><p><font size="3">So because I had forgotten to change the name of my ASM system diskgroup from the default "DATA" during the GI install to "SYSTEMDG" I tried to move the DATA over to SYSTEMDG but this has become significantly more complicated. Levi Pereira had a very comprehensive procedure, but there were some issues, and I decided to instead uninstall the entire GI and redo it. I had some other reason for a redo too. I wanted to simplify the naming convention for the GNS setup as shown below this is the revised fwd.vmem.org and rev.vmem.org files on the Ubuntu host as shown below. The GNS related parts revised are shown in bold. On this install the delegated domain will simply be "gns1.vmem.org". The VIP was changed to simply be "lxc1". Also, I missed some screenshots during the GI install that pertained to some non-fatal errors, so I'm going to be sure I get those on the next go of installing GI.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>root@vmem1:/var/lib/bind# cat fwd.vmem.org</code><br /><code>$ORIGIN .</code><br /><code>$TTL 86400 ; 1 day</code><br /><code>vmem.org  IN SOA vmem1.vmem.org. postmaster.vmem.org. (</code><br /><code>    1410271922 ; serial</code><br /><code>    60 ; refresh (1 minute)</code><br /><code>    1800 ; retry (30 minutes)</code><br /><code>    604800 ; expire (1 week)</code><br /><code>    86400 ; minimum (1 day)</code><br /><code>    )</code><br /><code>   NS vmem1.vmem.org.</code><br /><code>$ORIGIN vmem.org.</code><br /><code>_sflow._udp  TXT "txtvers=1" "polling=20" "sampling=512"</code><br /><code>   SRV 0 0 6343 vmem1</code><br /><code>$TTL 3600 ; 1 hour</code><br /><code>lxcora01   A 10.207.39.85</code><br /><code>   TXT "001060b0cef034d0d8b3ec569ea6615637"</code><br /><code>lxcora02  A 10.207.39.87</code><br /><code>   TXT "001d6eb17bf9f9081897f98548b528bfee"</code><br /><code>lxcora03  A 10.207.39.88</code><br /><code>   TXT "0084a3923f9bbe6559acbb98034af0c10a"</code><br /><code>$TTL 86400 ; 1 day</code><br /><code>lxcora1   A 10.207.39.79</code><br /><code>$TTL 3600 ; 1 hour</code><br /><code>lxcora3   A 10.207.39.83</code><br /><code>   TXT "007e7554cced9024a1bac46cc4370293c6"</code><br /><code>lxcora5   A 10.207.39.84</code><br /><code>   TXT "0092ff209913ebc9ca832c943e48eff86f"</code><br /><code>$TTL 86400 ; 1 day</code><br /><code>oracle631  A 10.207.39.72</code><br /><code>oracle632  A 10.207.39.76</code><br /><code>oracle652  A 10.207.39.74</code><br /><b><code>lxc1   A 10.207.39.3</code></b><br /><code>vmem1   A 10.207.39.1</code><br /><code>$TTL 3600 ; 1 hour</code><br /><code>vmem2   A 10.207.39.81</code><br /><code>   TXT "3118a6c1688c312b822454df8baa10bfff"</code><br /><b><code>$ORIGIN gns1.vmem.org</code><br /><code>@   IN NS lxc1.vmem.org.</code></b><br /><code>root@vmem1:/var/lib/bind# </code></font></font></div><font size="3"><br /></font><font size="3">And this is the reverse lookup zone file information as shown below with the added reverse lookup for lxc1 in bold.<br /><br /></font></div><div class="sites-codeblock sites-codesnippet-block"><div><code><font size="4">gstanden@vmem1:~$ cat /var/lib/bind/rev.vmem.org<br />$ORIGIN .<br />$TTL 86400 ; 1 day<br />39.207.10.in-addr.arpa IN SOA vmem1.vmem.org. postmaster.vmem.org. (<br />    1410271922 ; serial<br />    3600 ; refresh (1 hour)<br />    1800 ; retry (30 minutes)<br />    604800 ; expire (1 week)<br />    86400 ; minimum (1 day)<br />    )<br />   NS vmem1.vmem.org.<br />$ORIGIN 39.207.10.in-addr.arpa.<br />1    PTR vmem1.vmem.org.<br /><b>3    PTR lxc1.vmem.org.</b><br />72   PTR oracle631.vmem.org.<br />76   PTR oracle632.vmem.org.<br />$TTL 3600 ; 1 hour<br />81   PTR vmem2.vmem.org.<br />85   PTR lxcora01.vmem.org.<br />87   PTR lxcora02.vmem.org.<br />88   PTR lxcora03.vmem.org.<br />$TTL 86400 ; 1 day<br />90   PTR oracle635.vmem.org.<br />39.207.10.in-addr.arpa NS vmem1.vmem.org.<br />vmem1   A 10.207.39.1<br />gstanden@vmem1:~$ <br /></font></code></div></div><br /><div><font size="3">Next just finished getting the /etc/resolv.conf setup for GNS. There was quite a bit of discovery and work there. Here is what the /etc/resolv.conf looks like for this system as correctly configured shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora01 ~]# cat /etc/resolv.conf</code><br /><br /><code>options attempts:2 timeout:1</code><br /><code>; generated by /sbin/dhclient-script</code><br /><code>search vmem.org gns.vmem.org</code><br /><code>nameserver 10.207.39.3</code><br /><code>nameserver 10.207.39.1</code><br /><code>nameserver 10.0.3.1<br /></code></font><br /><font size="4"><code><font size="3"><font size="4"><code>[root@lxcora01 ~]#</code></font></font><br /></code></font></div><br /></font></div><div><font size="3">As many know, /etc/resolv.conf gets overwritten at each reboot (i.e. each restart of networking) so some other files have to be configured to get the desired result. For this system, configuration of /etc/dhcp/dhclient.conf was sufficient to setup the required "search" and "nameserver" options (and order of nameservers matters in this case). Shown below is the required /etc/dhcp/dhclient.conf file.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora01 ~]# cat /etc/dhcp/dhclient.conf</code><br /><br /><code>prepend domain-name-servers 10.207.39.3,10.207.39.1;</code><br /><code>append domain-name " gns.vmem.org";</code><br /><br /><code>[root@lxcora01 ~]# </code></font></div><br /></font></div><div><font size="3">As shown above, the file sets the FIRST nameserver as the GNS nameserver, then sets the vmem.org BIND9 namerserver second. The third nameserver entry is probably irrelevant and is set automatically by other settings (unknown) and does not harm being there afaik, and is part of the default LXC network "lxcbr0" setup, so no effort was made to remove it. <br /><br /></font></div><div><font size="3">The "options" line at the top of the /etc/resolv.conf was simply typed into the resolv.conf and it was found that it persists across reboots, so apparently the "options" directives are not overwritten when networking restarts. So, the resolv.conf is believed to be complete. There were several references that were very helpful working out how to get the required options in the /etc/resolv.conf at the pages <a href="http://www.cyberciti.biz/faq/dhclient-etcresolvconf-hooks/" target="_blank" rel="nofollow">here at good old Cyberciti</a>, <a href="http://askubuntu.com/questions/135629/how-to-add-some-additional-dns-search-domains-without-ignoring-the-ones-returned" target="_blank" rel="nofollow">here at good old AskUbuntu (for the "append" directive)</a>, <a href="http://serverfault.com/questions/562079/adjusting-how-long-linux-takes-to-fail-over-to-backup-dns-server-listed-in-resol" target="_blank" rel="nofollow">colleague Edmund White at ServerFault</a>.<br /></font><h4><a name="TOC-End-Update4"></a><font size="3">End Update</font></h4><h3><a name="TOC-Speed-Up-SSH"></a>Speed Up SSH</h3><p><font size="3">After setting up GNS in the /etc/resolv.conf ssh became markedly slow. The following fixes were found <a href="http://www.thegeekstuff.com/2010/07/openssh-slow-at-ssh2_msg_service_accept-received/" target="_blank" rel="nofollow">here at the GeekStuff</a> and also <a href="http://injustfiveminutes.com/2013/03/13/fixing-ssh-login-long-delay/" target="_blank" rel="nofollow">here at In Just Five Minutes</a> and worked very well. Here is the /etc/ssh/sshd_config that is working very well with the GNS setup as shown below with the changed entries in bold. The two options that should be used are:</font></p><ul><li><font size="3">GSSAPIAuthentication no</font></li><li><font size="3">UseDNS no<br /></font></li></ul></div><div><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora02 ~]# cat /etc/ssh/sshd_config </code><br /><code># $OpenBSD: sshd_config,v 1.80 2008/07/02 02:24:18 djm Exp $</code><br /><br /><code># This is the sshd server system-wide configuration file. See</code><br /><code># sshd_config(5) for more information.</code><br /><br /><code># This sshd was compiled with PATH=/usr/local/bin:/bin:/usr/bin</code><br /><br /><code># The strategy used for options in the default sshd_config shipped with</code><br /><code># OpenSSH is to specify options with their default value where</code><br /><code># possible, but leave them commented. Uncommented options change a</code><br /><code># default value.</code><br /><br /><code>#Port 22</code><br /><code>#AddressFamily any</code><br /><code>#ListenAddress 0.0.0.0</code><br /><code>#ListenAddress ::</code><br /><br /><code># Disable legacy (protocol version 1) support in the server for new</code><br /><code># installations. In future the default will change to require explicit</code><br /><code># activation of protocol 1</code><br /><code>Protocol 2</code><br /><br /><code># HostKey for protocol version 1</code><br /><code>#HostKey /etc/ssh/ssh_host_key</code><br /><code># HostKeys for protocol version 2</code><br /><code>#HostKey /etc/ssh/ssh_host_rsa_key</code><br /><code>#HostKey /etc/ssh/ssh_host_dsa_key</code><br /><br /><code># Lifetime and size of ephemeral version 1 server key</code><br /><code>#KeyRegenerationInterval 1h</code><br /><code>#ServerKeyBits 1024</code><br /><br /><code># Logging</code><br /><code># obsoletes QuietMode and FascistLogging</code><br /><code>#SyslogFacility AUTH</code><br /><code>SyslogFacility AUTHPRIV</code><br /><code>#LogLevel INFO</code><br /><br /><code># Authentication:</code><br /><br /><code>#LoginGraceTime 2m</code><br /><code>#PermitRootLogin yes</code><br /><code>#StrictModes yes</code><br /><code>#MaxAuthTries 6</code><br /><code>#MaxSessions 10</code><br /><br /><code>#RSAAuthentication yes</code><br /><code>#PubkeyAuthentication yes</code><br /><code>#AuthorizedKeysFile .ssh/authorized_keys</code><br /><code>#AuthorizedKeysCommand none</code><br /><code>#AuthorizedKeysCommandRunAs nobody</code><br /><br /><code># For this to work you will also need host keys in /etc/ssh/ssh_known_hosts</code><br /><code>#RhostsRSAAuthentication no</code><br /><code># similar for protocol version 2</code><br /><code>#HostbasedAuthentication no</code><br /><code># Change to yes if you don't trust ~/.ssh/known_hosts for</code><br /><code># RhostsRSAAuthentication and HostbasedAuthentication</code><br /><code>#IgnoreUserKnownHosts no</code><br /><code># Don't read the user's ~/.rhosts and ~/.shosts files</code><br /><code>#IgnoreRhosts yes</code><br /><br /><code># To disable tunneled clear text passwords, change to no here!</code><br /><code>#PasswordAuthentication yes</code><br /><code>#PermitEmptyPasswords no</code><br /><code>PasswordAuthentication yes</code><br /><br /><code># Change to no to disable s/key passwords</code><br /><code>#ChallengeResponseAuthentication yes</code><br /><code>ChallengeResponseAuthentication no</code><br /><br /><code># Kerberos options</code><br /><code>#KerberosAuthentication no</code><br /><code>#KerberosOrLocalPasswd yes</code><br /><code>#KerberosTicketCleanup yes</code><br /><code>#KerberosGetAFSToken no</code><br /><code>#KerberosUseKuserok yes</code><br /><br /><code># GSSAPI options</code><br /><code>#GSSAPIAuthentication yes</code><br /><b><code>GSSAPIAuthentication no</code></b><br /><code>#GSSAPICleanupCredentials yes</code><br /><code>GSSAPICleanupCredentials yes</code><br /><code>#GSSAPIStrictAcceptorCheck yes</code><br /><code>#GSSAPIKeyExchange no</code><br /><br /><code># Set this to 'yes' to enable PAM authentication, account processing, </code><br /><code># and session processing. If this is enabled, PAM authentication will </code><br /><code># be allowed through the ChallengeResponseAuthentication and</code><br /><code># PasswordAuthentication. Depending on your PAM configuration,</code><br /><code># PAM authentication via ChallengeResponseAuthentication may bypass</code><br /><code># the setting of "PermitRootLogin without-password".</code><br /><code># If you just want the PAM account and session checks to run without</code><br /><code># PAM authentication, then enable this but set PasswordAuthentication</code><br /><code># and ChallengeResponseAuthentication to 'no'.</code><br /><code>#UsePAM no</code><br /><code>UsePAM yes</code><br /><br /><code># Accept locale-related environment variables</code><br /><code>AcceptEnv LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES</code><br /><code>AcceptEnv LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT</code><br /><code>AcceptEnv LC_IDENTIFICATION LC_ALL LANGUAGE</code><br /><code>AcceptEnv XMODIFIERS</code><br /><br /><code>#AllowAgentForwarding yes</code><br /><code>#AllowTcpForwarding yes</code><br /><code>#GatewayPorts no</code><br /><code>#X11Forwarding no</code><br /><code>X11Forwarding yes</code><br /><code>#X11DisplayOffset 10</code><br /><code>#X11UseLocalhost yes</code><br /><code>#PrintMotd yes</code><br /><code>#PrintLastLog yes</code><br /><code>#TCPKeepAlive yes</code><br /><code>#UseLogin no</code><br /><code>#UsePrivilegeSeparation yes</code><br /><code>#PermitUserEnvironment no</code><br /><code>#Compression delayed</code><br /><code>#ClientAliveInterval 0</code><br /><code>#ClientAliveCountMax 3</code><br /><code>#ShowPatchLevel no</code><br /><b><code>UseDNS no</code></b><br /><code>#PidFile /var/run/sshd.pid</code><br /><code>#MaxStartups 10:30:100</code><br /><code>#PermitTunnel no</code><br /><code>#ChrootDirectory none</code><br /><br /><code># no default banner path</code><br /><code>#Banner none</code><br /><br /><code># override default of no subsystems</code><br /><code>Subsystem sftp /usr/libexec/openssh/sftp-server</code><br /><br /><code># Example of overriding settings on a per-user basis</code><br /><code>#Match User anoncvs</code><br /><code># X11Forwarding no</code><br /><code># AllowTcpForwarding no</code><br /><code># ForceCommand cvs server</code><br /><code>[root@lxcora02 ~]# </code></font></div><h3><a name="TOC-Test-GNS-Configuration-Using-cluvfy"></a>Test GNS Configuration Using cluvfy</h3><p><font size="3">The configuration of the GNS can be tested as described by <a href="http://martincarstenbach.wordpress.com/2011/11/17/simplified-gns-setup-for-rac-11-2-0-2-and-newer/" target="_blank" rel="nofollow">Martin Carstenbach here</a>.</font> <font size="3">The results of my test are shown below.</font><br /></p></div><div><font size="3"><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora01 ~]# su - grid</code><br /><code>[grid@lxcora01 ~]$ cd grid</code><br /><code>[grid@lxcora01 grid]$ ./runcluvfy.sh comp gns -precrsinst -domain vmem.org -vip 10.207.39.3 -verbose -n lxcora01</code><br /><br /><code>Verifying GNS integrity </code><br /><br /><code>Checking GNS integrity...</code><br /><code>Checking if the GNS subdomain name is valid...</code><br /><code>The GNS subdomain name "vmem.org" is a valid domain name</code><br /><code>Checking if the GNS VIP is a valid address...</code><br /><code>GNS VIP "10.207.39.3" resolves to a valid IP address</code><br /><code>Checking the status of GNS VIP...</code><br /><br /><code>GNS integrity check passed</code><br /><br /><code>Verification of GNS integrity was successful. </code><br /><code>[grid@lxcora01 grid]$ </code></font></div></font><h4><a name="TOC-Update-27-October-20142"></a>Update 27 October 2014</h4><div class="sites-codeblock sites-codesnippet-block"><p><font size="4"><code>Here is the GNS configuration precr</code><code>sinst check for the re</code><code>install as shown b</code><code>elow.</code></font></p><p><font size="4"><code>[grid@lxcora02 grid]$ ./runcluvfy.sh comp gns -precrsinst -domain vmem.org -vip 10.207.39.3 -verbose -n lxcora02,lxcora03</code><br /><br /><code>Verifying GNS integrity </code><br /><br /><code>Checking GNS integrity...</code><br /><code>Checking if the GNS subdomain name is valid...</code><br /><code>The GNS subdomain name "vmem.org" is a valid domain name</code><br /><code>Checking if the GNS VIP is a valid address...</code><br /><code>GNS VIP "10.207.39.3" resolves to a valid IP address</code><br /><code>Checking the status of GNS VIP...</code><br /><br /><code>GNS integrity check passed</code><br /><br /><code>Verification of GNS integrity was successful. </code><br /><code>[grid@lxcora02 grid]$ </code></font></p></div></div><div><h4><a name="TOC-End-Update5"></a>End Update<br /></h4></div><div><h3><a name="TOC-Clone-the-LXC-Container-to-Create-Second-RAC-Node"></a>Clone the LXC Container to Create Second RAC Node<br /></h3><p><font size="3">When the container is fully configured the quickest way to create the additional RAC node(s) is to just use the lxc-clone to clone the LXC container. The clone command is shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>gstanden@vmem1:~$ sudo lxc-clone -o lxcora01 -n lxcora02</code><br /><code>Created container lxcora02 as copy of lxcora01</code><br /><code>gstanden@vmem1:~$ </code></font></font></div><p><font size="3">The lxcora02 container needs just a couple of small manual edits since the clone utility apparently doesn't know about handling OpenvSwitch networking since the default networking is lxcbr0 and also in the original container non-default rac-meaningful names for the veth.pair were used.. The lxc-clone utility did update the MAC addresses just fine, so no issue there. However, the ports on the OpenvSwitch need to be manually edited to have the matching name for the container as shown below (manual edits in bold).</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code># Template used to create this container: /usr/share/lxc/templates/lxc-oracle</code><br /><code># Parameters passed to the template:</code><br /><code># For additional config options, please look at lxc.container.conf(5)</code><br /><br /><code># Networking</code><br /><code>lxc.network.type = veth</code><br /><code>lxc.network.flags = up</code><br /><code>lxc.network.script.up = /etc/network/if-up.d/lxc-ifup-sw1</code><br /><code>lxc.network.script.down = /etc/network/if-down.d/lxc-ifdown-sw1</code><br /><b><code>lxc.network.veth.pair = lxcora02-pub</code></b><br /><code>lxc.network.name = eth0</code><br /><code>lxc.network.mtu = 1500</code><br /><code>lxc.network.hwaddr = 00:16:3e:16:14:93 <b>&lt;-- Note: lxc-clone updates MAC address automatically as part of the clone process, no manual edit needed nere.</b></code><br /><br /><code>lxc.network.type = veth</code><br /><code>lxc.network.flags = up</code><br /><code>lxc.network.link = lxcbr0</code><br /><b><code>lxc.network.veth.pair = lxcora02-pri</code></b><br /><code>lxc.network.name = eth1</code><br /><code>lxc.network.mtu = 9000</code><br /><code>lxc.network.hwaddr = 00:16:3e:3e:a6:b4 <b>&lt;-- Note: lxc-clone updates MAC address automatically as part of the clone process, no manual edit needed here.</b></code><br /><br /><code># Common configuration</code><br /><code>lxc.include = /usr/share/lxc/config/oracle.common.conf</code><br /><br /><code># Container configuration for Oracle Linux 6.5</code><br /><code>lxc.arch = x86_64</code><br /><code>lxc.cap.drop = sys_resource</code><br /><code>lxc.cap.drop = setfcap setpcap</code><br /><br /><code># Devices</code><br /><code>lxc.cgroup.devices.allow = a # Allow access to all devices</code><br /><code>lxc.cgroup.devices.allow = a 10:236 rwm</code><br /><code>lxc.cgroup.devices.allow = a 252:* rwm</code><br /><code>lxc.cgroup.devices.allow = a 8:* rwm</code><br /><code>lxc.mount.entry = /dev/mapper /var/lib/lxc/lxcora01/rootfs/dev/mapper none defaults,bind,create=dir 0 0</code><br /><code>lxc.mount.auto = proc sys cgroup</code><br /><code>lxc.mount.auto = proc:rw sys:rw cgroup-full:rw</code><br /><code>lxc.aa_allow_incomplete = 1</code><br /><br /><code># GLS 2014-10-23 NFS</code><br /><code>lxc.aa_profile = unconfined</code><br /><code>lxc.rootfs = /var/lib/lxc/lxcora02/rootfs</code><br /><code>lxc.utsname = lxcora02<b> &lt;-- Note: lxc-clone updates name automatically, no manual edit needed here.</b><br /></code></font></font></div></div><div><h4><a name="TOC-Update-28-October-2014"></a>Update 28 October 2014</h4><p><font size="3">Now using 4 interfaces for Oracle GI HAIP. The config file is changed for both lxcora02 and lxcora03 as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>root@vmem1:/var/lib/lxc/lxcora02# cat config</code><br /><code># Template used to create this container: /usr/share/lxc/templates/lxc-oracle</code><br /><code># Parameters passed to the template:</code><br /><code># For additional config options, please look at lxc.container.conf(5)</code><br /><br /><code># Networking</code><br /><code>lxc.network.type = veth</code><br /><code>lxc.network.flags = up</code><br /><code>lxc.network.script.up = /etc/network/if-up.d/lxcora02-ifup-sw1</code><br /><code>lxc.network.script.down = /etc/network/if-down.d/lxcora02-ifdown-sw1</code><br /><code>lxc.network.veth.pair = lxcora02</code><br /><code>lxc.network.name = eth0</code><br /><code>lxc.network.mtu = 1500</code><br /><code>lxc.network.hwaddr = 00:16:3e:16:14:93</code><br /><br /><code>lxc.network.type = veth</code><br /><code>lxc.network.flags = up</code><br /><code>lxc.network.script.up = /etc/network/if-up.d/lxcora02-priv1-ifup-sw4</code><br /><code>lxc.network.script.down = /etc/network/if-down.d/lxcora02-priv1-ifdown-sw4</code><br /><code>lxc.network.veth.pair = lxcora02-priv1</code><br /><code>lxc.network.name = eth1</code><br /><code>lxc.network.mtu = 9000</code><br /><code>lxc.network.ipv4 = 192.210.39.10</code><br /><br /><code>lxc.network.type = veth</code><br /><code>lxc.network.flags = up</code><br /><code>lxc.network.script.up = /etc/network/if-up.d/lxcora02-priv2-ifup-sw5</code><br /><code>lxc.network.script.down = /etc/network/if-down.d/lxcora02-priv2-ifdown-sw5</code><br /><code>lxc.network.veth.pair = lxcora02-priv2</code><br /><code>lxc.network.name = eth2</code><br /><code>lxc.network.mtu = 9000</code><br /><code>lxc.network.ipv4 = 192.211.39.10</code><br /><br /><code>lxc.network.type = veth</code><br /><code>lxc.network.flags = up</code><br /><code>lxc.network.script.up = /etc/network/if-up.d/lxcora02-priv3-ifup-sw6</code><br /><code>lxc.network.script.down = /etc/network/if-down.d/lxcora02-priv3-ifdown-sw6</code><br /><code>lxc.network.veth.pair = lxcora02-priv3</code><br /><code>lxc.network.name = eth3</code><br /><code>lxc.network.mtu = 9000</code><br /><code>lxc.network.ipv4 = 192.212.39.10</code><br /><br /><code>lxc.network.type = veth</code><br /><code>lxc.network.flags = up</code><br /><code>lxc.network.script.up = /etc/network/if-up.d/lxcora02-priv4-ifup-sw7</code><br /><code>lxc.network.script.down = /etc/network/if-down.d/lxcora02-priv4-ifdown-sw7</code><br /><code>lxc.network.veth.pair = lxcora02-priv4</code><br /><code>lxc.network.name = eth4</code><br /><code>lxc.network.mtu = 9000</code><br /><code>lxc.network.ipv4 = 192.213.39.10</code><br /><br /><code>#lxc.network.type = veth</code><br /><code>#lxc.network.flags = up</code><br /><code>#lxc.network.link = lxcbr0</code><br /><code>#lxc.network.name = eth1</code><br /><code>#lxc.network.mtu = 1500</code><br /><code>lxc.network.hwaddr = 00:16:3e:3e:a6:b4</code><br /><br /><code># Common configuration</code><br /><code>lxc.include = /usr/share/lxc/config/oracle.common.conf</code><br /><br /><code># Container configuration for Oracle Linux 6.5</code><br /><code>lxc.arch = x86_64</code><br /><code>lxc.cap.drop = sys_resource</code><br /><code>lxc.cap.drop = setfcap setpcap</code><br /><br /><code># Devices</code><br /><code>lxc.cgroup.devices.allow = a # Allow access to all devices</code><br /><code>lxc.cgroup.devices.allow = a 10:236 rwm</code><br /><code>lxc.cgroup.devices.allow = a 252:* rwm</code><br /><code>lxc.cgroup.devices.allow = a 8:* rwm</code><br /><code>lxc.mount.entry = /dev/mapper /var/lib/lxc/lxcora02/rootfs/dev/mapper none defaults,bind,create=dir 0 0</code><br /><code>lxc.mount.auto = proc sys cgroup</code><br /><code>lxc.mount.auto = proc:rw sys:rw cgroup-full:rw</code><br /><code>lxc.aa_allow_incomplete = 1</code><br /><br /><code># GLS 2014-10-23 NFS</code><br /><code>lxc.aa_profile = unconfined</code><br /><code>lxc.rootfs = /var/lib/lxc/lxcora02/rootfs</code><br /><code>lxc.utsname = lxcora02</code><br /><code>root@vmem1:/var/lib/lxc/lxcora02# </code></font></font></div><p><font size="3">And here is the config file for lxcora03 as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>root@vmem1:/var/lib/lxc/lxcora03# cat config</code><br /><code># Template used to create this container: /usr/share/lxc/templates/lxc-oracle</code><br /><code># Parameters passed to the template:</code><br /><code># For additional config options, please look at lxc.container.conf(5)</code><br /><br /><code># Networking</code><br /><code>lxc.network.type = veth</code><br /><code>lxc.network.flags = up</code><br /><code>lxc.network.script.up = /etc/network/if-up.d/lxcora03-ifup-sw1</code><br /><code>lxc.network.script.down = /etc/network/if-down.d/lxcora03-ifdown-sw1</code><br /><code>lxc.network.veth.pair = lxcora03</code><br /><code>lxc.network.name = eth0</code><br /><code>lxc.network.mtu = 1500</code><br /><code>lxc.network.hwaddr = 00:16:3e:88:bc:f6</code><br /><br /><code>lxc.network.type = veth</code><br /><code>lxc.network.flags = up</code><br /><code>lxc.network.script.up = /etc/network/if-up.d/lxcora03-priv1-ifup-sw4</code><br /><code>lxc.network.script.down = /etc/network/if-down.d/lxcora03-priv1-ifdown-sw4</code><br /><code>lxc.network.veth.pair = lxcora03-priv1</code><br /><code>lxc.network.name = eth1</code><br /><code>lxc.network.mtu = 9000</code><br /><code>lxc.network.ipv4 = 192.210.39.11</code><br /><br /><code>lxc.network.type = veth</code><br /><code>lxc.network.flags = up</code><br /><code>lxc.network.script.up = /etc/network/if-up.d/lxcora03-priv2-ifup-sw5</code><br /><code>lxc.network.script.down = /etc/network/if-down.d/lxcora03-priv2-ifdown-sw5</code><br /><code>lxc.network.veth.pair = lxcora03-priv2</code><br /><code>lxc.network.name = eth2</code><br /><code>lxc.network.mtu = 9000</code><br /><code>lxc.network.ipv4 = 192.211.39.11</code><br /><br /><code>lxc.network.type = veth</code><br /><code>lxc.network.flags = up</code><br /><code>lxc.network.script.up = /etc/network/if-up.d/lxcora03-priv3-ifup-sw6</code><br /><code>lxc.network.script.down = /etc/network/if-down.d/lxcora03-priv3-ifdown-sw6</code><br /><code>lxc.network.veth.pair = lxcora03-priv3</code><br /><code>lxc.network.name = eth3</code><br /><code>lxc.network.mtu = 9000</code><br /><code>lxc.network.ipv4 = 192.212.39.11</code><br /><br /><code>lxc.network.type = veth</code><br /><code>lxc.network.flags = up</code><br /><code>lxc.network.script.up = /etc/network/if-up.d/lxcora03-priv4-ifup-sw7</code><br /><code>lxc.network.script.down = /etc/network/if-down.d/lxcora03-priv4-ifdown-sw7</code><br /><code>lxc.network.veth.pair = lxcora03-priv4</code><br /><code>lxc.network.name = eth4</code><br /><code>lxc.network.mtu = 9000</code><br /><code>lxc.network.ipv4 = 192.213.39.11</code><br /><br /><code>#lxc.network.type = veth</code><br /><code>#lxc.network.flags = up</code><br /><code>#lxc.network.link = lxcbr0</code><br /><code>#lxc.network.name = eth1</code><br /><code>#lxc.network.mtu = 1500</code><br /><code>lxc.network.hwaddr = 00:16:3e:11:f8:13</code><br /><br /><code># Common configuration</code><br /><code>lxc.include = /usr/share/lxc/config/oracle.common.conf</code><br /><br /><code># Container configuration for Oracle Linux 6.5</code><br /><code>lxc.arch = x86_64</code><br /><code>lxc.cap.drop = sys_resource</code><br /><code>lxc.cap.drop = setfcap setpcap</code><br /><br /><code># Devices</code><br /><code>lxc.cgroup.devices.allow = a # Allow access to all devices</code><br /><code>lxc.cgroup.devices.allow = a 10:236 rwm</code><br /><code>lxc.cgroup.devices.allow = a 252:* rwm</code><br /><code>lxc.cgroup.devices.allow = a 8:* rwm</code><br /><code>lxc.mount.entry = /dev/mapper /var/lib/lxc/lxcora03/rootfs/dev/mapper none defaults,bind,create=dir 0 0</code><br /><code>lxc.mount.auto = proc sys cgroup</code><br /><code>lxc.mount.auto = proc:rw sys:rw cgroup-full:rw</code><br /><code>lxc.aa_allow_incomplete = 1</code><br /><code># GLS 2014-10-23 NFS</code><br /><code>lxc.aa_profile = unconfined</code><br /><code>lxc.rootfs = /var/lib/lxc/lxcora03/rootfs</code><br /><code>lxc.utsname = lxcora03</code><br /><code>root@vmem1:/var/lib/lxc/lxcora03# </code></font></font></div><font size="3"><br />Now start up the container and see what starts up leaving the original container lxcora01 down until verification has been done that the actual hostname and networking etc are correct (non-duplicate). Since this is a first for the author too, all these steps will be carefully documented. <br /></font><h3><a name="TOC-Check-the-MTU-9000-is-Working-on-the-Private-Interfaces"></a>Check the MTU 9000 is Working on the Private Interfaces</h3><p><font size="3">This link <a href="http://www.mylesgray.com/hardware/test-jumbo-frames-working/" target="_blank" rel="nofollow">here at Myles Gray</a> shows how to do this.</font><br /></p><font size="3">Check to see if the new container is visible to lxc-ls as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ sudo lxc-ls -f</code><br /><code>[sudo] password for gstanden: </code><br /><code>NAME STATE IPV4 IPV6 GROUPS AUTOSTART </code><br /><code>------------------------------------------------</code><br /><code>lxcora01 STOPPED - - - NO </code><br /><code>lxcora02 STOPPED - - - NO </code><br /></font></div><br /></font><font size="3"><font size="3">Here's the startup (with "-F" option used to get console 
output). The startup is normal and exactly the same as the source LXC 
container as shown below. The messages about apparmor and ulimit were present in the source LXC container lxcora01 as well, and those I am still looking for an answer/solution about, but they dont' affect the functioning of the LXC container for the Oracle install purposes so for now they are not an issue. The startup of the cloned container is shown below.<br /></font> <br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ sudo lxc-start -n lxcora02 -F</code><br /><code>lxc-start: lsm/apparmor.c: mount_feature_enabled: 61 Permission denied - Error mounting securityfs</code><br /><code>  Welcome to Oracle Linux Server</code><br /><code>Setting hostname lxcora02: [ OK ]</code><br /><code>Checking filesystems</code><br /><code> [ OK ]</code><br /><code>Mounting local filesystems: [ OK ]</code><br /><code>Enabling /etc/fstab swaps: [ OK ]</code><br /><code>Entering non-interactive startup</code><br /><code>Calling the system activity data collector (sadc)... </code><br /><code>Bringing up loopback interface: [ OK ]</code><br /><code>Bringing up interface eth0: </code><br /><code>Determining IP information for eth0... done.</code><br /><code> [ OK ]</code><br /><code>Bringing up interface eth1: </code><br /><code>Determining IP information for eth1... done.</code><br /><code> [ OK ]</code><br /><code>Starting system logger: [ OK ]</code><br /><code>Starting rpcbind: [ OK ]</code><br /><code>Starting NFS statd: [ OK ]</code><br /><code>NFS filesystems queued to be mounted</code><br /><code>Mounting filesystems: [ OK ]</code><br /><code>Starting sshd: [ OK ]</code><br /><code>hsflowd start: OK</code><br /><code>Starting crond: [ OK ]</code><br /><code>/etc/rc3.d/S96ohasd: line 153: ulimit: max locked memory: cannot modify limit: Operation not permitted</code><br /><code>/etc/rc3.d/S96ohasd: line 155: ulimit: %CRS_LIMIT_OPENFILE%: invalid number</code><br /><code>Starting ohasd: </code><br /><code>chown: cannot access `/dev/mapper/asm_disk*': No such file or directory</code><br /><code>chmod: cannot access `/dev/mapper/asm_disk*': No such file or directory</code><br /><br /><code>Oracle Linux Server release 6.5</code><br /><code>Kernel 3.13.11.6 on an x86_64</code><br /><br /><code>lxcora02 login: </code></font></div><br /></font></div><div><font size="3">Hostname info looks good as shown below. The hostname has been updated automatically by lxc-clone and correctly shows "lxcora02" as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora02 ~]# uname -a</code><br /><code>Linux lxcora02 3.13.11.6 #1 SMP Mon Sep 15 11:54:55 CDT 2014 x86_64 x86_64 x86_64 GNU/Linux</code><br /><br /><code>[root@lxcora02 ~]# hostname -a</code><br /><code>lxcora02</code><br /><br /><code>[root@lxcora02 ~]# hostname -f</code><br /><code>localhost</code><br /><br /><code>[root@lxcora02 ~]# </code></font></div><br /></font></div><div><font size="3">The ethernet interfaces also look fine. As expected they have new MAC addresses, and also have new IP addresses as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora02 ~]# ifconfig</code><br /><code>eth0 Link encap:Ethernet HWaddr 00:16:3E:16:14:93 </code><br /><code> inet addr:10.207.39.87 Bcast:10.207.39.255 Mask:255.255.255.0</code><br /><code> inet6 addr: fe80::216:3eff:fe16:1493/64 Scope:Link</code><br /><code> UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1</code><br /><code> RX packets:386 errors:0 dropped:0 overruns:0 frame:0</code><br /><code> TX packets:283 errors:0 dropped:0 overruns:0 carrier:0</code><br /><code> collisions:0 txqueuelen:1000 </code><br /><code> RX bytes:61965 (60.5 KiB) TX bytes:31126 (30.3 KiB)</code><br /><br /><code>eth1 Link encap:Ethernet HWaddr 00:16:3E:3E:A6:B4 </code><br /><code> inet addr:10.0.3.236 Bcast:10.0.3.255 Mask:255.255.255.0</code><br /><code> inet6 addr: fe80::216:3eff:fe3e:a6b4/64 Scope:Link</code><br /><code> UP BROADCAST RUNNING MULTICAST MTU:9000 Metric:1</code><br /><code> RX packets:200 errors:0 dropped:0 overruns:0 frame:0</code><br /><code> TX packets:15 errors:0 dropped:0 overruns:0 carrier:0</code><br /><code> collisions:0 txqueuelen:1000 </code><br /><code> RX bytes:36470 (35.6 KiB) TX bytes:1638 (1.5 KiB)</code><br /><br /><code>lo Link encap:Local Loopback </code><br /><code> inet addr:127.0.0.1 Mask:255.0.0.0</code><br /><code> inet6 addr: ::1/128 Scope:Host</code><br /><code> UP LOOPBACK RUNNING MTU:65536 Metric:1</code><br /><code> RX packets:44 errors:0 dropped:0 overruns:0 frame:0</code><br /><code> TX packets:44 errors:0 dropped:0 overruns:0 carrier:0</code><br /><code> collisions:0 txqueuelen:0 </code><br /><code> RX bytes:3512 (3.4 KiB) TX bytes:3512 (3.4 KiB)</code><br /><br /><code>[root@lxcora02 ~]# </code></font></div><br /></font></div><div><font size="3">However, as might be expected, trying to start cluster and ASM fails. That is shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora02 ~]# crsctl stat res -t</code><br /><font size="3"><code>Oracle Clusterware infrastructure error in CRSCTL (OS PID 1227): ADR home path /u00/app/grid/diag/crs/lxcora02/crs does not exist; ADR initialization will try to create it</code><br /><code>CRS-4639: Could not contact Oracle High Availability Services</code><br /><code>CRS-4000: Command Status failed, or completed with errors.</code></font><br /><code>[root@lxcora02 ~]# </code></font></div><br />This is ok because for this example first build, I will be ripping out the Oracle RDBMS and ASM installation. The LXC container lxcora01 was more or less the product of learning how to build Oracle ASM 12c EE on LXC containers, so rather than build a fresh container for RAC and then clone it, I've just cloned this one since it was used to work out and do all the RAC GNS networking setups,, but also has all the prerequisites for ASM installation. <br /><br /></font></div><div><font size="3">For anyone who might be planning on using this guide, the way this would normally be done would be to just build a fresh Oracle Enterprise Linux container on Ubuntu 14.04.1, then do all the Oracle RAC GNS steps, install all the ASM and RDBMS prerequisites, and then do the clone. So in this guide, at least for now, there will be these extra steps documenting the rip out of the existing ASM and RDBMS from the cloned LXC container lxcora02.<br /><br /></font></div><div><font size="3">I'm going to startup the original lxcora01 container to verify it still runs normally with lxcora02 running at the same time. Connected to lxcora01 and testing DNS lookup shows that the DHCP and DNS combo has added the new cloned container to the bind9 DNS automatically (thanks to the configuration skills learned from BigDino!) as shown below displaying the correct IP address lookup information for the cloned lxcora02 LXC container (note: this new container was NOT added to DNS manually. It was automatically added to the DNS configuration).<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora01 ~]# nslookup lxcora02</code><br /><br /><code>Server:  10.207.39.1</code><br /><code>Address: 10.207.39.1#53</code><br /><br /><code>Name: lxcora02.vmem.org</code><br /><code>Address: 10.207.39.87</code></font></div><br /></font></div><div><font size="3">Showing how this looks below in the DNS configuration. The bolded lines show how DNS automatically added the new LXC container to /var/lib/bind/fwd.vmem.org file. Also, note to self, see how the fwd.vmem.org.jnl file is not created until a new DNS entry is automatically added. Last night the static entries for GNS were added to the fwd.vmem.org (and also to the rev.vmem.org) and the serial updated, and at that time, all that was done was that bind9 was restarted to put the GNS changes into DNS. At that time, no fwd.vmem.org.jnl file was created. I had been wondering what triggered the creation of the *.jnl zone files, and now it's clear that when a new LXC container (or KVM guest) i.e. any "new server" appears on the network, then a *.jnl file is created for the related zone files, in this case fwd.vmem.org.jnl and rev.vmem.org.jnl were both created just now when lxcora02 was automatically added.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>root@vmem1:/var/lib/bind# cat fwd.vmem.org</code><br /><code>$ORIGIN .</code><br /><code>$TTL 86400 ; 1 day</code><br /><code>vmem.org  IN SOA vmem1.vmem.org. postmaster.vmem.org. (</code><br /><code>    1410240113 ; serial</code><br /><code>    60 ; refresh (1 minute)</code><br /><code>    1800 ; retry (30 minutes)</code><br /><code>    604800 ; expire (1 week)</code><br /><code>    86400 ; minimum (1 day)</code><br /><code>    )</code><br /><code>   NS vmem1.vmem.org.</code><br /><code>$ORIGIN vmem.org.</code><br /><code>_sflow._udp TXT "txtvers=1" "polling=20" "sampling=512"</code><br /><code>   SRV 0 0 6343 vmem1</code><br /><code>$TTL 3600 ; 1 hour</code><br /><code>lxcora01  A 10.207.39.85</code><br /><code>   TXT "001060b0cef034d0d8b3ec569ea6615637"</code><br /><b><code>lxcora02  A 10.207.39.87</code><br /><code>   TXT "001d6eb17bf9f9081897f98548b528bfee"</code></b><br /><code>$TTL 86400 ; 1 day</code><br /><code>lxcora1   A 10.207.39.79</code><br /><code>$TTL 3600 ; 1 hour</code><br /><code>lxcora3   A 10.207.39.83</code><br /><code>   TXT "007e7554cced9024a1bac46cc4370293c6"</code><br /><code>lxcora5   A 10.207.39.84</code><br /><code>   TXT "0092ff209913ebc9ca832c943e48eff86f"</code><br /><code>lxcrac   NS lxcrac-gns</code><br /><code>$TTL 86400 ; 1 day</code><br /><code>lxcrac-gns  A 10.207.39.3</code><br /><code>oracle631  A 10.207.39.72</code><br /><code>oracle632  A 10.207.39.76</code><br /><code>oracle652  A 10.207.39.74</code><br /><code>vmem1   A 10.207.39.1</code><br /><code>$TTL 3600 ; 1 hour</code><br /><code>vmem2   A 10.207.39.81</code><br /><code>   TXT "3118a6c1688c312b822454df8baa10bfff"</code><br /><br /><code>root@vmem1:/var/lib/bind# pwd</code><br /><code>/var/lib/bind</code><br /><br /><code>root@vmem1:/var/lib/bind# ls -lrt *.jnl</code><br /><br /><code>-rw-r--r-- 1 bind bind 791 Oct 24 16:26 fwd.vmem.org.jnl <b>&lt;-- *.jnl files were created when lxcora02 was automatically added to the zone files</b></code><br /><code>-rw-r--r-- 1 bind bind 774 Oct 24 16:26 rev.vmem.org.jnl <b>&lt;--</b></code><b> <br /></b><br /><code>root@vmem1:/var/lib/bind# </code><br /></font></div><br /></font></div><div><font size="3">For completeness, here's the rev.vmem.org zone file showing how lxcora02 was automatically added here too.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>root@vmem1:/var/lib/bind# cat rev.vmem.org</code><br /><br /><code>$ORIGIN .</code><br /><code>$TTL 86400 ; 1 day</code><br /><code>39.207.10.in-addr.arpa IN SOA vmem1.vmem.org. postmaster.vmem.org. (</code><br /><code>     1410232201 ; serial</code><br /><code>    3600 ; refresh (1 hour)</code><br /><code>    1800 ; retry (30 minutes)</code><br /><code>    604800 ; expire (1 week)</code><br /><code>    86400 ; minimum (1 day)</code><br /><code>    )</code><br /><code>   NS vmem1.vmem.org.</code><br /><code>$ORIGIN 39.207.10.in-addr.arpa.</code><br /><code>1   PTR vmem1.vmem.org.</code><br /><code>3   PTR lxcrac-gns.vmem.org.</code><br /><code>72   PTR oracle631.vmem.org.</code><br /><code>76   PTR oracle632.vmem.org.</code><br /><code>$TTL 3600 ; 1 hour</code><br /><code>81   PTR vmem2.vmem.org.</code><br /><code>85   PTR lxcora01.vmem.org.</code><br /><b><code>87   PTR lxcora02.vmem.org.</code></b><br /><code>$TTL 86400 ; 1 day</code><br /><code>90   PTR oracle635.vmem.org.</code><br /><code>39.207.10.in-addr.arpa NS vmem1.vmem.org.</code><br /><code>vmem1  A 10.207.39.1</code><br /><br /><code>root@vmem1:/var/lib/bind# </code></font></div><br /></font></div><div><font size="3">Some ping and resolution and ssh tests are done as shown below. Note: the ssh from one node to the other took a few seconds - maybe 10 seconds or so - it's not as fast as I would like. Probably there are some tweaks that a network guru would know to speed the ssh and name resolution up a bit so that connection was much faster. It's not terribly slow, but slower than it should be. Here are the ping and resolution tests as shown below which all work as expected and required.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><br /><code>gstanden@vmem1:~$ ssh root@lxcora01</code><br /><code>root@lxcora01's password: </code><br /><code>Last login: Fri Oct 24 17:49:59 2014</code><br /><br /><code>[root@lxcora01 ~]# nslookup lxcora02</code><br /><br /><code>Server:  10.207.39.1</code><br /><code>Address: 10.207.39.1#53</code><br /><br /><code>Name: lxcora02.vmem.org</code><br /><code>Address: 10.207.39.87</code><br /><br /><code>[root@lxcora01 ~]# ping -c 3 lxcora02</code><br /><br /><code>PING lxcora02.vmem.org (10.207.39.87) 56(84) bytes of data.</code><br /><code>64 bytes from lxcora02.vmem.org (10.207.39.87): icmp_seq=1 ttl=64 time=0.868 ms</code><br /><code>64 bytes from lxcora02.vmem.org (10.207.39.87): icmp_seq=2 ttl=64 time=0.075 ms</code><br /><code>64 bytes from lxcora02.vmem.org (10.207.39.87): icmp_seq=3 ttl=64 time=0.124 ms</code><br /><br /><code>--- lxcora02.vmem.org ping statistics ---</code><br /><code>3 packets transmitted, 3 received, 0% packet loss, time 2003ms</code><br /><code>rtt min/avg/max/mdev = 0.075/0.355/0.868/0.363 ms</code><br /><br /><code>[root@lxcora01 ~]# ssh root@lxcora02</code><br /><code>The authenticity of host 'lxcora02 (10.207.39.87)' can't be established.</code><br /><code>RSA key fingerprint is 4f:62:a6:23:e4:58:2e:e2:1b:a4:1c:39:28:a0:ff:df.</code><br /><code>Are you sure you want to continue connecting (yes/no)? yes</code><br /><code>Warning: Permanently added 'lxcora02,10.207.39.87' (RSA) to the list of known hosts.</code><br /><code>root@lxcora02's password: </code><br /><code>Last login: Fri Oct 24 17:48:37 2014</code><br /><br /><code>[root@lxcora02 ~]# nslookup lxcora01</code><br /><code>Server:  10.207.39.1</code><br /><code>Address: 10.207.39.1#53</code><br /><br /><code>Name: lxcora01.vmem.org</code><br /><code>Address: 10.207.39.85</code><br /><br /><code>[root@lxcora02 ~]# ping -c 3 lxcora01</code><br /><br /><code>PING lxcora01.vmem.org (10.207.39.85) 56(84) bytes of data.</code><br /><code>64 bytes from lxcora01.vmem.org (10.207.39.85): icmp_seq=1 ttl=64 time=0.481 ms</code><br /><code>64 bytes from lxcora01.vmem.org (10.207.39.85): icmp_seq=2 ttl=64 time=0.073 ms</code><br /><code>64 bytes from lxcora01.vmem.org (10.207.39.85): icmp_seq=3 ttl=64 time=0.092 ms</code><br /><br /><code>--- lxcora01.vmem.org ping statistics ---</code><br /><code>3 packets transmitted, 3 received, 0% packet loss, time 2001ms</code><br /><code>rtt min/avg/max/mdev = 0.073/0.215/0.481/0.188 ms</code><br /><br /><code>[root@lxcora02 ~]# exit</code><br /><code>logout</code><br /><code>Connection to lxcora02 closed.</code><br /><code>[root@lxcora01 ~]# </code></font></div><br /></font></div><div><font size="3">It can be seen that lxcora01 Oracle ASM and RDBMS are running fine with both the lxcora01 and it's clone lxcora02 up and running at the same time as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora01 ~]# crsctl stat res -t</code><br /><br /><code>--------------------------------------------------------------------------------</code><br /><code>Name Target State Server State details </code><br /><code>--------------------------------------------------------------------------------</code><br /><code>Local Resources</code><br /><code>--------------------------------------------------------------------------------</code><br /><code>ora.DATA.dg</code><br /><code> ONLINE ONLINE lxcora01 STABLE</code><br /><code>ora.FRA.dg</code><br /><code> ONLINE ONLINE lxcora01 STABLE</code><br /><code>ora.IOPS.dg</code><br /><code> ONLINE ONLINE lxcora01 STABLE</code><br /><code>ora.LISTENER.lsnr</code><br /><code> ONLINE ONLINE lxcora01 STABLE</code><br /><code>ora.SYSTEMDG.dg</code><br /><code> ONLINE ONLINE lxcora01 STABLE</code><br /><code>ora.asm</code><br /><code> ONLINE ONLINE lxcora01 Started,STABLE</code><br /><code>ora.ons</code><br /><code> OFFLINE OFFLINE lxcora01 STABLE</code><br /><code>--------------------------------------------------------------------------------</code><br /><code>Cluster Resources</code><br /><code>--------------------------------------------------------------------------------</code><br /><code>ora.cssd</code><br /><code> 1 ONLINE ONLINE lxcora01 STABLE</code><br /><code>ora.diskmon</code><br /><code> 1 OFFLINE OFFLINE STABLE</code><br /><code>ora.evmd</code><br /><code> 1 ONLINE ONLINE lxcora01 STABLE</code><br /><code>ora.vmem1.db</code><br /><code> 1 ONLINE ONLINE lxcora01 Open,STABLE</code><br /><code>--------------------------------------------------------------------------------</code><br /><br /><code>[root@lxcora01 ~]# </code></font></div><br /></font></div><div><font size="3">The next steps which I will do after driving mom home from her coffee outing will be to (a) rip out the ASM and RDBMS on the lxcora02; and then (b) do an lxc-clone of lxcora02 to lxcora03 which will give a nice clean RAC node so that there is no need to rip out the ASM and RDBMS twice. <br /><br /></font></div><div><font size="3">Here is the way that the OpenvSwitches look with both LXC containers running. Note that sw1 is my main OpenvSwitch for public (management) network, while sw2 and sw3 are basically created for iscsi SAN storage networks (not being used with LXC because I don't really have a good handle on how to present iSCSI block devices to LXC containers since iscsi packages don't seem to work in the containers). This RAC is going to use NFS as the storage, side note. Here's the OpenvSwitch detail as shown below. The ports to sw1 for lxcora01 and lxcora02 are shown in bold below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ sudo ovs-vsctl show</code><br /><code>[sudo] password for gstanden: </code><br /><code>2fc24710-34b5-4aa2-a32d-4e7bcb1afa1a</code><br /><code> Bridge "sw2"</code><br /><code> Port "sw2"</code><br /><code> Interface "sw2"</code><br /><code> type: internal</code><br /><code> Port "t5"</code><br /><code> Interface "t5"</code><br /><code> Port "t1"</code><br /><code> Interface "t1"</code><br /><code> Port "t6"</code><br /><code> Interface "t6"</code><br /><code> Port "t3"</code><br /><code> Interface "t3"</code><br /><code> Port "t2"</code><br /><code> Interface "t2"</code><br /><code> Port "t4"</code><br /><code> Interface "t4"</code><br /><code> Bridge "sw1"</code><br /><code><b> Port "lxcora02-pub"</b></code><b><br /><code> Interface "lxcora02-pub"</code></b><br /><code> Port "s2"</code><br /><code> Interface "s2"</code><br /><code> Port "s4"</code><br /><code> Interface "s4"</code><br /><code> Port "s1"</code><br /><code> Interface "s1"</code><br /><code> Port "sw1"</code><br /><code> Interface "sw1"</code><br /><code> type: internal</code><br /><code> Port "s6"</code><br /><code> Interface "s6"</code><br /><code> Port "s5"</code><br /><code> Interface "s5"</code><br /><b><code> Port "lxcora01-pub"</code><br /><code> Interface "lxcora01-pub"</code></b><br /><code> Port "s3"</code><br /><code> Interface "s3"</code><br /><code> Bridge "sw3"</code><br /><code> Port "w4"</code><br /><code> Interface "w4"</code><br /><code> Port "w2"</code><br /><code> Interface "w2"</code><br /><code> Port "w3"</code><br /><code> Interface "w3"</code><br /><code> Port "w6"</code><br /><code> Interface "w6"</code><br /><code> Port "w5"</code><br /><code> Interface "w5"</code><br /><code> Port "w1"</code><br /><code> Interface "w1"</code><br /><code> Port "sw3"</code><br /><code> Interface "sw3"</code><br /><code> type: internal</code><br /><code> ovs_version: "2.0.2"</code><br /><code>gstanden@vmem1:~$ </code></font></div><br /></font></div><div><font size="3">So now I have taken my mother home to her condo in my motorcar (an Eclipse Special Edition (SE) 2012) and I have watched with my wife the movie Out of Africa (1985) with Meryl Streep and Robert Redford on Turner Classic Movies (TCM) and we have shared a bottle of Trader Joe "3 Buck Chuck" white wine, and now I am going to rip out Oracle RDBMS and Oracle ASM from lxcora02 in preparation for making a clone of lxcora02 to lxcora03 and then hopefully building a 2-node RAC on the lxc nodes lxcora02 and lxcora03. Here is the first step in that process as shown below, starting DBCA so I can delete the database and database binaries. I will not show those screenshots, I already know how to do that :-) ! )(smiling man smoking a cigar!).<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ ssh -Y -C oracle@lxcora02</code><br /><code>The authenticity of host 'lxcora02 (10.207.39.87)' can't be established.</code><br /><code>RSA key fingerprint is 4f:62:a6:23:e4:58:2e:e2:1b:a4:1c:39:28:a0:ff:df.</code><br /><code>Are you sure you want to continue connecting (yes/no)? yes</code><br /><code>Warning: Permanently added 'lxcora02,10.207.39.87' (RSA) to the list of known hosts.</code><br /><code>oracle@lxcora02's password: </code><br /><code>Permission denied, please try again.</code><br /><code>oracle@lxcora02's password: </code><br /><code>Last login: Sun Sep 21 23:45:02 2014 from 10.0.3.1</code><br /><code>[oracle@lxcora02 ~]$ xclock</code><br /><code>[oracle@lxcora02 ~]$ dbca</code></font></div><br /></font></div><div><font size="3">The database had been deleted using DBCA. Next the RDBMS home and binaries are deconfigured using 12c deinstall utility as shown below. For this I refreshed my memory on how to do this at <a href="http://mdinh.wordpress.com/2013/08/06/12c-deinstall/" target="_blank" rel="nofollow">Thinking Out Loud weblog here</a>.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><br /><code>gstanden@vmem1:~$ ssh -Y -C oracle@lxcora02</code><br /><code>oracle@lxcora02's password: </code><br /><code>Last login: Fri Oct 24 22:55:08 2014 from vmem1.vmem.org</code><br /><code>[oracle@lxcora02 ~]$ $ORACLE_HOME/deinstall/deinstall</code><br /><code>Checking for required files and bootstrapping ...</code><br /><code>Please wait ...</code><br /><code>Location of logs /u00/app/oraInventory/logs/</code><br /><br /><code>############ ORACLE DECONFIG TOOL START ############</code><br /><br /><br /><code>######################### DECONFIG CHECK OPERATION START #########################</code><br /><code>## [START] Install check configuration ##</code><br /><br /><br /><code>Checking for existence of the Oracle home location /u00/app/oracle/product/12.1.0/dbhome_1</code><br /><code>Oracle Home type selected for deinstall is: Oracle Single Instance Database</code><br /><code>Oracle Base selected for deinstall is: /u00/app/oracle</code><br /><code>Checking for existence of central inventory location /u00/app/oraInventory</code><br /><br /><code>## [END] Install check configuration ##</code><br /><br /><br /><code>Network Configuration check config START</code><br /><br /><code>Network de-configuration trace file location: /u00/app/oraInventory/logs/netdc_check2014-10-24_11-15-21-PM.log</code><br /><br /><code>Network Configuration check config END</code><br /><br /><code>Database Check Configuration START</code><br /><br /><code>Database de-configuration trace file location: /u00/app/oraInventory/logs/databasedc_check2014-10-24_11-15-27-PM.log</code><br /><br /><code>Use comma as separator when specifying list of values as input</code><br /><br /><code>Specify the list of database names that are configured in this Oracle home []: VMEM1</code><br /><br /><code>###### For Database 'VMEM1' ######</code><br /><br /><code>Specify the type of this database (1.Single Instance Database|2.Oracle Restart Enabled Database) [1]: 2</code><br /><code>Specify the list of nodes on which this database has instances [lxcora02]: </code><br /><code>Specify the diagnostic destination location of the database [/u00/app/oracle/diag/rdbms/vmem1]: </code><br /><code>Specify the storage type used by the Database ASM|FS []: ASM</code><br /><br /><br /><code>Database Check Configuration END</code><br /><code>Oracle Configuration Manager check START</code><br /><code>OCM check log file location : /u00/app/oraInventory/logs//ocm_check9034.log</code><br /><code>Oracle Configuration Manager check END</code><br /><br /><code>######################### DECONFIG CHECK OPERATION END #########################</code><br /><br /><br /><code>####################### DECONFIG CHECK OPERATION SUMMARY #######################</code><br /><code>Oracle Home selected for deinstall is: /u00/app/oracle/product/12.1.0/dbhome_1</code><br /><code>Inventory Location where the Oracle home registered is: /u00/app/oraInventory</code><br /><code>The following databases were selected for de-configuration : VMEM1</code><br /><code>Database unique name : VMEM1</code><br /><code>Storage used : ASM</code><br /><code>Checking the config status for CCR</code><br /><code>Oracle Home exists and CCR is configured</code><br /><code>CCR check is finished</code><br /><code>Do you want to continue (y - yes, n - no)? [n]: y</code><br /><code>A log of this session will be written to: '/u00/app/oraInventory/logs/deinstall_deconfig2014-10-24_11-15-21-PM.out'</code><br /><code>Any error messages from this session will be written to: '/u00/app/oraInventory/logs/deinstall_deconfig2014-10-24_11-15-21-PM.err'</code><br /><br /><code>######################## DECONFIG CLEAN OPERATION START ########################</code><br /><code>Database de-configuration trace file location: /u00/app/oraInventory/logs/databasedc_clean2014-10-24_11-16-02-PM.log</code><br /><code>Database Clean Configuration START VMEM1</code><br /><code>This operation may take few minutes.</code><br /><code>Database Clean Configuration END VMEM1</code><br /><br /><code>Network Configuration clean config START</code><br /><br /><code>Network de-configuration trace file location: /u00/app/oraInventory/logs/netdc_clean2014-10-24_11-16-35-PM.log</code><br /><br /><code>De-configuring Naming Methods configuration file...</code><br /><code>Naming Methods configuration file de-configured successfully.</code><br /><br /><code>De-configuring Local Net Service Names configuration file...</code><br /><code>Local Net Service Names configuration file de-configured successfully.</code><br /><br /><code>De-configuring backup files...</code><br /><code>Backup files de-configured successfully.</code><br /><br /><code>The network configuration has been cleaned up successfully.</code><br /><br /><code>Network Configuration clean config END</code><br /><br /><code>Oracle Configuration Manager clean START</code><br /><code>OCM clean log file location : /u00/app/oraInventory/logs//ocm_clean9034.log</code><br /><code>Oracle Configuration Manager clean END</code><br /><br /><code>######################### DECONFIG CLEAN OPERATION END #########################</code><br /><br /><br /><code>####################### DECONFIG CLEAN OPERATION SUMMARY #######################</code><br /><code>Successfully de-configured the following database instances : VMEM1</code><br /><code>Cleaning the config for CCR</code><br /><code>Cleaning the CCR configuration by executing its binaries</code><br /><code>CCR clean is finished</code><br /><code>#######################################################################</code><br /><br /><br /><code>############# ORACLE DECONFIG TOOL END #############</code><br /><br /><code>Using properties file /tmp/deinstall2014-10-24_11-15-03PM/response/deinstall_2014-10-24_11-15-21-PM.rsp</code><br /><code>Location of logs /u00/app/oraInventory/logs/</code><br /><br /><code>############ ORACLE DEINSTALL TOOL START ############</code><br /><br /><br /><br /><br /><br /><code>####################### DEINSTALL CHECK OPERATION SUMMARY #######################</code><br /><code>A log of this session will be written to: '/u00/app/oraInventory/logs/deinstall_deconfig2014-10-24_11-15-21-PM.out'</code><br /><code>Any error messages from this session will be written to: '/u00/app/oraInventory/logs/deinstall_deconfig2014-10-24_11-15-21-PM.err'</code><br /><br /><code>######################## DEINSTALL CLEAN OPERATION START ########################</code><br /><code>## [START] Preparing for Deinstall ##</code><br /><code>Setting LOCAL_NODE to localhost</code><br /><code>Setting CRS_HOME to false</code><br /><code>Setting oracle.installer.invPtrLoc to /tmp/deinstall2014-10-24_11-15-03PM/oraInst.loc</code><br /><code>Setting oracle.installer.local to false</code><br /><br /><code>## [END] Preparing for Deinstall ##</code><br /><br /><code>Setting the force flag to false</code><br /><code>Setting the force flag to cleanup the Oracle Base</code><br /><code>Oracle Universal Installer clean START</code><br /><br /><code>Detach Oracle home '/u00/app/oracle/product/12.1.0/dbhome_1' from the central inventory on the local node : Done</code><br /><br /><code>Delete directory '/u00/app/oracle/product/12.1.0/dbhome_1' on the local node : Done</code><br /><br /><code>The Oracle Base directory '/u00/app/oracle' will not be removed on local node. The directory is not empty.</code><br /><br /><code>Oracle Universal Installer cleanup was successful.</code><br /><br /><code>Oracle Universal Installer clean END</code><br /><br /><br /><code>## [START] Oracle install clean ##</code><br /><br /><code>Clean install operation removing temporary directory '/tmp/deinstall2014-10-24_11-15-03PM' on node 'localhost'</code><br /><br /><code>## [END] Oracle install clean ##</code><br /><br /><br /><code>######################### DEINSTALL CLEAN OPERATION END #########################</code><br /><br /><br /><code>####################### DEINSTALL CLEAN OPERATION SUMMARY #######################</code><br /><code>Successfully detached Oracle home '/u00/app/oracle/product/12.1.0/dbhome_1' from the central inventory on the local node.</code><br /><code>Successfully deleted directory '/u00/app/oracle/product/12.1.0/dbhome_1' on the local node.</code><br /><code>Oracle Universal Installer cleanup was successful.</code><br /><br /><code>Oracle deinstall tool successfully cleaned up temporary directories.</code><br /><code>#######################################################################</code><br /><br /><br /><code>############# ORACLE DEINSTALL TOOL END #############</code><br /><br /><code>[oracle@lxcora02 ~]$</code></font></div><br /></font></div><div><font size="3">Next the Grid Infrastructure is deconfigured, again refreshed my memory from <a href="http://mdinh.wordpress.com/2013/08/06/12c-deinstall/" target="_blank" rel="nofollow">Thinking Out Loud</a>.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ ssh grid@lxcora02</code><br /><code>grid@lxcora02's password: </code><br /><code>Last login: Sun Sep 21 23:28:24 2014 from 10.0.3.1</code><br /><code>[grid@lxcora02 ~]$ clear</code><br /><br /><code>[grid@lxcora02 ~]$ echo $GRID_HOME</code><br /><code>/u00/app/grid/product/12.1.0/grid</code><br /><code>[grid@lxcora02 ~]$ $GRID_HOME/deinstall/deinstall</code><br /><code>Checking for required files and bootstrapping ...</code><br /><code>Please wait ...</code><br /><code>Location of logs /tmp/deinstall2014-10-24_11-21-17PM/logs/</code><br /><br /><code>############ ORACLE DECONFIG TOOL START ############</code><br /><br /><br /><code>######################### DECONFIG CHECK OPERATION START #########################</code><br /><code>## [START] Install check configuration ##</code><br /><br /><br /><code>Checking for existence of the Oracle home location /u00/app/grid/product/12.1.0/grid</code><br /><code>Oracle Home type selected for deinstall is: Oracle Grid Infrastructure for a Standalone Server</code><br /><code>Oracle Base selected for deinstall is: /u00/app/grid</code><br /><code>Checking for existence of central inventory location /u00/app/oraInventory</code><br /><code>Checking for existence of the Oracle Grid Infrastructure home /u00/app/grid/product/12.1.0/grid</code><br /><br /><code>## [END] Install check configuration ##</code><br /><br /><code>Traces log file: /tmp/deinstall2014-10-24_11-21-17PM/logs//crsdc_2014-10-24_11-21-36PM.log</code><br /><br /><code>Network Configuration check config START</code><br /><br /><code>Network de-configuration trace file location: /tmp/deinstall2014-10-24_11-21-17PM/logs/netdc_check2014-10-24_11-21-37-PM.log</code><br /><br /><code>Specify all Oracle Restart enabled listeners that are to be de-configured. Enter .(dot) to deselect all. [LISTENER]:</code><br /><br /><code>Network Configuration check config END</code><br /><br /><code>Asm Check Configuration START</code><br /><br /><code>ASM de-configuration trace file location: /tmp/deinstall2014-10-24_11-21-17PM/logs/asmcadc_check2014-10-24_11-21-43-PM.log</code><br /><br /><code>Automatic Storage Management (ASM) instance is detected in this Oracle home /u00/app/grid/product/12.1.0/grid.</code><br /><code>ASM Diagnostic Destination : /u00/app/grid</code><br /><code>ASM Diskgroups : </code><br /><code>ASM diskstring : &lt;Default&gt;</code><br /><code>Diskgroups will not be dropped</code><br /><code>If you want to retain the existing diskgroups or if any of the information detected is incorrect, you can modify by entering 'y'. Do you want to modify above information (y|n) [n]: </code><br /><code>Database Check Configuration START</code><br /><br /><code>Database de-configuration trace file location: /tmp/deinstall2014-10-24_11-21-17PM/logs/databasedc_check2014-10-24_11-22-03-PM.log</code><br /><br /><code>Database Check Configuration END</code><br /><br /><code>######################### DECONFIG CHECK OPERATION END #########################</code><br /><br /><br /><code>####################### DECONFIG CHECK OPERATION SUMMARY #######################</code><br /><code>Oracle Grid Infrastructure Home is: /u00/app/grid/product/12.1.0/grid</code><br /><code>The following nodes are part of this cluster: null</code><br /><code>The cluster node(s) on which the Oracle home deinstallation will be performed are:null</code><br /><code>Oracle Home selected for deinstall is: /u00/app/grid/product/12.1.0/grid</code><br /><code>Inventory Location where the Oracle home registered is: /u00/app/oraInventory</code><br /><code>Following Oracle Restart enabled listener(s) will be de-configured: LISTENER</code><br /><code>ASM instance will be de-configured from this Oracle home</code><br /><code>Do you want to continue (y - yes, n - no)? [n]: y</code><br /><code>A log of this session will be written to: '/tmp/deinstall2014-10-24_11-21-17PM/logs/deinstall_deconfig2014-10-24_11-21-36-PM.out'</code><br /><code>Any error messages from this session will be written to: '/tmp/deinstall2014-10-24_11-21-17PM/logs/deinstall_deconfig2014-10-24_11-21-36-PM.err'</code><br /><br /><code>######################## DECONFIG CLEAN OPERATION START ########################</code><br /><code>Database de-configuration trace file location: /tmp/deinstall2014-10-24_11-21-17PM/logs/databasedc_clean2014-10-24_11-22-19-PM.log</code><br /><code>ASM de-configuration trace file location: /tmp/deinstall2014-10-24_11-21-17PM/logs/asmcadc_clean2014-10-24_11-22-19-PM.log</code><br /><code>ASM Clean Configuration START</code><br /><code>ASM Clean Configuration END</code><br /><br /><code>Network Configuration clean config START</code><br /><br /><code>Network de-configuration trace file location: /tmp/deinstall2014-10-24_11-21-17PM/logs/netdc_clean2014-10-24_11-22-22-PM.log</code><br /><br /><code>De-configuring Oracle Restart enabled listener(s): LISTENER</code><br /><br /><code>De-configuring listener: LISTENER</code><br /><code> Stopping listener: LISTENER</code><br /><code> Warning: Failed to stop listener. Listener may not be running.</code><br /><code> Deleting listener: LISTENER</code><br /><code> Listener deleted successfully.</code><br /><code>Listener de-configured successfully.</code><br /><br /><code>De-configuring Listener configuration file...</code><br /><code>Listener configuration file de-configured successfully.</code><br /><br /><code>De-configuring Naming Methods configuration file...</code><br /><code>Naming Methods configuration file de-configured successfully.</code><br /><br /><code>De-configuring Local Net Service Names configuration file...</code><br /><code>Local Net Service Names configuration file de-configured successfully.</code><br /><br /><code>De-configuring backup files...</code><br /><code>Backup files de-configured successfully.</code><br /><br /><code>The network configuration has been cleaned up successfully.</code><br /><br /><code>Network Configuration clean config END</code><br /><br /><br /><code>----------------------------------------&gt;</code><br /><br /><code>Run the following command as the root user or the administrator on node "localhost".</code><br /><br /><code>/tmp/deinstall2014-10-24_11-21-17PM/perl/bin/perl -I/tmp/deinstall2014-10-24_11-21-17PM/perl/lib -I/tmp/deinstall2014-10-24_11-21-17PM/crs/install /tmp/deinstall2014-10-24_11-21-17PM/crs/install/roothas.pl -force -deconfig -paramfile "/tmp/deinstall2014-10-24_11-21-17PM/response/deinstall_OraGI12Home1.rsp"</code><br /><br /><code>Press Enter after you finish running the above commands</code><br /><br /><code>&lt;----------------------------------------</code><br /><br /><br /><code>######################### DECONFIG CLEAN OPERATION END #########################</code><br /><br /><br /><code>####################### DECONFIG CLEAN OPERATION SUMMARY #######################</code><br /><code>ASM instance was de-configured successfully from the Oracle home</code><br /><code>Following Oracle Restart enabled listener(s) were de-configured successfully: LISTENER</code><br /><code>Oracle Restart was already stopped and de-configured on node "localhost"</code><br /><code>Oracle Restart is stopped and de-configured successfully.</code><br /><code>#######################################################################</code><br /><br /><br /><code>############# ORACLE DECONFIG TOOL END #############</code><br /><br /><code>Using properties file /tmp/deinstall2014-10-24_11-21-17PM/response/deinstall_2014-10-24_11-21-36-PM.rsp</code><br /><code>Location of logs /tmp/deinstall2014-10-24_11-21-17PM/logs/</code><br /><br /><code>############ ORACLE DEINSTALL TOOL START ############</code><br /><br /><br /><br /><br /><br /><code>####################### DEINSTALL CHECK OPERATION SUMMARY #######################</code><br /><code>A log of this session will be written to: '/tmp/deinstall2014-10-24_11-21-17PM/logs/deinstall_deconfig2014-10-24_11-21-36-PM.out'</code><br /><code>Any error messages from this session will be written to: '/tmp/deinstall2014-10-24_11-21-17PM/logs/deinstall_deconfig2014-10-24_11-21-36-PM.err'</code><br /><br /><code>######################## DEINSTALL CLEAN OPERATION START ########################</code><br /><code>## [START] Preparing for Deinstall ##</code><br /><code>Setting LOCAL_NODE to localhost</code><br /><code>Setting CRS_HOME to true</code><br /><code>Setting oracle.installer.invPtrLoc to /tmp/deinstall2014-10-24_11-21-17PM/oraInst.loc</code><br /><code>Setting oracle.installer.local to false</code><br /><br /><code>## [END] Preparing for Deinstall ##</code><br /><br /><code>Setting the force flag to false</code><br /><code>Setting the force flag to cleanup the Oracle Base</code><br /><code>Oracle Universal Installer clean START</code><br /><br /><code>Detach Oracle home '/u00/app/grid/product/12.1.0/grid' from the central inventory on the local node : Done</code><br /><br /><code>Delete directory '/u00/app/grid/product/12.1.0/grid' on the local node : Done</code><br /><br /><code>Delete directory '/u00/app/oraInventory' on the local node : Done</code><br /><br /><code>The Oracle Base directory '/u00/app/grid' will not be removed on local node. The directory is not empty.</code><br /><br /><code>Oracle Universal Installer cleanup was successful.</code><br /><br /><code>Oracle Universal Installer clean END</code><br /><br /><br /><code>## [START] Oracle install clean ##</code><br /><br /><code>Clean install operation removing temporary directory '/tmp/deinstall2014-10-24_11-21-17PM' on node 'localhost'</code><br /><br /><code>## [END] Oracle install clean ##</code><br /><br /><br /><code>######################### DEINSTALL CLEAN OPERATION END #########################</code><br /><br /><br /><code>####################### DEINSTALL CLEAN OPERATION SUMMARY #######################</code><br /><code>Successfully detached Oracle home '/u00/app/grid/product/12.1.0/grid' from the central inventory on the local node.</code><br /><code>Successfully deleted directory '/u00/app/grid/product/12.1.0/grid' on the local node.</code><br /><code>Successfully deleted directory '/u00/app/oraInventory' on the local node.</code><br /><code>Oracle Universal Installer cleanup was successful.</code><br /><br /><br /><code>Run 'rm -r /etc/oraInst.loc' as root on node(s) 'localhost' at the end of the session.</code><br /><br /><code>Run 'rm -r /opt/ORCLfmap' as root on node(s) 'localhost' at the end of the session.</code><br /><code>Run 'rm -r /etc/oratab' as root on node(s) 'localhost' at the end of the session.</code><br /><code>Oracle deinstall tool successfully cleaned up temporary directories.</code><br /><code>#######################################################################</code><br /><br /><br /><code>############# ORACLE DEINSTALL TOOL END #############</code><br /><br /><code>[grid@lxcora02 ~]$ </code></font></div><br /></font></div><div><font size="3">And here are the results of running the root portion of the GI deinstall as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ ssh root@lxcora02</code><br /><code>root@lxcora02's password: </code><br /><code>Last login: Fri Oct 24 23:10:13 2014</code><br /><code>[root@lxcora02 ~]# /tmp/deinstall2014-10-24_11-21-17PM/perl/bin/perl -I/tmp/deinstall2014-10-24_11-21-17PM/perl/lib -I/tmp/deinstall2014-10-24_11-21-17PM/crs/install /tmp/deinstall2014-10-24_11-21-17PM/crs/install/roothas.pl -force -deconfig -paramfile "/tmp/deinstall2014-10-24_11-21-17PM/response/deinstall_OraGI12Home1.rsp"</code><br /><code>Using configuration parameter file: /tmp/deinstall2014-10-24_11-21-17PM/response/deinstall_OraGI12Home1.rsp</code><br /><code>CRS-4639: Could not contact Oracle High Availability Services</code><br /><code>CRS-4000: Command Stop failed, or completed with errors.</code><br /><code>CRS-4639: Could not contact Oracle High Availability Services</code><br /><code>CRS-4000: Command Delete failed, or completed with errors.</code><br /><code>CLSU-00100: operating system function: opendir failed with error data: 2</code><br /><code>CLSU-00101: operating system error message: No such file or directory</code><br /><code>CLSU-00103: error location: scrsearch1</code><br /><code>CLSU-00104: additional error information: cant open scr home dir scls_scr_getval</code><br /><code>CRS-4639: Could not contact Oracle High Availability Services</code><br /><code>CRS-4000: Command Stop failed, or completed with errors.</code><br /><code>2014/10/24 23:24:13 CLSRSC-337: Successfully deconfigured Oracle Restart stack</code><br /><br /><code>[root@lxcora02 ~]# </code></font></div><br /></font></div><div><font size="3">Remove the entire $ORACLE_HOME and $GRID_HOME top level directory, u00 as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora02 /]# rm -Rf u00</code><br /><code>[root@lxcora02 /]# </code></font></div></font><h3><a name="TOC-Configure-and-Test-Jumbo-Frames-on-Private-Interconnect-Interfaces"></a>Configure and Test Jumbo Frames on Private Interconnect Interfaces</h3><div class="sites-codeblock sites-codesnippet-block"><font size="3"><code>[root@lxcora02 ~]# ping -c 3 -M do -s 8972 10.207.39.11</code><br /><code>PING 10.207.39.11 (10.207.39.11) 8972(9000) bytes of data.</code><br /><code>ping: local error: Message too long, mtu=1500</code><br /><code>ping: local error: Message too long, mtu=1500</code><br /><code>ping: local error: Message too long, mtu=1500</code><br /><br /><code>--- 10.207.39.11 ping statistics ---</code><br /><code>3 packets transmitted, 0 received, +3 errors, 100% packet loss, time 3012ms</code><br /><br /><code>[root@lxcora02 ~]# ping -c 3 -M do -s 8972 192.210.39.11</code><br /><code>PING 192.210.39.11 (192.210.39.11) 8972(9000) bytes of data.</code><br /><code>8980 bytes from 192.210.39.11: icmp_seq=1 ttl=64 time=0.189 ms</code><br /><code>8980 bytes from 192.210.39.11: icmp_seq=2 ttl=64 time=0.062 ms</code><br /><code>8980 bytes from 192.210.39.11: icmp_seq=3 ttl=64 time=0.047 ms</code><br /><br /><code>--- 192.210.39.11 ping statistics ---</code><br /><code>3 packets transmitted, 3 received, 0% packet loss, time 1999ms</code><br /><code>rtt min/avg/max/mdev = 0.047/0.099/0.189/0.064 ms</code><br /><code>[root@lxcora02 ~]# ping -c 3 -M do -s 8972 192.211.39.11</code><br /><code>PING 192.211.39.11 (192.211.39.11) 8972(9000) bytes of data.</code><br /><code>8980 bytes from 192.211.39.11: icmp_seq=1 ttl=64 time=0.143 ms</code><br /><code>8980 bytes from 192.211.39.11: icmp_seq=2 ttl=64 time=0.046 ms</code><br /><code>8980 bytes from 192.211.39.11: icmp_seq=3 ttl=64 time=0.062 ms</code><br /><br /><code>--- 192.211.39.11 ping statistics ---</code><br /><code>3 packets transmitted, 3 received, 0% packet loss, time 1999ms</code><br /><code>rtt min/avg/max/mdev = 0.046/0.083/0.143/0.043 ms</code><br /><code>[root@lxcora02 ~]# ping -c 3 -M do -s 8972 192.212.39.11</code><br /><code>PING 192.212.39.11 (192.212.39.11) 8972(9000) bytes of data.</code><br /><code>8980 bytes from 192.212.39.11: icmp_seq=1 ttl=64 time=0.156 ms</code><br /><code>8980 bytes from 192.212.39.11: icmp_seq=2 ttl=64 time=0.096 ms</code><br /><code>8980 bytes from 192.212.39.11: icmp_seq=3 ttl=64 time=0.068 ms</code><br /><br /><code>--- 192.212.39.11 ping statistics ---</code><br /><code>3 packets transmitted, 3 received, 0% packet loss, time 1998ms</code><br /><code>rtt min/avg/max/mdev = 0.068/0.106/0.156/0.038 ms</code><br /><code>[root@lxcora02 ~]# ping -c 3 -M do -s 8972 192.213.39.11</code><br /><code>PING 192.213.39.11 (192.213.39.11) 8972(9000) bytes of data.</code><br /><code>8980 bytes from 192.213.39.11: icmp_seq=1 ttl=64 time=0.082 ms</code><br /><code>8980 bytes from 192.213.39.11: icmp_seq=2 ttl=64 time=0.066 ms</code><br /><code>8980 bytes from 192.213.39.11: icmp_seq=3 ttl=64 time=0.094 ms</code><br /><br /><code>--- 192.213.39.11 ping statistics ---</code><br /><code>3 packets transmitted, 3 received, 0% packet loss, time 1998ms</code><br /><code>rtt min/avg/max/mdev = 0.066/0.080/0.094/0.015 ms</code><br /><code>[root@lxcora02 ~]# </code></font></div><p><font size="3">Now test from the other node as shown below. <br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora03 ~]# ping -c 3 -M do -s 8972 10.207.39.10</code><br /><code>PING 10.207.39.10 (10.207.39.10) 8972(9000) bytes of data.</code><br /><code>ping: local error: Message too long, mtu=1500</code><br /><code>ping: local error: Message too long, mtu=1500</code><br /><code>ping: local error: Message too long, mtu=1500</code><br /><br /><code>--- 10.207.39.10 ping statistics ---</code><br /><code>3 packets transmitted, 0 received, +3 errors, 100% packet loss, time 2094ms</code><br /><br /><code>[root@lxcora03 ~]# ping -c 3 -M do -s 8972 192.210.39.10 </code><br /><code>PING 192.210.39.10 (192.210.39.10) 8972(9000) bytes of data.</code><br /><code>8980 bytes from 192.210.39.10: icmp_seq=1 ttl=64 time=0.360 ms</code><br /><code>8980 bytes from 192.210.39.10: icmp_seq=2 ttl=64 time=0.072 ms</code><br /><code>8980 bytes from 192.210.39.10: icmp_seq=3 ttl=64 time=0.065 ms</code><br /><br /><code>--- 192.210.39.10 ping statistics ---</code><br /><code>3 packets transmitted, 3 received, 0% packet loss, time 1998ms</code><br /><code>rtt min/avg/max/mdev = 0.065/0.165/0.360/0.138 ms</code><br /><code>[root@lxcora03 ~]# ping -c 3 -M do -s 8972 192.211.39.10</code><br /><code>PING 192.211.39.10 (192.211.39.10) 8972(9000) bytes of data.</code><br /><code>8980 bytes from 192.211.39.10: icmp_seq=1 ttl=64 time=0.033 ms</code><br /><code>8980 bytes from 192.211.39.10: icmp_seq=2 ttl=64 time=0.048 ms</code><br /><code>8980 bytes from 192.211.39.10: icmp_seq=3 ttl=64 time=0.041 ms</code><br /><br /><code>--- 192.211.39.10 ping statistics ---</code><br /><code>3 packets transmitted, 3 received, 0% packet loss, time 1998ms</code><br /><code>rtt min/avg/max/mdev = 0.033/0.040/0.048/0.009 ms</code><br /><code>[root@lxcora03 ~]# ping -c 3 -M do -s 8972 192.212.39.10</code><br /><code>PING 192.212.39.10 (192.212.39.10) 8972(9000) bytes of data.</code><br /><code>8980 bytes from 192.212.39.10: icmp_seq=1 ttl=64 time=0.136 ms</code><br /><code>8980 bytes from 192.212.39.10: icmp_seq=2 ttl=64 time=0.112 ms</code><br /><code>8980 bytes from 192.212.39.10: icmp_seq=3 ttl=64 time=0.040 ms</code><br /><br /><code>--- 192.212.39.10 ping statistics ---</code><br /><code>3 packets transmitted, 3 received, 0% packet loss, time 2000ms</code><br /><code>rtt min/avg/max/mdev = 0.040/0.096/0.136/0.040 ms</code><br /><code>[root@lxcora03 ~]# ping -c 3 -M do -s 8972 192.213.39.10</code><br /><code>PING 192.213.39.10 (192.213.39.10) 8972(9000) bytes of data.</code><br /><code>8980 bytes from 192.213.39.10: icmp_seq=1 ttl=64 time=0.037 ms</code><br /><code>8980 bytes from 192.213.39.10: icmp_seq=2 ttl=64 time=0.061 ms</code><br /><code>8980 bytes from 192.213.39.10: icmp_seq=3 ttl=64 time=0.045 ms</code><br /><br /><code>--- 192.213.39.10 ping statistics ---</code><br /><code>3 packets transmitted, 3 received, 0% packet loss, time 1998ms</code><br /><code>rtt min/avg/max/mdev = 0.037/0.047/0.061/0.012 ms</code><br /><code>[root@lxcora03 ~]# </code></font></div><h3><a name="TOC-Install-cvuqdisk-rpm-Package-on-Both-RAC-nodes"></a>Install cvuqdisk rpm Package on Both RAC nodes</h3><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ ssh root@lxcora02</code><br /><code>root@lxcora02's password: </code><br /><code>Last login: Tue Oct 28 00:11:19 2014</code><br /><code>[root@lxcora02 ~]# cd /home/grid</code><br /><code>[root@lxcora02 grid]# cd grid</code><br /><code>[root@lxcora02 grid]# cd rpm</code><br /><code>[root@lxcora02 rpm]# rpm -Uvh cvuqdisk-1.0.9-1.rpm </code><br /><code>Preparing... ########################################### [100%]</code><br /><code>Using default group oinstall to install package</code><br /><code> 1:cvuqdisk ########################################### [100%]</code><br /><code>[root@lxcora02 rpm]# ssh lxcora03</code><br /><code>root@lxcora03's password: </code><br /><code>Last login: Tue Oct 28 00:10:46 2014</code><br /><code>[root@lxcora03 ~]# cd /home/grid/grid/rpm</code><br /><code>[root@lxcora03 rpm]# rpm -Uvh cvuqdisk-1.0.9-1.rpm </code><br /><code>Preparing... ########################################### [100%]</code><br /><code>Using default group oinstall to install package</code><br /><code> 1:cvuqdisk ########################################### [100%]</code><br /><code>[root@lxcora03 rpm]# </code></font></div><h3><a name="TOC-Establish-No-password-ssh-between-RAC-nodes"></a>Establish No-password ssh between RAC nodes</h3><p><font size="3">The following steps are done to establish no-password ssh between nodes. The GUI installer can do this automatically in 12c, but still I prefer to do it ahead of time and verify it is set prior to install. The first step was that since the lxcora02 was cloned, it still had the public key in the .ssh directory for lxcora01 so need to delete key and create new for lxcora02 as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>[grid@lxcora02 .ssh]$ ls -lrt</code><br /><code>total 16</code><br /><code>-rw-r--r-- 1 grid oinstall 395 Sep 18 22:06 id_rsa.pub</code><br /><code>-rw------- 1 grid oinstall 1675 Sep 18 22:06 id_rsa</code><br /><code>-rw-r--r-- 1 grid oinstall 395 Sep 18 22:06 authorized_keys</code><br /><code>-rw-r--r-- 1 grid oinstall 1958 Oct 24 23:34 known_hosts</code><br /><code>[grid@lxcora02 .ssh]$ cd ..</code><br /><code>[grid@lxcora02 ~]$ rm .ssh/id_rsa*</code><br /><code>[grid@lxcora02 ~]$ </code><br /><code>[grid@lxcora02 ~]$ ssh-keygen -t rsa</code><br /><code>Generating public/private rsa key pair.</code><br /><code>Enter file in which to save the key (/home/grid/.ssh/id_rsa): </code><br /><code>Enter passphrase (empty for no passphrase): </code><br /><code>Enter same passphrase again: </code><br /><code>Your identification has been saved in /home/grid/.ssh/id_rsa.</code><br /><code>Your public key has been saved in /home/grid/.ssh/id_rsa.pub.</code><br /><code>The key fingerprint is:</code><br /><code>60:41:ce:f4:10:a0:1b:3e:5e:5e:77:dd:8d:b6:da:93 grid@lxcora02</code><br /><code>The key's randomart image is:</code><br /><code>+--[ RSA 2048]----+</code><br /><code>| .o*. |</code><br /><code>| . + + |</code><br /><code>| o = . |</code><br /><code>| . o . . . . o |</code><br /><code>| + . . S . . + .|</code><br /><code>| . + . . . . . |</code><br /><code>| . . .. |</code><br /><code>| oE |</code><br /><code>| . .. |</code><br /><code>+-----------------+</code><br /><code>[grid@lxcora02 ~]$ cd .ssh</code><br /><code>[grid@lxcora02 .ssh]$ ls -lrt</code><br /><code>total 16</code><br /><code>-rw-r--r-- 1 grid oinstall 395 Sep 18 22:06 authorized_keys</code><br /><code>-rw-r--r-- 1 grid oinstall 1958 Oct 24 23:34 known_hosts</code><br /><code>-rw-r--r-- 1 grid oinstall 395 Oct 24 23:37 id_rsa.pub</code><br /><code>-rw------- 1 grid oinstall 1675 Oct 24 23:37 id_rsa</code><br /><code>[grid@lxcora02 .ssh]$ cat authorized_keys id_rsa.pub &gt; new</code><br /><code>[grid@lxcora02 .ssh]$ more new</code><br /><code>ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAx3VNFs0b7Qr4rOjP3myGVY+F6dm1VpBxcUDm1tdcX/c77SZ/a9l1gkiAX0OcgpyWZII1gUJfm/qVi7U94lI+KTBCq3bzhxA78OnSHnw/eGpk/EuzAZ9+3T9RtJoqv44KBdLOUBU+Q7NxCQAhiaD21qNUp9CWYpHQdt1z4xG9u</code><br /><code>fGsQPjK5+6mxFjsk2eJZwXKD2KhaKqgBsULkf2wJq6Hg5S+Gta3uKLz4mSrtx7zeblapL4VJWlX7mqLI77M+QEEt2qienDBtoLet1MEy8UGe4EN3aS8rU2MDyin+FrT2OAYv5DHKuYrm2bFb7loddAf+lANwVWaKzfOl2Yy7i8BSw== grid@lxcora01</code><br /><code>ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAqIVZGpnGL5WjAUaQLPCK5sjBdXXoBs7kL827cMySCzR7KeOSTxk4OLDDhVK349B1hJn1eiyTDR7NQ7jd0bu2+IfEn3ICchIg1LMdsLMb3xj93hNOSbcNhjVeqVWqF4GVXKY2lcCLaJQ6dELuhfvdkuZ18uwjhebnnCt0ESf7b</code><br /><code>cqwAm7AxQbrqHf2A/7W9iICGdqL2KtYXch5DVYITA2+wmb5Ww1DTd3KNs1aBOCC8N80DZRaOX4DTeZ7zh+LK7lleKB3aTTmiK5tT/3d/HD2BoCdbZbtOd2ro/QDlZLs0Zh9Av6xiGtyaufoeS0ycCIoZoEESqZrSfAu8vkyqMREMw== grid@lxcora02</code><br /><code>[grid@lxcora02 .ssh]$ mv new authorized_keys </code><br /><code>[grid@lxcora02 .ssh]$ cat authorized_keys </code><br /><code>ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAx3VNFs0b7Qr4rOjP3myGVY+F6dm1VpBxcUDm1tdcX/c77SZ/a9l1gkiAX0OcgpyWZII1gUJfm/qVi7U94lI+KTBCq3bzhxA78OnSHnw/eGpk/EuzAZ9+3T9RtJoqv44KBdLOUBU+Q7NxCQAhiaD21qNUp9CWYpHQdt1z4xG9ufGsQPjK5+6mxFjsk2eJZwXKD2KhaKqgBsULkf2wJq6Hg5S+Gta3uKLz4mSrtx7zeblapL4VJWlX7mqLI77M+QEEt2qienDBtoLet1MEy8UGe4EN3aS8rU2MDyin+FrT2OAYv5DHKuYrm2bFb7loddAf+lANwVWaKzfOl2Yy7i8BSw== grid@lxcora01</code><br /><code>ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAqIVZGpnGL5WjAUaQLPCK5sjBdXXoBs7kL827cMySCzR7KeOSTxk4OLDDhVK349B1hJn1eiyTDR7NQ7jd0bu2+IfEn3ICchIg1LMdsLMb3xj93hNOSbcNhjVeqVWqF4GVXKY2lcCLaJQ6dELuhfvdkuZ18uwjhebnnCt0ESf7bcqwAm7AxQbrqHf2A/7W9iICGdqL2KtYXch5DVYITA2+wmb5Ww1DTd3KNs1aBOCC8N80DZRaOX4DTeZ7zh+LK7lleKB3aTTmiK5tT/3d/HD2BoCdbZbtOd2ro/QDlZLs0Zh9Av6xiGtyaufoeS0ycCIoZoEESqZrSfAu8vkyqMREMw== grid@lxcora02</code><br /><code>[grid@lxcora02 .ssh]$ </code></font></font></div><p><font size="3">Next copy the authorized_keys file to lxcora01 as shown below.</font><br /></p></div><div><font size="3"><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[grid@lxcora02 .ssh]$ scp authorized_keys grid@lxcora01:/home/grid/.ssh/.</code><br /><code>grid@lxcora01's password: </code><br /><code>authorized_keys 100% 790 0.8KB/s 00:00 </code><br /><code>[grid@lxcora02 .ssh]$ </code><br /></font></div><br /></font></div><div><font size="3">Next test that no-password ssh works and login to the nodes as variations of the hostname. Run the test_login.sh script on both nodes until the only output is the date as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[grid@lxcora02 .ssh]$ chmod 775 test_login.sh </code><br /><code>[grid@lxcora02 .ssh]$ ./test_login.sh </code><br /><br /><code>Fri Oct 24 23:44:43 EDT 2014</code><br /><code>Fri Oct 24 23:44:43 EDT 2014</code><br /><code>Fri Oct 24 23:44:43 EDT 2014</code><br /><code>Fri Oct 24 23:45:07 EDT 2014</code><br /><code>Fri Oct 24 23:45:21 EDT 2014</code><br /><code>Fri Oct 24 23:45:35 EDT 2014</code><br /><code>The authenticity of host 'lxcora01.vmem.org (10.207.39.85)' can't be established.</code><br /><code>RSA key fingerprint is 4f:62:a6:23:e4:58:2e:e2:1b:a4:1c:39:28:a0:ff:df.</code><br /><code>Are you sure you want to continue connecting (yes/no)? yes</code><br /><code>Warning: Permanently added 'lxcora01.vmem.org' (RSA) to the list of known hosts.</code><br /><code>Fri Oct 24 23:46:13 EDT 2014</code><br /><code>The authenticity of host 'lxcora02.vmem.org (10.207.39.87)' can't be established.</code><br /><code>RSA key fingerprint is 4f:62:a6:23:e4:58:2e:e2:1b:a4:1c:39:28:a0:ff:df.</code><br /><code>Are you sure you want to continue connecting (yes/no)? yes</code><br /><code>Warning: Permanently added 'lxcora02.vmem.org' (RSA) to the list of known hosts.</code><br /><code>Fri Oct 24 23:46:34 EDT 2014</code><br /><br /><code>[grid@lxcora02 .ssh]$ ./test_login.sh </code><br /><br /><code>Fri Oct 24 23:46:49 EDT 2014</code><br /><code>Fri Oct 24 23:46:50 EDT 2014</code><br /><code>Fri Oct 24 23:46:50 EDT 2014</code><br /><code>Fri Oct 24 23:47:14 EDT 2014</code><br /><code>Fri Oct 24 23:47:28 EDT 2014</code><br /><code>Fri Oct 24 23:47:42 EDT 2014</code><br /><code>Fri Oct 24 23:48:01 EDT 2014</code><br /><code>Fri Oct 24 23:48:20 EDT 2014</code><br /><br /><code>[grid@lxcora02 .ssh]$ cat test_login.sh </code><br /><br /><code>ssh grid@localhost date</code><br /><code>ssh grid@127.0.0.1 date</code><br /><code>ssh grid@lxcora02 date</code><br /><code>ssh grid@lxcora01 date</code><br /><code>ssh grid@10.207.39.87 date</code><br /><code>ssh grid@10.207.39.85 date</code><br /><code>ssh grid@lxcora01.vmem.org date</code><br /><code>ssh grid@lxcora02.vmem.org date</code><br /><br /><code>[grid@lxcora02 .ssh]$ </code></font></div><br /></font></div><div><font size="3">Now scp the script to the other node and run until output is only date and time on the other node (lxcora01) as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[grid@lxcora02 .ssh]$ scp test_login.sh grid@lxcora01:/home/grid/.</code><br /><code>test_login.sh 100% 212 0.2KB/s 00:00 </code><br /><code>[grid@lxcora02 .ssh]$ </code></font></div><br />Then login to lxcora01 as grid and run test_login.sh script until output is only date and time as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[grid@lxcora01 ~]$ ./test_login.sh </code><br /><code>Fri Oct 24 23:52:18 EDT 2014</code><br /><code>Fri Oct 24 23:52:18 EDT 2014</code><br /><code>The authenticity of host 'lxcora02 (10.207.39.87)' can't be established.</code><br /><code>RSA key fingerprint is 4f:62:a6:23:e4:58:2e:e2:1b:a4:1c:39:28:a0:ff:df.</code><br /><code>Are you sure you want to continue connecting (yes/no)? yes</code><br /><code>Warning: Permanently added 'lxcora02,10.207.39.87' (RSA) to the list of known hosts.</code><br /><code>Fri Oct 24 23:52:45 EDT 2014</code><br /><code>Fri Oct 24 23:52:45 EDT 2014</code><br /><code>Fri Oct 24 23:52:59 EDT 2014</code><br /><code>The authenticity of host '10.207.39.85 (10.207.39.85)' can't be established.</code><br /><code>RSA key fingerprint is 4f:62:a6:23:e4:58:2e:e2:1b:a4:1c:39:28:a0:ff:df.</code><br /><code>Are you sure you want to continue connecting (yes/no)? yes</code><br /><code>Warning: Permanently added '10.207.39.85' (RSA) to the list of known hosts.</code><br /><code>Fri Oct 24 23:53:14 EDT 2014</code><br /><code>The authenticity of host 'lxcora01.vmem.org (10.207.39.85)' can't be established.</code><br /><code>RSA key fingerprint is 4f:62:a6:23:e4:58:2e:e2:1b:a4:1c:39:28:a0:ff:df.</code><br /><code>Are you sure you want to continue connecting (yes/no)? yes</code><br /><code>Warning: Permanently added 'lxcora01.vmem.org' (RSA) to the list of known hosts.</code><br /><code>Fri Oct 24 23:53:35 EDT 2014</code><br /><code>The authenticity of host 'lxcora02.vmem.org (10.207.39.87)' can't be established.</code><br /><code>RSA key fingerprint is 4f:62:a6:23:e4:58:2e:e2:1b:a4:1c:39:28:a0:ff:df.</code><br /><code>Are you sure you want to continue connecting (yes/no)? yes</code><br /><code>Warning: Permanently added 'lxcora02.vmem.org' (RSA) to the list of known hosts.</code><br /><code>Fri Oct 24 23:53:55 EDT 2014</code><br /><code>[grid@lxcora01 ~]$ ./test_login.sh </code><br /><code>Fri Oct 24 23:54:00 EDT 2014</code><br /><code>Fri Oct 24 23:54:00 EDT 2014</code><br /><code>Fri Oct 24 23:54:24 EDT 2014</code><br /><code>Fri Oct 24 23:54:24 EDT 2014</code><br /><code>Fri Oct 24 23:54:38 EDT 2014</code><br /><code>Fri Oct 24 23:54:52 EDT 2014</code><br /><code>Fri Oct 24 23:55:12 EDT 2014</code><br /><code>Fri Oct 24 23:55:31 EDT 2014</code><br /><code>[grid@lxcora01 ~]$ </code></font></div><br /></font></div><div><font size="3">Now it is necessary to setup the final NFS mount configurations and also setup for Normal Redundancy (mirrored). So change in plans. After looking at the Oracle 12c ASM guide find that NFS is no longer supported for OCR and VOTE as it was in 11gR2. So, will use lxc-device command to add the required non-multipath disk onto the lxc RAC nodes. Actually, this was already done. These are LUNS delivered from a KVM guest (oracle652.vmem.org) running SCST Linux SAN (used because it has a switch for 4K / 512 logical setting and 4K / 512 physical setting of sector sizes, so that LUNs can be delivered for any format combination. The Ubuntu 14.04.1 laptop OS is the iSCSI client. The LUNs are then added to the lxc nodes using the lxc-device add command which is persistend across lxc reboots. It would be preferable to use some sort of UDEV rule in the lxc nodes to ensure that the lun is persistent across reboots with respect to actual identity. <br /><br /></font></div><div><font size="3">At the moment I need to resize the iSCSI LUN so I use the method at my blog documented <a href="../scst/scst-linux-san/resize-asm-lun.html" target="_blank">here</a>. For completeness of this blog, the steps are shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 scst_lxcora01]# dd if=/dev/zero of=/scst_lxcora01/AsmTst_02.img bs=512 count=0 seek=10M</code><br /><code>0+0 records in</code><br /><code>0+0 records out</code><br /><code>0 bytes (0 B) copied, 0.000411897 s, 0.0 kB/s</code><br /><code>[root@oracle651 scst_lxcora01]# ls -lrt A</code><code>smTst_02.img</code><br /><code>total 377860</code><br /><code>-rw-r--r-- 1 root root 5368709120 Oct 25 00:01 AsmTst_02.img</code><br /><br /><code>[root@oracle651 scst_lxcora01]# scstadmin -resync_dev AsmTst_02</code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><code>-&gt; Making requested changes.</code><br /><code> -&gt; Setting device attribute 'resync_size' to value '1' for device 'AsmTst_02': done.</code><br /><code> -&gt; Done.</code><br /><br /><code>All done.</code><br /><br /><code>[root@oracle651 scst_lxcora01]# scstadmin -write_config /etc/scst.conf</code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><code>Writing current configuration to file '/etc/scst.conf'.. </code><br /><code>All done.</code><br /><br /><code>[root@oracle651 scst_lxcora01]# scstadmin -list_group </code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><code>Driver: iscsi</code><br /><code>Target: iqn.2014-08.org.vmem:oracle651.san.asm.luns</code><br /><br /><code>Driver/target 'iscsi/iqn.2014-08.org.vmem:oracle651.san.asm.luns' has no associated LUNs.</code><br /><br /><code>Group: oracle631</code><br /><br /><code>Assigned LUNs:</code><br /><br /><code> LUN Device </code><br /><code> -----------------</code><br /><code> 1 AsmDat631_01</code><br /><code> 2 AsmDat631_02</code><br /><code> 3 AsmDat631_03</code><br /><code> 4 AsmDat631_04</code><br /><code> 5 AsmDat631_05</code><br /><code> 6 AsmDat631_06</code><br /><code> 7 AsmDat631_07</code><br /><code> 8 AsmDat631_08</code><br /><br /><code>Assigned Initiators:</code><br /><br /><code> Initiator</code><br /><code> ----------------------------------</code><br /><code> iqn.2014-08.org.vmem:oracle631.asm</code><br /><code> iqn.2014-09.org.vmem:lxcora3.asm</code><br /><br /><code>Group: lxcora01</code><br /><br /><code>Assigned LUNs:</code><br /><br /><code> LUN Device </code><br /><code> --------------</code><br /><code> 1 AsmTst_01</code><br /><code> 2 AsmTst_02</code><br /><code> 3 AsmTst_03</code><br /><br /><code>Assigned Initiators:</code><br /><br /><code> Initiator</code><br /><code> -------------------------------------</code><br /><code> iqn.2014-09.org.vmem1:oracle.asm.luns</code><br /><br /><code>All done.</code><br /><code>[root@oracle651 scst_lxcora01]# exit</code></font></div><br /></font></div><div><font size="3">Next on the Ubuntu laptop host, use iscsiadm to update with the new size as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ sudo iscsiadm -m node -R</code><br /><code>[sudo] password for gstanden: </code><br /><code>Rescanning session [sid: 1, target: iqn.2014-08.org.vmem:oracle651.san.asm.luns, portal: 10.207.40.74,3260]</code><br /><code>Rescanning session [sid: 2, target: iqn.2014-08.org.vmem:oracle651.san.asm.luns, portal: 10.207.41.74,3260]</code><br /><code>gstanden@vmem1:~$ </code></font></div><br /></font></div><div><font size="3">Check that the updated size has been detected as shown below.<br /><br /></font></div><div><font size="3">Here are some notes from the install of RAC on the LXC containers. This is the root.sh output from lxcora02 (first node) as shown below. The root.sh execution successful should look something like as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><br /><code>[root@lxcora02 ~]# /u00/app/grid/product/12.1.0/grid/root.sh</code><br /><code>Performing root user operation.</code><br /><br /><code>The following environment variables are set as:</code><br /><code> ORACLE_OWNER= grid</code><br /><code> ORACLE_HOME= /u00/app/grid/product/12.1.0/grid</code><br /><br /><code>Enter the full pathname of the local bin directory: [/usr/local/bin]: </code><br /><code>The contents of "dbhome" have not changed. No need to overwrite.</code><br /><code>The contents of "oraenv" have not changed. No need to overwrite.</code><br /><code>The contents of "coraenv" have not changed. No need to overwrite.</code><br /><br /><code>Entries will be added to the /etc/oratab file as needed by</code><br /><code>Database Configuration Assistant when a database is created</code><br /><code>Finished running generic part of root script.</code><br /><code>Now product-specific root actions will be performed.</code><br /><code>Using configuration parameter file: /u00/app/grid/product/12.1.0/grid/crs/install/crsconfig_params</code><br /><code>2014/10/25 18:15:01 CLSRSC-4001: Installing Oracle Trace File Analyzer (TFA) Collector.</code><br /><br /><code>TFA-00012: Oracle Trace File Analyzer (TFA) requires BASH shell. Please install bash and try again.</code><br /><code>2014/10/25 18:15:10 CLSRSC-4004: Failed to install Oracle Trace File Analyzer (TFA) Collector. Grid Infrastructure operations will continue.</code><br /><br /><code>2014/10/25 18:15:11 CLSRSC-363: User ignored prerequisites during installation</code><br /><br /><code>OLR initialization - successful</code><br /><code> root wallet</code><br /><code> root wallet cert</code><br /><code> root cert export</code><br /><code> peer wallet</code><br /><code> profile reader wallet</code><br /><code> pa wallet</code><br /><code> peer wallet keys</code><br /><code> pa wallet keys</code><br /><code> peer cert request</code><br /><code> pa cert request</code><br /><code> peer cert</code><br /><code> pa cert</code><br /><code> peer root cert TP</code><br /><code> profile reader root cert TP</code><br /><code> pa root cert TP</code><br /><code> peer pa cert TP</code><br /><code> pa peer cert TP</code><br /><code> profile reader pa cert TP</code><br /><code> profile reader peer cert TP</code><br /><code> peer user cert</code><br /><code> pa user cert</code><br /><code>2014/10/25 18:15:42 CLSRSC-330: Adding Clusterware entries to file 'oracle-ohasd.conf'</code><br /><br /><code>CRS-4133: Oracle High Availability Services has been stopped.</code><br /><code>CRS-4123: Oracle High Availability Services has been started.</code><br /><code>CRS-4133: Oracle High Availability Services has been stopped.</code><br /><code>CRS-4123: Oracle High Availability Services has been started.</code><br /><code>CRS-2672: Attempting to start 'ora.evmd' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.mdnsd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.mdnsd' on 'lxcora02' succeeded</code><br /><code>CRS-2676: Start of 'ora.evmd' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.gpnpd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.gpnpd' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.cssdmonitor' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.gipcd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.cssdmonitor' on 'lxcora02' succeeded</code><br /><code>CRS-2676: Start of 'ora.gipcd' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.cssd' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.diskmon' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.diskmon' on 'lxcora02' succeeded</code><br /><code>CRS-2676: Start of 'ora.cssd' on 'lxcora02' succeeded</code><br /><br /><code>ASM created and started successfully.</code><br /><br /><code>Disk Group DATA created successfully.</code><br /><br /><code>CRS-2672: Attempting to start 'ora.crf' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.storage' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.storage' on 'lxcora02' succeeded</code><br /><code>CRS-2676: Start of 'ora.crf' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.crsd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.crsd' on 'lxcora02' succeeded</code><br /><code>CRS-4256: Updating the profile</code><br /><code>Successful addition of voting disk b5c728b6fd2c4f5dbf311ac955d78133.</code><br /><code>Successful addition of voting disk 2a797f2ddb824feabfd38214d88f30b7.</code><br /><code>Successful addition of voting disk 21cdfa0bb8c04f26bf07f6901e789466.</code><br /><code>Successfully replaced voting disk group with +DATA.</code><br /><code>CRS-4256: Updating the profile</code><br /><code>CRS-4266: Voting file(s) successfully replaced</code><br /><code>## STATE File Universal Id File Name Disk group</code><br /><code>-- ----- ----------------- --------- ---------</code><br /><code>1. ONLINE b5c728b6fd2c4f5dbf311ac955d78133 (/dev/mapper/asm_disk26) [DATA]</code><br /><code>2. ONLINE 2a797f2ddb824feabfd38214d88f30b7 (/dev/mapper/asm_disk27) [DATA]</code><br /><code>3. ONLINE 21cdfa0bb8c04f26bf07f6901e789466 (/dev/mapper/asm_disk28) [DATA]</code><br /><code>Located 3 voting disk(s).</code><br /><code>CRS-2791: Starting shutdown of Oracle High Availability Services-managed resources on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.crsd' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.crsd' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.storage' on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.mdnsd' on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.gpnpd' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.storage' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.crf' on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.ctssd' on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.evmd' on 'lxcora02'</code><br /><code>CRS-2673: Attempting to stop 'ora.asm' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.mdnsd' on 'lxcora02' succeeded</code><br /><code>CRS-2677: Stop of 'ora.gpnpd' on 'lxcora02' succeeded</code><br /><code>CRS-2677: Stop of 'ora.ctssd' on 'lxcora02' succeeded</code><br /><code>CRS-2677: Stop of 'ora.crf' on 'lxcora02' succeeded</code><br /><code>CRS-2677: Stop of 'ora.evmd' on 'lxcora02' succeeded</code><br /><code>CRS-2677: Stop of 'ora.asm' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.cluster_interconnect.haip' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.cluster_interconnect.haip' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.cssd' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.cssd' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.gipcd' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.gipcd' on 'lxcora02' succeeded</code><br /><code>CRS-2793: Shutdown of Oracle High Availability Services-managed resources on 'lxcora02' has completed</code><br /><code>CRS-4133: Oracle High Availability Services has been stopped.</code><br /><code>CRS-4123: Starting Oracle High Availability Services-managed resources</code><br /><code>CRS-2672: Attempting to start 'ora.mdnsd' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.evmd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.mdnsd' on 'lxcora02' succeeded</code><br /><code>CRS-2676: Start of 'ora.evmd' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.gpnpd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.gpnpd' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.gipcd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.gipcd' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.cssdmonitor' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.cssdmonitor' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.cssd' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.diskmon' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.diskmon' on 'lxcora02' succeeded</code><br /><code>CRS-2676: Start of 'ora.cssd' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.cluster_interconnect.haip' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.ctssd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.ctssd' on 'lxcora02' succeeded</code><br /><code>CRS-2676: Start of 'ora.cluster_interconnect.haip' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.asm' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.asm' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.storage' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.storage' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.crf' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.crf' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.crsd' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.crsd' on 'lxcora02' succeeded</code><br /><code>CRS-6023: Starting Oracle Cluster Ready Services-managed resources</code><br /><code>CRS-6017: Processing resource auto-start for servers: lxcora02</code><br /><code>CRS-6016: Resource auto-start has completed for server lxcora02</code><br /><code>CRS-6024: Completed start of Oracle Cluster Ready Services-managed resources</code><br /><code>CRS-4123: Oracle High Availability Services has been started.</code><br /><code>2014/10/25 18:31:31 CLSRSC-343: Successfully started Oracle Clusterware stack</code><br /><br /><code>CRS-2672: Attempting to start 'ora.asm' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.asm' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.DATA.dg' on 'lxcora02'</code><br /><code>CRS-2676: Start of 'ora.DATA.dg' on 'lxcora02' succeeded</code><br /><code>2014/10/25 18:33:02 CLSRSC-325: Configure Oracle Grid Infrastructure for a Cluster ... succeeded</code><br /><br /><code>[root@lxcora02 ~]# </code></font></div><br /></font></div><div><font size="3">Results of root.sh on the second node (lxcora03) are shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@lxcora03 ~]# /u00/app/grid/product/12.1.0/grid/root.sh</code><br /><code>Performing root user operation.</code><br /><br /><code>The following environment variables are set as:</code><br /><code> ORACLE_OWNER= grid</code><br /><code> ORACLE_HOME= /u00/app/grid/product/12.1.0/grid</code><br /><br /><code>Enter the full pathname of the local bin directory: [/usr/local/bin]: </code><br /><code>The contents of "dbhome" have not changed. No need to overwrite.</code><br /><code>The contents of "oraenv" have not changed. No need to overwrite.</code><br /><code>The contents of "coraenv" have not changed. No need to overwrite.</code><br /><br /><code>Entries will be added to the /etc/oratab file as needed by</code><br /><code>Database Configuration Assistant when a database is created</code><br /><code>Finished running generic part of root script.</code><br /><code>Now product-specific root actions will be performed.</code><br /><code>Using configuration parameter file: /u00/app/grid/product/12.1.0/grid/crs/install/crsconfig_params</code><br /><code>2014/10/25 18:35:38 CLSRSC-4001: Installing Oracle Trace File Analyzer (TFA) Collector.</code><br /><br /><code>TFA-00012: Oracle Trace File Analyzer (TFA) requires BASH shell. Please install bash and try again.</code><br /><code>2014/10/25 18:35:47 CLSRSC-4004: Failed to install Oracle Trace File Analyzer (TFA) Collector. Grid Infrastructure operations will continue.</code><br /><br /><code>2014/10/25 18:35:48 CLSRSC-363: User ignored prerequisites during installation</code><br /><br /><code>OLR initialization - successful</code><br /><code>2014/10/25 18:37:15 CLSRSC-330: Adding Clusterware entries to file 'oracle-ohasd.conf'</code><br /><br /><code>CRS-4133: Oracle High Availability Services has been stopped.</code><br /><code>CRS-4123: Oracle High Availability Services has been started.</code><br /><code>CRS-4133: Oracle High Availability Services has been stopped.</code><br /><code>CRS-4123: Oracle High Availability Services has been started.</code><br /><code>CRS-4133: Oracle High Availability Services has been stopped.</code><br /><code>CRS-4123: Starting Oracle High Availability Services-managed resources</code><br /><code>CRS-2672: Attempting to start 'ora.mdnsd' on 'lxcora03'</code><br /><code>CRS-2672: Attempting to start 'ora.evmd' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.mdnsd' on 'lxcora03' succeeded</code><br /><code>CRS-2676: Start of 'ora.evmd' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.gpnpd' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.gpnpd' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.gipcd' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.gipcd' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.cssdmonitor' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.cssdmonitor' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.cssd' on 'lxcora03'</code><br /><code>CRS-2672: Attempting to start 'ora.diskmon' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.diskmon' on 'lxcora03' succeeded</code><br /><code>CRS-2676: Start of 'ora.cssd' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.cluster_interconnect.haip' on 'lxcora03'</code><br /><code>CRS-2672: Attempting to start 'ora.ctssd' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.ctssd' on 'lxcora03' succeeded</code><br /><code>CRS-2676: Start of 'ora.cluster_interconnect.haip' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.asm' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.asm' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.storage' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.storage' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.crf' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.crf' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.crsd' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.crsd' on 'lxcora03' succeeded</code><br /><code>CRS-6017: Processing resource auto-start for servers: lxcora03</code><br /><code>CRS-2673: Attempting to stop 'ora.LISTENER_SCAN1.lsnr' on 'lxcora02'</code><br /><code>CRS-2672: Attempting to start 'ora.net1.network' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.net1.network' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.ons' on 'lxcora03'</code><br /><code>CRS-2677: Stop of 'ora.LISTENER_SCAN1.lsnr' on 'lxcora02' succeeded</code><br /><code>CRS-2673: Attempting to stop 'ora.scan1.vip' on 'lxcora02'</code><br /><code>CRS-2677: Stop of 'ora.scan1.vip' on 'lxcora02' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.scan1.vip' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.ons' on 'lxcora03' succeeded</code><br /><code>CRS-2676: Start of 'ora.scan1.vip' on 'lxcora03' succeeded</code><br /><code>CRS-2672: Attempting to start 'ora.LISTENER_SCAN1.lsnr' on 'lxcora03'</code><br /><code>CRS-2676: Start of 'ora.LISTENER_SCAN1.lsnr' on 'lxcora03' succeeded</code><br /><code>CRS-6016: Resource auto-start has completed for server lxcora03</code><br /><code>CRS-6024: Completed start of Oracle Cluster Ready Services-managed resources</code><br /><code>CRS-4123: Oracle High Availability Services has been started.</code><br /><code>2014/10/25 18:41:14 CLSRSC-343: Successfully started Oracle Clusterware stack</code><br /><br /><code>2014/10/25 18:41:26 CLSRSC-325: Configure Oracle Grid Infrastructure for a Cluster ... succeeded</code><br /><br /><code>[root@lxcora03 ~]# </code></font></div><br /></font></div><div><font size="3">Ok so I'm going to paste in all the screenshots that I have of the GUI grid install hopefully today, but I wanted to upload the shots of the running system (crsctl output) of the 12c 2-node RAC GI running perfectly on Ubuntu 14.04.1 inside of Oracle Enteprise Linux 6.5 conntainers running on the Ubuntu so that I could share this result even while I'm still finishing up the documentation at this blog. I'm stoked! Finally! Oracle RAC on Ubuntu without endless tweaks!! All of the taste, none of the calories!! The background is a webpage at the QNX website.<br /><br /><div style="display:block;text-align:left"><a href="lxc-ovs-rac-gns/ubuntu-lxc-OEL65-2-node-RAC-slide1.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480257223/oracle-rac-in-lxc-linux-containers/lxc-ovs-rac-gns/ubuntu-lxc-OEL65-2-node-RAC-slide1.png" /></a></div><br /></font></div><div><font size="3">And here is the GNS post-install validation step from cluvy.<br /><br /><div style="display:block;text-align:left"><a href="lxc-ovs-rac-gns/ubuntu-lxc-OEL65-2-node-RAC-slide2.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480257223/oracle-rac-in-lxc-linux-containers/lxc-ovs-rac-gns/ubuntu-lxc-OEL65-2-node-RAC-slide2.png" /></a></div></font><h2><a name="TOC-Install-RAC-Database-on-LXC-Containers-GI"></a>Install RAC Database on LXC Containers GI</h2><p><font size="3">Setup ssh user equivalence as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ ssh oracle@lxcora02</code><br /><code>oracle@lxcora02's password: </code><br /><code>Last login: Sun Oct 26 22:17:26 2014 from vmem1.vmem.org</code><br /><code>[oracle@lxcora02 ~]$ cd .ssh</code><br /><code>[oracle@lxcora02 .ssh]$ ls</code><br /><code>[oracle@lxcora02 .ssh]$ cd ..</code><br /><code>[oracle@lxcora02 ~]$ ssh-keygen -t rsa</code><br /><code>Generating public/private rsa key pair.</code><br /><code>Enter file in which to save the key (/home/oracle/.ssh/id_rsa): </code><br /><code>Enter passphrase (empty for no passphrase): </code><br /><code>Enter same passphrase again: </code><br /><code>Your identification has been saved in /home/oracle/.ssh/id_rsa.</code><br /><code>Your public key has been saved in /home/oracle/.ssh/id_rsa.pub.</code><br /><code>The key fingerprint is:</code><br /><code>4a:15:3d:26:86:ce:7a:47:71:0e:3e:0f:b8:42:8c:ec oracle@lxcora02</code><br /><code>The key's randomart image is:</code><br /><code>+--[ RSA 2048]----+</code><br /><code>| ... |</code><br /><code>| . =.= |</code><br /><code>| . o o +.B . |</code><br /><code>| o o +.= . |</code><br /><code>| . . ..oS+ |</code><br /><code>| E o.o.. . |</code><br /><code>| o.. |</code><br /><code>| |</code><br /><code>| |</code><br /><code>+-----------------+</code><br /><code>[oracle@lxcora02 ~]$ cd .ssh</code><br /><code>[oracle@lxcora02 .ssh]$ cat id_rsa.pub &gt; authorized_keys</code><br /><code>[oracle@lxcora02 .ssh]$ scp authorized_keys oracle@lxcora03</code><br /><code>[oracle@lxcora02 .ssh]$ scp authorized_keys oracle@lxcora03:/home/oracle/.</code><br /><code>The authenticity of host 'lxcora03 (10.207.39.88)' can't be established.</code><br /><code>RSA key fingerprint is 4f:62:a6:23:e4:58:2e:e2:1b:a4:1c:39:28:a0:ff:df.</code><br /><code>Are you sure you want to continue connecting (yes/no)? yes</code><br /><code>Warning: Permanently added 'lxcora03,10.207.39.88' (RSA) to the list of known hosts.</code><br /><code>oracle@lxcora03's password: </code><br /><code>authorized_keys 100% 397 0.4KB/s 00:00 </code><br /><code>[oracle@lxcora02 .ssh]$ ssh lxcora03</code><br /><code>oracle@lxcora03's password: </code><br /><code>Last login: Fri Oct 24 23:14:34 2014 from vmem1.vmem.org</code><br /><code>[oracle@lxcora03 ~]$ ssh-keygen -t rsa</code><br /><code>Generating public/private rsa key pair.</code><br /><code>Enter file in which to save the key (/home/oracle/.ssh/id_rsa): </code><br /><code>Enter passphrase (empty for no passphrase): </code><br /><code>Enter same passphrase again: </code><br /><code>Your identification has been saved in /home/oracle/.ssh/id_rsa.</code><br /><code>Your public key has been saved in /home/oracle/.ssh/id_rsa.pub.</code><br /><code>The key fingerprint is:</code><br /><code>3f:47:5f:6a:2a:c0:c2:e2:b2:96:99:a6:62:22:08:4b oracle@lxcora03</code><br /><code>The key's randomart image is:</code><br /><code>+--[ RSA 2048]----+</code><br /><code>| |</code><br /><code>| |</code><br /><code>| |</code><br /><code>| |</code><br /><code>| . .S . .|</code><br /><code>|.E . o o. . . o |</code><br /><code>|+. = . . .o . + |</code><br /><code>|*.B . .o o |</code><br /><code>|*+.o .. |</code><br /><code>+-----------------+</code><br /><code>[oracle@lxcora03 ~]$ mv authorized_keys ./.ssh/.</code><br /><code>[oracle@lxcora03 ~]$ cd .ssh</code><br /><code>[oracle@lxcora03 .ssh]$ cat id_rsa.pub &gt;&gt; authorized_keys </code><br /><code>[oracle@lxcora03 .ssh]$ scp authorized_keys oracle@lxcora02:/home/oracle/.ssh/.</code><br /><code>The authenticity of host 'lxcora02 (10.207.39.87)' can't be established.</code><br /><code>RSA key fingerprint is 4f:62:a6:23:e4:58:2e:e2:1b:a4:1c:39:28:a0:ff:df.</code><br /><code>Are you sure you want to continue connecting (yes/no)? yes</code><br /><code>Warning: Permanently added 'lxcora02,10.207.39.87' (RSA) to the list of known hosts.</code><br /><code>oracle@lxcora02's password: </code><br /><code>authorized_keys 100% 794 0.8KB/s 00:00 </code><br /><code>[oracle@lxcora03 .ssh]$ ssh lxcora02</code><br /><code>Last login: Sun Oct 26 22:22:15 2014 from vmem1.vmem.org</code><br /><code>[oracle@lxcora02 ~]$ ssh lxcora03</code><br /><code>Last login: Sun Oct 26 22:24:22 2014 from lxcora02.vmem.org</code><br /><code>[oracle@lxcora03 ~]$ exit</code><br /><code>logout</code><br /><code>Connection to lxcora03 closed.</code><br /><code>[oracle@lxcora02 ~]$ exit</code><br /><code>logout</code><br /><code>Connection to lxcora02 closed.</code><br /><code>[oracle@lxcora03 .ssh]$ </code></font></div></div><div><p><font size="3">Create and run the test_login.sh script until output is as shown below to establish user equivalency for linux user "oracle" on both lxcora02 and lxcora03 nodes.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>[oracle@lxcora03 .ssh]$ ./test_login.sh </code><br /><code>Sun Oct 26 22:36:09 EDT 2014</code><br /><code>Sun Oct 26 22:36:09 EDT 2014</code><br /><code>Sun Oct 26 22:36:09 EDT 2014</code><br /><code>Sun Oct 26 22:36:09 EDT 2014</code><br /><code>Sun Oct 26 22:36:09 EDT 2014</code><br /><code>Sun Oct 26 22:36:09 EDT 2014</code><br /><code>Sun Oct 26 22:36:09 EDT 2014</code><br /><code>Sun Oct 26 22:36:09 EDT 2014</code><br /><code>[oracle@lxcora03 .ssh]$ ssh oracle@lxcora02</code><br /><code>Last login: Sun Oct 26 22:33:04 2014 from vmem1.vmem.org</code><br /><code>[oracle@lxcora02 ~]$ cd .ssh</code><br /><code>[oracle@lxcora02 .ssh]$ ./test_login.sh </code><br /><code>Sun Oct 26 22:36:24 EDT 2014</code><br /><code>Sun Oct 26 22:36:24 EDT 2014</code><br /><code>Sun Oct 26 22:36:24 EDT 2014</code><br /><code>Sun Oct 26 22:36:24 EDT 2014</code><br /><code>Sun Oct 26 22:36:24 EDT 2014</code><br /><code>Sun Oct 26 22:36:25 EDT 2014</code><br /><code>Sun Oct 26 22:36:25 EDT 2014</code><br /><code>Sun Oct 26 22:36:25 EDT 2014</code><br /><code>[oracle@lxcora02 .ssh]$ cat test_login.sh </code><br /><code>ssh oracle@localhost date</code><br /><code>ssh oracle@127.0.0.1 date</code><br /><code>ssh oracle@lxcora03 date</code><br /><code>ssh oracle@lxcora02 date</code><br /><code>ssh oracle@10.207.39.88 date</code><br /><code>ssh oracle@10.207.39.87 date</code><br /><code>ssh oracle@lxcora02.vmem.org date</code><br /><code>ssh oracle@lxcora03.vmem.org date</code><br /><code>[oracle@lxcora02 .ssh]$ </code></font></font></div><font size="3"><br /><br /></font></div><div><font size="3"><br /><div><div class="site-code-embed-container" data-code="&lt;script&gt;&#xA;  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){&#xA;  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),&#xA;  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)&#xA;  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');&#xA;&#xA;  ga('create', 'UA-54224306-1', 'auto');&#xA;  ga('send', 'pageview');&#xA;&#xA;&lt;/script&gt;" data-scrollable="true" style="display:block;float:left;width:480px;height:320px;"></div></div><br /><br /><br /></font></div><div><font size="3"><br /></font></div><div><font size="3"><br /><br /></font></div><div><font size="3"><br /><br /><br /></font></div></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-subfooter"><div class="sites-subfooter-content"><br /></div></div>
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://accounts.google.com/ServiceLogin?continue=https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/oracle-rac-in-lxc-linux-containers/lxc-ovs-rac-gns&amp;service=jotspot">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com/site">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/c9c36f/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/a/orabuntu-lxc.com/brandydandyoracle/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("2bd", "Navigation", true);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_2bd');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvbsUtc3zC_LBoVbZyRGtWgFMw4Ymf-i3viiAJfdm0tZWEe7PTv_KyHHdiToDA2TYKxVo6786YIjU2sJj1AjSiE-HHavI56b6LOpY1x9DbAO5caSdMUPxbdg8kCWu2cBzaDH-N3m0BVL9HlRI5U-uQs_NUHaA/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([1109635200000, 1128902400000, 1130657000000, 1143333000000, 1143806400000, 1145000000000, 1146380000000, 1152489600000, 1159800000000, 1159500000000, 1162095000000, 1162075000000, 1162105500000]);
    gsites.Xhr.send('https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<script type="text/javascript">
          sites.codeembed.init();
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
