<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { /*

Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/
(function(){function e(g){this.t={};this.tick=function(h,k,f){this.t[h]=[void 0!=f?f:(new Date).getTime(),k];if(void 0==f)try{window.console.timeStamp("CSI/"+h)}catch(m){}};this.getStartTickTime=function(){return this.t.start[0]};this.tick("start",null,g)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var l=0<d?new e(d):new e;window.jstiming={Timer:e,load:l};if(a){var b=a.navigationStart;0<b&&d>=b&&(window.jstiming.srt=d-b)}if(a){var c=window.jstiming.load;0<b&&d>=
b&&(c.tick("_wtsrt",void 0,b),c.tick("wtsrt_","_wtsrt",d),c.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),c&&0<b&&(c.tick("_tbnd",void 0,window.chrome.csi().startE),c.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,c&&0<b&&(c.tick("_tbnd",void 0,window.external.startE),c.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(g){}})(); })()
</script>
<link rel="shortcut icon" href="../_/rsrc/1518480252104/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/c9c36f/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { function d(a){return document.getElementById(a)}window.byId=d;function g(a){return a.replace(/^\s+|\s+$/g,"")}window.trim=g;var h=[],k=0;window.JOT_addListener=function(a,b,c){var f=new String(k++);a={eventName:a,handler:b,compId:c,key:f};h.push(a);return f};window.JOT_removeListenerByKey=function(a){for(var b=0;b<h.length;b++)if(h[b].key==a){h.splice(b,1);break}};window.JOT_removeAllListenersForName=function(a){for(var b=0;b<h.length;b++)h[b].eventName==a&&h.splice(b,1)};
window.JOT_postEvent=function(a,b,c){var f={eventName:a,eventSrc:b||{},payload:c||{}};if(window.JOT_fullyLoaded)for(b=h.length,c=0;c<b&&c<h.length;c++){var e=h[c];e&&e.eventName==a&&(f.listenerCompId=e.compId||"",(e="function"==typeof e.handler?e.handler:window[e.handler])&&e(f))}else window.JOT_delayedEvents.push({eventName:a,eventSrc:b,payload:c})};window.JOT_delayedEvents=[];window.JOT_fullyLoaded=!1;
window.JOT_formatRelativeToNow=function(a,b){a=((new Date).getTime()-a)/6E4;if(1440<=a||0>a)return null;var c=0;60<=a&&(a/=60,c=2);2<=a&&c++;return b?window.JOT_siteRelTimeStrs[c].replace("__duration__",Math.floor(a)):window.JOT_userRelTimeStrs[c].replace("__duration__",Math.floor(a))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/a/orabuntu-lxc.com/brandydandyoracle/scst","deleted":false,"title":"SCST","dir":"ltr"},{"path":"/a/orabuntu-lxc.com/brandydandyoracle/scst/kvm-scst-uek-3-8","deleted":false,"title":"SCST KVM UEK 3.8","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/c9c36f/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"gvizGstaticVersion":"current","enableAnalytics":true,"pageSharingId":"jotspot_page","codeembeds":{"outerIframeSrc":"https://www.gstatic.com/jotspot/embeds/code/0f08d42392f2000e7e3f3daf5b427a43/outer_iframe.html","innerIframeSrc":"https://1085110781-jotspot-embeds.googleusercontent.com/code/8d87fa64604b2a11fae2ed06104c58d3/inner_iframe.html"},"enableUniversalAnalytics":false,"sharingPolicy":"OPENED","siteTitle":"brandydandyoracle","experiments":{"enableSubpagesGadgetInTakeout":true,"overrideDisableDomainEditing":false,"DisableSiteEditingFeature__disable_site_editing":true,"disableDomainEditing":false},"jot2atari":{"eligibility":"INELIGIBLE"},"onepickUrl":"https://docs.google.com/picker","adsensePublisherId":null,"features":{"moreMobileStyleImprovements":null,"subscriptionDataMigrationInProgress":null,"plusBadge":false},"configProperties":{"disableSiteEditing":null},"isPublic":true,"newSitesBaseUrl":"https://sites.google.com","isConsumer":false,"serverFlags":{"jot2AtariLearnMoreUrl":"https://support.google.com/sites/answer/7035197"},"domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://accounts.google.com/AccountChooser?continue\u003dhttps://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/scst/kvm-scst-uek-3-8\u0026service\u003djotspot","analyticsAccountId":"UA-54224306-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/c9c36f/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/c9c36f/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/trogedit.css","/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1628148289000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/codeeditor.css","/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1628148289000/system/app/css/camelot/editor-jfk.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"orabuntu-lxc.com","baseUri":"/a/orabuntu-lxc.com/brandydandyoracle","name":"brandydandyoracle","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/scst","parentWuid":"wuid:gx:42a5103bbab0903f","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"SCST KVM UEK 3.8","locale":"en","wuid":"wuid:gx:727a09d4af2e0cb6","revision":1,"path":"/scst/kvm-scst-uek-3-8","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"kvm-scst-uek-3-8","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/scst/kvm-scst-oel-6-5","title":"SCST KVM OEL 6.5"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false,"isGoogleAdmin":false},"gadgets":{"baseUri":"/a/orabuntu-lxc.com/brandydandyoracle/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="SCST KVM UEK 3.8 - brandydandyoracle" />
<meta itemprop="name" content="SCST KVM UEK 3.8 - brandydandyoracle" />
<meta property="og:title" content="SCST KVM UEK 3.8 - brandydandyoracle" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/c9c36f/system/app/themes/solitudeolive/standard-css-solitudeolive-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1628148289000/system/app/css/overlay.css%3Fcb=solitudeolive93320goog-ws-leftcontentthemedefaultstandard.css" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1628148289000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/a/orabuntu%2dlxc.com/brandydandyoracle/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>SCST KVM UEK 3.8 - brandydandyoracle</title>
<meta itemprop="image" content="https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1518480260424/scst/kvm-scst-uek-3-8/make-menu-00.png" />
<meta property="og:image" content="https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1518480260424/scst/kvm-scst-uek-3-8/make-menu-00.png" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner" style="height: 93px"><div class="sites-header-cell-buffer-wrapper"><h2><a href="../index.html" dir="ltr" id="sites-chrome-userheader-title">brandydandyoracle</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
<div class="sites-header-nav"><ul class="sites-header-nav-container-boxes"><li class="unselected"><a class="sites-navigation-link unselected" href="../system/app/pages/sitemap/hierarchy.html">Sitemap</a></li></ul><div style="clear: both;"></div></div>
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:320px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_2bd" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList" class="has-expander"><li class="topLevel nav-first parent " wuid="gx:1771d7481512b604"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../home.html" jotId="wuid:gx:1771d7481512b604" class="sites-navigation-link topLevel">Home</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../home/brother-mfc-456cn-ubuntu-driver.html" jotId="wuid:gx:687d1f16adfece4e" class="sites-navigation-link">Brother MFC-456CN Ubuntu Driver</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../home/resume-short.html" jotId="wuid:gx:7ed50173758f1f8d" class="sites-navigation-link">Resume-Short</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../aws.html" jotId="wuid:gx:513e26955ed0bab9" class="sites-navigation-link topLevel">AWS</a></div></li><li class="topLevel parent " wuid="gx:2d7d78782d5199fb"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../blackberry-workspaces.html" jotId="wuid:gx:2d7d78782d5199fb" class="sites-navigation-link topLevel">Blackberry Workspaces</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../blackberry-workspaces/blackberry-workspaces-in-lxc-linux-containers.html" jotId="wuid:gx:3cc6d6487c8feafe" class="sites-navigation-link">Blackberry Workspaces in LXC Linux Containers</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../blackberry-workspaces/blackberry-workspaces-on-aws-ec2.html" jotId="wuid:gx:11790a2b5038525c" class="sites-navigation-link">Blackberry Workspaces on AWS EC2</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html" jotId="wuid:gx:1529117a57ecdba8" class="sites-navigation-link topLevel">Blackberry Workspaces in LXC Linux Containers on AWS EC2</a></div></li><li class="topLevel parent " wuid="gx:515464018f6bd717"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../centos7.html" jotId="wuid:gx:515464018f6bd717" class="sites-navigation-link topLevel">CentOS7</a></div><ul role="navigation" class="has-expander"><li class="parent closed " wuid="gx:46a7d96b1e768956"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../centos7/centos7-desktop.html" jotId="wuid:gx:46a7d96b1e768956" class="sites-navigation-link">CentOS7 Desktop</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-desktop/cisco-anyconnect-vpn-centos-7.html" jotId="wuid:gx:50d39b77de17a94c" class="sites-navigation-link">Cisco AnyConnect VPN CentOS 7 GNOME Desktop</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-desktop/cisco-anyconnect-vpn-centos-7-server-gui-with-kde.html" jotId="wuid:gx:77bba3a647193c" class="sites-navigation-link">Cisco AnyConnect VPN CentOS 7 Server GUI with KDE</a></div></li></ul></li><li class="parent closed " wuid="gx:73046cf3c3d2eaf2"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../centos7/centos7-general.html" jotId="wuid:gx:73046cf3c3d2eaf2" class="sites-navigation-link">CentOS7 General</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/dns-named-install-centos7-1.html" jotId="wuid:gx:3ac64e4220d3882e" class="sites-navigation-link">DNS DHCP Install CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/lxc-create-centos-7-2-container.html" jotId="wuid:gx:317f96357032310b" class="sites-navigation-link">LXC Create CentOS 7.2 Container</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/lxc-source-build-centos7.html" jotId="wuid:gx:5affb1858ab31aa9" class="sites-navigation-link">LXC Source Build CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/openvswitch-source-build-centos7.html" jotId="wuid:gx:156568a493298e2c" class="sites-navigation-link">OVS  (OpenvSwitch) Source Build CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/scst-centos-7-2-1511-core.html" jotId="wuid:gx:212b0b144e1fcb8c" class="sites-navigation-link">SCST Source Build CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/xfs-lvm-grow-centos7.html" jotId="wuid:gx:5e00471ebcc94e3e" class="sites-navigation-link">XFS LVM Grow CentOS7</a></div></li></ul></li></ul></li><li class="topLevel parent " wuid="gx:4184304c507d6cf0"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../kvm-and-openvswitch.html" jotId="wuid:gx:4184304c507d6cf0" class="sites-navigation-link topLevel">KVM and OpenvSwitch</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/add-pv-kvm-guest-vg.html" jotId="wuid:gx:f4ec37bc44defc6" class="sites-navigation-link">KVM Add PV Guest VG</a></div></li><li class="parent closed " wuid="gx:140bef1e880d2c0c"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../kvm-and-openvswitch/kvm-dg-migration.html" jotId="wuid:gx:140bef1e880d2c0c" class="sites-navigation-link">KVM DG Migration</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../kvm-and-openvswitch/kvm-dg-migration/rman-script.html" jotId="wuid:gx:67093dbbc93cdadc" class="sites-navigation-link">RMAN Script</a></div></li></ul></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-dns-oel-6-5.html" jotId="wuid:gx:5f50087695eef84b" class="sites-navigation-link">KVM DNS OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-dns-ul-14-04.html" jotId="wuid:gx:42ab043f5ac96f0f" class="sites-navigation-link">KVM DNS UL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-lxc-dns-ul-14-04.html" jotId="wuid:gx:2cd19b29fe55d875" class="sites-navigation-link">KVM LXC DNS UL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-mail-oel-6-5.html" jotId="wuid:gx:76072d3822550956" class="sites-navigation-link">KVM MAIL OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-oracle-clone.html" jotId="wuid:gx:152a84896b4db53b" class="sites-navigation-link">KVM Oracle Clone</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/ovs-kvm-oel-6-5.html" jotId="wuid:gx:371cf26362b6010e" class="sites-navigation-link">KVM OVS OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-ovs-oel-6-5.html" jotId="wuid:gx:75ead37952686999" class="sites-navigation-link">KVM OVS OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-openvswitch-1.html" jotId="wuid:gx:5c2152473fdc6ccc" class="sites-navigation-link">KVM OVS UEL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/resize-swap-lv.html" jotId="wuid:gx:399989aadef41fc3" class="sites-navigation-link">KVM Resize Swap LV</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/remove-kvm-disk.html" jotId="wuid:gx:707b288cc8f2b5a6" class="sites-navigation-link">Remove KVM Disk</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/remove-kvm-vbdp-disk.html" jotId="wuid:gx:33b6b83da936ce09" class="sites-navigation-link">Remove KVM VBDP Disk</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/resize-kvm-disk.html" jotId="wuid:gx:623a431aae174a92" class="sites-navigation-link">Resize KVM Disk</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/solaris-10-kvm-ovs-12c-gi-rac.html" jotId="wuid:gx:422583d75ebc70db" class="sites-navigation-link">Solaris 10 KVM OVS 12c GI RAC</a></div></li></ul></li><li class="topLevel parent " wuid="gx:4327ced0f58d8a86"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lenovo-thinkpad-p70.html" jotId="wuid:gx:4327ced0f58d8a86" class="sites-navigation-link topLevel">Lenovo ThinkPad P70</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/a-brief-guide-to-running-multiple-os-on-lenovo-thinkpad-p70-mobile-workstation.html" jotId="wuid:gx:48694287bced9d0a" class="sites-navigation-link">A Brief Guide to Running Multiple OS  on Lenovo ThinkPad P70 Mobile Workstation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/booting-to-graphical-ui-oracle-uek4-kernel-on-lenovo-p70-thinkpad.html" jotId="wuid:gx:30d8c05433ca020b" class="sites-navigation-link">Booting to Graphical UI Desktop Oracle UEK4 Kernel on Lenovo P70 Thinkpad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configure-wired-network-uek3-lenovo-p70-thinkpad.html" jotId="wuid:gx:77458fd960e08fe6" class="sites-navigation-link">Configure Wired Network UEK3 Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configure-wireless-network-uek3-lenovo-p70-thinkpad.html" jotId="wuid:gx:784425a052a48fc4" class="sites-navigation-link">Configure Wireless Network UEK3 Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configuring-external-monitors-on-oracle-linux-uek4-kernel-on-lenovo-p70-thinkpad.html" jotId="wuid:gx:6d22a62e4b021a82" class="sites-navigation-link">Configuring External Monitors on Oracle Linux UEK4 Kernel on Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configuring-wifi-on-oracle-linux-uek4-kernel.html" jotId="wuid:gx:2491259c2c6fb6e7" class="sites-navigation-link">Configuring WIFI on Oracle Linux UEK4 Kernel on Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/advantages-of-running-multiple-linux-distros-on-lenovo-p70-thinkpad-mobile-workstation.html" jotId="wuid:gx:3e26fa7db9c8ec5d" class="sites-navigation-link">Fixing BooBoos with Multiple Linux Distros on Lenovo P70 ThinkPad Mobile Workstation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/flash-installation-oracle-linux-uek4-lenovo-p70-mobile-workstation.html" jotId="wuid:gx:206da7bba5eb893d" class="sites-navigation-link">Flash Installation Oracle Linux UEK4 Lenovo P70 Mobile Workstation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/lenovo-thinkpad-p70-bios-flash-upgrade.html" jotId="wuid:gx:13c9853fd6822c1e" class="sites-navigation-link">Lenovo ThinkPad P70 BIOS Flash Upgrade</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/samsung-256-gb-m-2-950-pro-nvme.html" jotId="wuid:gx:4cf81fe1594a405c" class="sites-navigation-link">Samsung 256 Gb M.2 950 Pro NVME</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/samsung-evo-950-pro-256gb-m-2-ssd-vs-pm951-512gb-m-2-ssd.html" jotId="wuid:gx:5ea2a361cb8c66c8" class="sites-navigation-link">Samsung [(evo950 nvme) vs (pm951 nvme)] vs. Toshiba [OCZ RD400 1Tb nvme] M.2</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/ubuntu-17-10-artful-aardvark-lenovo-p70-mobile-workstation.html" jotId="wuid:gx:6fcad2f1dc0cfefc" class="sites-navigation-link">Ubuntu 17.10 Artful Aardvark Lenovo P70 Mobile Workstation</a></div></li></ul></li><li class="topLevel parent " wuid="gx:2a65617e5bca4df7"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lenovo-p72.html" jotId="wuid:gx:2a65617e5bca4df7" class="sites-navigation-link topLevel">Lenovo ThinkPad P72</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-p72/lenovo-part-40an0230us-thinkpad-thunderbolt-3-workstation-dock.html" jotId="wuid:gx:3b289d1da9ec8d8" class="sites-navigation-link">Lenovo Part #40AN0230US ThinkPad Thunderbolt 3 Workstation Dock</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-p72/lenovo-part-gx90m61235-thinkpad-usb-c-travel-hub.html" jotId="wuid:gx:62e9dde894d17ff7" class="sites-navigation-link">Lenovo Part #GX90M61235 ThinkPad USB-C Travel Hub</a></div></li></ul></li><li class="topLevel parent " wuid="gx:3c0bb513eca76dd7"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lxc-linux-containers.html" jotId="wuid:gx:3c0bb513eca76dd7" class="sites-navigation-link topLevel">LXC Linux Containers</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/install-oracle-supported-lxc-version-on-oracle-linux-uek4.html" jotId="wuid:gx:2803b780a785d633" class="sites-navigation-link">Install Oracle-Supported LXC Version on Oracle Linux 7 UEK4</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-3-0-1-oracle-8-source-build.html" jotId="wuid:gx:6d97bc40356b5b00" class="sites-navigation-link">LXC 3.0.1 Oracle 8 Source Build</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-environment-oel6.html" jotId="wuid:gx:498ae875c3ff8712" class="sites-navigation-link">LXC Environment OEL6</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-in-windows-10-bash-shell.html" jotId="wuid:gx:6b5a1e6d23bf1535" class="sites-navigation-link">LXC in Windows 10 Bash Shell</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-iproute2.html" jotId="wuid:gx:4770b5dee1c84e5d" class="sites-navigation-link">LXC iproute2</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-oracle-rdbms.html" jotId="wuid:gx:66170fca9aaf9bdb" class="sites-navigation-link">LXC Oracle RDBMS</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-ovs-bind-dns.html" jotId="wuid:gx:5ba336cc440e699a" class="sites-navigation-link">LXC OVS BIND DNS</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-vlc-oel6-5.html" jotId="wuid:gx:4e0871c894b402f5" class="sites-navigation-link">LXC VLC OEL6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/nvme-in-lxc.html" jotId="wuid:gx:344f13d75997f6ef" class="sites-navigation-link">NVME in LXC</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/source-build-lxc-ubuntu-16-04.html" jotId="wuid:gx:3668e93ca6fd3ec7" class="sites-navigation-link">Source Build LXC Ubuntu 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/veth-pair-cleanup-lxc.html" jotId="wuid:gx:eb4a3c8e75f750" class="sites-navigation-link">Veth Pair Cleanup LXC</a></div></li></ul></li><li class="topLevel parent " wuid="gx:904bf1e1a964cfa"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-in-lxd-1.html" jotId="wuid:gx:904bf1e1a964cfa" class="sites-navigation-link topLevel">LXD the Lighter-visor</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-in-lxd-1/building-oracle-enteprise-in-lxd.html" jotId="wuid:gx:3385e4f2498c1f97" class="sites-navigation-link">Building Oracle Enteprise in LXD</a></div></li></ul></li><li class="topLevel parent " wuid="gx:141aad64735ed8a7"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../openvswitch-ovs.html" jotId="wuid:gx:141aad64735ed8a7" class="sites-navigation-link topLevel">OpenvSwitch (OVS)</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/build-networkmanager-1-11-1-on-ubuntu-17-10.html" jotId="wuid:gx:4cd3336e7866b65e" class="sites-navigation-link">Build NetworkManager 1.11.1 on Ubuntu 17.10</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/configuring-virtualbox-vms-for-openvswitch-networking.html" jotId="wuid:gx:102f61a047f4fe27" class="sites-navigation-link">Configuring VirtualBox VMs for OpenvSwitch Networking</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/install-openvswitch-oel-uek3.html" jotId="wuid:gx:2603341f63b9d97a" class="sites-navigation-link">Install OpenvSwitch OEL UEK3</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/networking-problem-1.html" jotId="wuid:gx:65a0bbff837cdb64" class="sites-navigation-link">Networking Problem:  "The Lawnmower Man"</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/openvswitch-patch-ports.html" jotId="wuid:gx:9eac33f7488f9a0" class="sites-navigation-link">OpenvSwitch Patch Ports</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/build-openvswitch-from-source-on-oracle-linux-uek.html" jotId="wuid:gx:5d8addb931f09666" class="sites-navigation-link">OVS Source Build Oracle Linux 6 UEK3 Kernel</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/openvswitch-source-build-oracle-linux-7-uek4.html" jotId="wuid:gx:9f9da13c419a4e6" class="sites-navigation-link">OVS Source Build Oracle Linux 7 UEK4 Kernel</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/ovs-source-build-ubuntu-linux-16-04.html" jotId="wuid:gx:cc6b77eb34b437c" class="sites-navigation-link">OVS Source Build Ubuntu Linux 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/ovs-switch-as-a-service.html" jotId="wuid:gx:657c023b7927b1fa" class="sites-navigation-link">OVS Switch-As-A-Service Oracle Linux 7 UEK4</a></div></li></ul></li><li class="topLevel parent " wuid="gx:2a47e1cfadbf417d"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../orabuntu-lxc.html" jotId="wuid:gx:2a47e1cfadbf417d" class="sites-navigation-link topLevel">Orabuntu-LXC</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../orabuntu-lxc/using-systemd-resolved-in-a-networkmanager-environment.html" jotId="wuid:gx:87f2aaaf2ecb31b" class="sites-navigation-link">Configuring systemd-resolved in a NetworkManager Environment</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../orabuntu-lxc/lxc-containerized-dns-dhcp-configurations.html" jotId="wuid:gx:3d12f3317c481ea" class="sites-navigation-link">LXC Containerized DNS-DHCP Configurations (Ubuntu dnsmasq bind9)</a></div></li></ul></li><li class="topLevel parent " wuid="gx:56211f056f6b1e69"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-asmlib.html" jotId="wuid:gx:56211f056f6b1e69" class="sites-navigation-link topLevel">Oracle ASM and ASMLib</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-asmlib/build-asmlib-from-source.html" jotId="wuid:gx:37a420222f203d29" class="sites-navigation-link">ASMLib Source Build RHEL5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-asmlib/build-asmlib-from-source-on-rhel6.html" jotId="wuid:gx:258e6072b6403dc3" class="sites-navigation-link">ASMLib Source Build RHEL6</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-asmlib/rename-asm-sysdg.html" jotId="wuid:gx:44112e6c154428fe" class="sites-navigation-link">Rename ASM SYSDG</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../oracle-in-lxd.html" jotId="wuid:gx:1e2c0c88ac7cfde3" class="sites-navigation-link topLevel">Oracle in LXD</a></div></li><li class="topLevel parent " wuid="gx:7024699ef06b6856"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-linux-uek-kernel.html" jotId="wuid:gx:7024699ef06b6856" class="sites-navigation-link topLevel">Oracle Linux UEK Kernel</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-linux-uek-kernel/configuring-ipmi-console-redirection.html" jotId="wuid:gx:323acc64d4abf9a4" class="sites-navigation-link">Configuring IPMI Console Redirection</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-linux-uek-kernel/getting-kernel-headers-for-oracle-linux-uek-kernels.html" jotId="wuid:gx:264700ca67aa6f51" class="sites-navigation-link">Getting Kernel Headers Oracle Linux 7 UEK</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-linux-uek-kernel/lxc-source-build-oracle-linux-uek4.html" jotId="wuid:gx:65f6caada28e4879" class="sites-navigation-link">LXC Source Build Oracle Linux 7 UEK4</a></div></li></ul></li><li class="topLevel parent " wuid="gx:392e9c328d805127"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-rac.html" jotId="wuid:gx:392e9c328d805127" class="sites-navigation-link topLevel">Oracle RAC</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac/re-ip-rac.html" jotId="wuid:gx:60fa56c8049956b9" class="sites-navigation-link">Re-IP RAC</a></div></li></ul></li><li class="topLevel parent " wuid="gx:49aa6ea0c073802a"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-rac-in-lxc-linux-containers.html" jotId="wuid:gx:49aa6ea0c073802a" class="sites-navigation-link topLevel">Oracle RAC in LXC Linux Containers</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/12c-asm-flex-cluster-on-violin-memory-array.html" jotId="wuid:gx:2d93d5e8d118918d" class="sites-navigation-link">12c ASM Flex Cluster on Violin Memory Array</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-12c-6-node-asm-gns-flex-rac-on-lxc-linux-containers-ubuntu-15-04.html" jotId="wuid:gx:31b7a6e9df077adf" class="sites-navigation-link">Oracle 12c 6-node ASM GNS Flex RAC on LXC Linux Containers Ubuntu 15.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-12c-rac-asm-flex-cluster-on-ubuntu-14-10.html" jotId="wuid:gx:6d52027c26f6bd96" class="sites-navigation-link">Oracle 12c RAC ASM Flex Cluster on LXC Linux Containers Ubuntu 14.10</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-12c-rac-asm-flex-cluster-on-lxc-linux-containers-ubuntu-14-10.html" jotId="wuid:gx:7cf2aebcf0bd8b4a" class="sites-navigation-link">Oracle 12c RAC ASM Flex Cluster on LXC Linux Containers Ubuntu 14.10</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-12c-rac-asm-flex-cluster-on-lxc-linux-containers-ubuntu-15-04.html" jotId="wuid:gx:e7aeed695cf1a4a" class="sites-navigation-link">Oracle 12c RAC ASM Flex Cluster on LXC Linux Containers Ubuntu 15.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-12c-rac-in-gce-on-ubuntu-14-04-1.html" jotId="wuid:gx:ed0be0d284c02f0" class="sites-navigation-link">Oracle 12c RAC in GCE on Ubuntu 14.04.1</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-lxc-vlc.html" jotId="wuid:gx:3ecee06d4a4b2ffe" class="sites-navigation-link">Oracle EE ASM 12c LXC Ubuntu 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/docker-11gr2-ee-ul.html" jotId="wuid:gx:2863b8f1b8a0ae5d" class="sites-navigation-link">Oracle EE DB 11gR2 Docker Ubuntu 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-rac-6-node-12c-gns-asm-flex-cluster-ubuntu-15-04-automated.html" jotId="wuid:gx:1360b78ff726d213" class="sites-navigation-link">Oracle RAC 6-node 12c GNS ASM Flex Cluster Ubuntu 15.04 Automated</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-rac-6-node-12c-gns-asm-flex-cluster-ubuntu-15-04-install.html" jotId="wuid:gx:d6f61d65bebb324" class="sites-navigation-link">Oracle RAC 6-node 12c GNS ASM Flex Cluster Ubuntu 15.04 Install</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html" jotId="wuid:gx:55d12384bf11a4ac" class="sites-navigation-link">Ubuntu 14.04.1 Oracle GI 12c ASM Flex Cluster on LXC Containers</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/lxc-ovs-rac-gns.html" jotId="wuid:gx:3a38a5c143561a9b" class="sites-navigation-link">Ubuntu LXC OEL OVS ASM GNS RAC (12c)</a></div></li></ul></li><li class="topLevel parent " wuid="gx:b42a27877981be1"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-rman.html" jotId="wuid:gx:b42a27877981be1" class="sites-navigation-link topLevel">Oracle RMAN</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rman/rman-active-duplicate-script.html" jotId="wuid:gx:51524327d66ae40f" class="sites-navigation-link">RMAN Active Duplicate Script</a></div></li></ul></li><li class="topLevel parent " wuid="gx:89ec64364eab694"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../engineering-docs.html" jotId="wuid:gx:89ec64364eab694" class="sites-navigation-link topLevel">Projects</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../engineering-docs/11gr2---12cr2-dataguard-upgrade-in-ol-lxc-on-ubuntu-17-04.html" jotId="wuid:gx:1da20af09381ca55" class="sites-navigation-link">11gR2 -&gt; 12cR2 Dataguard Upgrade in OL LXC on Ubuntu 17.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../engineering-docs/vmos6-oracle-snapshots.html" jotId="wuid:gx:1ea7e4c3c5ca52d" class="sites-navigation-link">VMOS6 Oracle Snapshots</a></div></li></ul></li><li class="topLevel parent " wuid="gx:204d0c728c285380"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../robin-systems.html" jotId="wuid:gx:204d0c728c285380" class="sites-navigation-link topLevel">Robin Systems</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/configuring-hugepages-for-oracle.html" jotId="wuid:gx:52999571538d8ca7" class="sites-navigation-link">Configuring HugePages for Oracle on CentOS 7 Robin Hosts</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-12c-rac-asm-flex-cluster.html" jotId="wuid:gx:4460573d54662758" class="sites-navigation-link">Robin 12c RAC ASM Flex Cluster</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-server-install-centos-7-vm.html" jotId="wuid:gx:573c9ade4fca5871" class="sites-navigation-link">Robin Server Install CentOS 7 VM</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-slob2-pdb-protocols.html" jotId="wuid:gx:4f404578ed53bc1" class="sites-navigation-link">Robin SLOB2 PDB Protocols</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-slob2-testing-notes.html" jotId="wuid:gx:653c530a0894e054" class="sites-navigation-link">Robin SLOB2 Testing Notes</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-virtualbox-ovs.html" jotId="wuid:gx:3ede1bee391dc4db" class="sites-navigation-link">Robin VirtualBox OVS</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/the-surfing-life.html" jotId="wuid:gx:1f2b8b97c48d346a" class="sites-navigation-link">The Surfing Life</a></div></li></ul></li><li class="topLevel parent " wuid="gx:42a5103bbab0903f"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../scst.html" jotId="wuid:gx:42a5103bbab0903f" class="sites-navigation-link topLevel">SCST</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="reset-lun-read-only-attributes.html" jotId="wuid:gx:19d5a823bab350d4" class="sites-navigation-link">Reset LUN Read-Only Attributes</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst-create-deb-package-and-install-fpm.html" jotId="wuid:gx:2f9a5abb765dc8ab" class="sites-navigation-link">SCST Create Deb Package and Install</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst-debian-dkms-package-build-from-source-ubuntu-17-04.html" jotId="wuid:gx:263b273ada4b1198" class="sites-navigation-link">SCST Debian (DKMS) Package Build from Source (Ubuntu  15.04-17.04+)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst-debian-dkms-package-build-from-source-ubuntu-14-04.html" jotId="wuid:gx:37519387aa0d7b34" class="sites-navigation-link">SCST Debian (DKMS) Package Build from Source (Ubuntu 14.04)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst-debian-package-build-from-source-ubuntu-15-04-17-04.html" jotId="wuid:gx:376a668b36e2458e" class="sites-navigation-link">SCST Debian Package Build from Source (Ubuntu 15.04-17.04+)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst-debian-package-build-from-source-ubuntu-17-04.html" jotId="wuid:gx:23e3728da5d7b341" class="sites-navigation-link">SCST Debian Package Build from Source (Ubuntu 17.04)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-scst-oel-6-5.html" jotId="wuid:gx:35aca0b4a22810be" class="sites-navigation-link">SCST KVM OEL 6.5</a></div></li><li class=""><div class="current-bg" jotId="wuid:gx:727a09d4af2e0cb6" dir="ltr" style="padding-left: 38px;">SCST KVM UEK 3.8</div></li><li class="parent closed " wuid="gx:22f557a9fc2e1e25"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="scst-linux-san.html" jotId="wuid:gx:22f557a9fc2e1e25" class="sites-navigation-link">SCST Linux SAN</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="scst-linux-san/add-asm-dg.html" jotId="wuid:gx:2bc6ef8def1e36c9" class="sites-navigation-link">Add ASM DG</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="scst-linux-san/add-asm-dg-4k.html" jotId="wuid:gx:242dab2dbfad9ac5" class="sites-navigation-link">Add ASM DG (4K)</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="scst-linux-san/add-asm-lun.html" jotId="wuid:gx:2fedfac6897719" class="sites-navigation-link">Add ASM LUN</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="scst-linux-san/add-lun.html" jotId="wuid:gx:4b7b14970b8123cc" class="sites-navigation-link">Add LUN</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="scst-linux-san/resize-asm-lun.html" jotId="wuid:gx:546bc643a9b955fd" class="sites-navigation-link">Resize ASM LUN</a></div></li></ul></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lxc-scst-ul-14-04.html" jotId="wuid:gx:56ede6a9ffa466a3" class="sites-navigation-link">SCST LXC UL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst-ol-uek-3.html" jotId="wuid:gx:775819e6573c1127" class="sites-navigation-link">SCST OL UEK 3</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst-package-build-and-install-ubuntu-17-04---14-04.html" jotId="wuid:gx:94e286580e7f53a" class="sites-navigation-link">SCST Package Build Install (Ubuntu 14.x-17.x)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="build-scst-from-source-on-oracle-linux-uek.html" jotId="wuid:gx:11bdab641c7da34" class="sites-navigation-link">SCST Source Build Oracle UEK</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst-ubuntu-15-04.html" jotId="wuid:gx:7ac9dfabcffec63d" class="sites-navigation-link">SCST Ubuntu 15.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst-ubuntu-16-04.html" jotId="wuid:gx:3dd6f13e96e8fcdf" class="sites-navigation-link">SCST Ubuntu 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="update-gpg-key-email-address-for-signing-debian-packages.html" jotId="wuid:gx:69975edf103e1292" class="sites-navigation-link">Update GPG1 Key Email Address, Add UID, Secret Key</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../the-surfing-life.html" jotId="wuid:gx:6260f278e385cf3d" class="sites-navigation-link topLevel">The Surfing Life</a></div></li><li class="topLevel parent " wuid="gx:3feac623e97563f8"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../tools.html" jotId="wuid:gx:3feac623e97563f8" class="sites-navigation-link topLevel">Tools</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/awr-analyzer-v3-02.html" jotId="wuid:gx:77df010a1161688f" class="sites-navigation-link">AWR Analyzer v3.02</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/cisco-anyconnect-vpn-centos-7.html" jotId="wuid:gx:1d46650a5d12d8f8" class="sites-navigation-link">Cisco AnyConnect VPN CentOS 7</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/dtrace-linux.html" jotId="wuid:gx:8cdf7bdd75524d8" class="sites-navigation-link">DTrace Linux</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/iotop.html" jotId="wuid:gx:638d81a1909fcba9" class="sites-navigation-link">iotop</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/iscsiadm.html" jotId="wuid:gx:5d490b3b5ae2b18b" class="sites-navigation-link">iscsiadm</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/lynx-html-cli.html" jotId="wuid:gx:3c44570e4d9e5dbe" class="sites-navigation-link">lynx HTML CLI</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/nsupdate.html" jotId="wuid:gx:3dd2f364ba8d97c3" class="sites-navigation-link">nsupdate</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/orion.html" jotId="wuid:gx:5e1bc1ac2b426298" class="sites-navigation-link">Orion</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/perf_stat.html" jotId="wuid:gx:17c3dad58ddee2ec" class="sites-navigation-link">perf_stat</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/qemu-monitor-command.html" jotId="wuid:gx:332a02f511ef9aa0" class="sites-navigation-link">QEMU Monitor Command</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/sflow.html" jotId="wuid:gx:51f13dca17c0f452" class="sites-navigation-link">sflow</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/slob.html" jotId="wuid:gx:6fb549ba8af63cc8" class="sites-navigation-link">SLOB2</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/slob2-12c-rac-pdb-version.html" jotId="wuid:gx:7370bb97c3458d1c" class="sites-navigation-link">SLOB2 (12c RAC PDB Version)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/tunnels.html" jotId="wuid:gx:67c0050b2d97d566" class="sites-navigation-link">Tunnels</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/vdbench.html" jotId="wuid:gx:5a058833aa18c315" class="sites-navigation-link">VDBench</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/virt-alignment-scan.html" jotId="wuid:gx:7ef6511f7ec6d8fc" class="sites-navigation-link">virt-alignment-scan</a></div></li></ul></li><li class="topLevel parent " wuid="gx:a688388e2cf1712"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../ubuntu-16-04.html" jotId="wuid:gx:a688388e2cf1712" class="sites-navigation-link topLevel">Ubuntu 16.04</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../ubuntu-16-04/canonical-ubuntu-16-04-livepatch-service.html" jotId="wuid:gx:36531436c1ed4a17" class="sites-navigation-link">Canonical Ubuntu 16.04 Livepatch Service</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../ubuntu-16-04/cisco-anyconnect-vpn-ubunty-16-04.html" jotId="wuid:gx:1f1f8e214e889787" class="sites-navigation-link">Cisco AnyConnect VPN Ubuntu 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../ubuntu-16-04/systemd-to-manage-network-interfaces.html" jotId="wuid:gx:182e7ebf6d20564f" class="sites-navigation-link">Systemd to Manage Network Interfaces</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../zero-downtime-asm-lun-add.html" jotId="wuid:gx:6d5fc0b6a3941475" class="sites-navigation-link topLevel">Zero-Downtime ASM LUN Add</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:5b81d66bdd7a72b7" class="sites-navigation-link topLevel">Sitemap</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_35309087585577514" class="sites-sidebar-plusone-wrapper"><div class="g-plusone" data-count="true" data-size="standard" data-source="google:sites"></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../scst.html" dir="ltr">SCST</A>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">SCST KVM UEK 3.8</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div><div><div><div><font size="3">This guide explains how to build SCST SAN on an Oracle Enterprise Linux 6.5 KVM guest VM based on the excellent instructions <a href="http://www.spiderbird.com/tag/scst/" target="_blank" rel="nofollow">here at spiderbird.</a>  That guide also has a wealth of reference URLs that can be accessed as well. <br /><br />This is the revised version that uses the Oracle Enterprise Linux UEK version 3 kernel for the build.  This was motivated for consistency (so that OEL 6.5 is running it's own proprietary kernel, and not a CentOS kernel) and so that DTrace tool which Oracle has ported over to it's UEK kernel could be utilized (although issues were encountered on the DTrace part).  The first build utilizing the CentOS kernel was done due to time constraints and the kernel source for Oracle UEK kernel version 3 was not handy already downloaded at that time, and since it has to be downloaded as part of the DVD from edelivery.oracle.com a POC was done quickly using CentOS 6 kernel.  Now in the present blog that is remedied so that the SCST SAN is a 100% OEL UEK kernel custom-modified for SCST iSCSI Linux SAN.<br /><br />I intend to use this KVM guest SCST SAN to present 4K logcial/4K physical virtual LUNs to Oracle running in other KVM guests, including Oracle Real Application Clusters running in KVM guests.  Because TGT cannot handle LUNs which are 4K logical / 4K physical it was necessary to get up to speed on SCST which can.  This <a href="http://scst.sourceforge.net/comparison.html" target="_blank" rel="nofollow">sourceforge SAN feature comparison</a> sheet shows the full power of SCST compared to other linux SAN options.<br /><br /></font></div><div><font size="3">Ensure the virtual ethernet interface, typically "eth0" in the OEL 6.5 KVM guest is set to "connect automatically".  If not, configure it as shown in the screenshots below.  This can be configured from the server desktop, if using OEL 6.5 with a desktop, or simply edited in the ifcfg-eth0 file as shown below.  As shown in bold below, be sure that "ONBOOT=yes" has been set in the ifcfg-ethX file where in this case my interface is ifcfg-eth0.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 network-scripts]# cat ifcfg-eth0</code><br /><code>DEVICE=eth0</code><br /><code>TYPE=Ethernet</code><br /><code>UUID=824a1d97-1dc7-410b-89a5-49b353be826a</code><br /><b><code>ONBOOT=yes</code></b><br /><code>NM_CONTROLLED=yes</code><br /><code>BOOTPROTO=dhcp</code><br /><code>DNS1=127.0.0.1</code><br /><code>DOMAIN=vmem.org</code><br /><code>DEFROUTE=yes</code><br /><code>IPV4_FAILURE_FATAL=yes</code><br /><code>IPV6INIT=no</code><br /><code>NAME="System eth0"</code><br /><code>HWADDR=52:54:00:66:26:A0</code><br /><code>DNS2=192.168.1.1</code><br /><code>PEERDNS=no</code><br /><code>PEERROUTES=yes</code><br /><code>LAST_CONNECT=1407733083</code><br /><code>[root@oracle651 network-scripts]# </code></font></div><br /></font></div><font size="3">Download the required Oracle Linux 6.5 Source ISO files.  The Oracle Enterprise Linux ISO files are only available as downloads from edelivery.oracle.com so therefore an Oracle Network login will be needed.  (Both an Oracle Network Login and the ISO's are free, but registration is required).   The ISOs needed are as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~/Downloads$ ls -lrt V4*.iso</code><br /><code>-rw-rw-r-- 1 libvirt-qemu kvm      3885117440 Aug  7 15:50 V41362-01.iso &lt;- Install ISO</code>  <br /><code>-rw-rw-r-- 1 gstanden     gstanden 3221997568 Aug 12 17:55 V41365-01.iso &lt;- Source Code SRPMS ISO #1</code> <br /><code>-rw-rw-r-- 1 gstanden     gstanden 2116456448 Aug 12 18:03 V41366-01.iso &lt;- Source Code SRPMS ISO #2</code><br /><code>gstanden@vmem1:~/Downloads$ </code></font></div><br />Do a yum update to update the kernel before beginning this work.  Once this work is done the kernel will be locked so that there will be no more kernel updated, because this procedure builds a custom kernel for SCST which will not be updated any further normally (without going through this entire procedure again!).<br /><br /></font></div><div><font size="3">Once the yum update is complete, reboot the KVM guest so that the just-updated kernel is running in the KVM guest.<br /></font></div><div><font size="3"><br /></font></div><div><font size="3">Install the following packages using yum as shown below.  Do this as root.  Note that further on in this blog there was a missing dependency on "xmlto" which I am retroactively addressing here in this blog so there won't be that missing dependency.<br /><br /></font><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 ~]# </code><code>yum install newt-devel</code><br /><code>[root@oracle651 ~]# </code><code>yum install asciidoc</code><br /><code>[root@oracle651 ~]# </code><code>yum install xmlto<br /></code></font><font size="3"><font size="4"><code>[root@oracle651 ~]# yum install libdtrace-ctf-devel</code></font></font><br /></div><br /><font size="3">As root, add the "mockbuild" user as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 ~]# useradd mockbuild</code></font></div><br /></font></div><div><font size="3">Now su to the "mockbuild" user as shown below.  A password is not needed for the mockbuild user unless you explicitly want one.  It's just an account that will be used for this build.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 ~]# su - mockbuild</code><br /><code>[mockbuild@oracle651 ~]$ pwd</code><br /><code>/home/mockbuild</code><br /><code>[mockbuild@oracle651 ~]$ id</code><br /><code>uid=501(mockbuild) gid=501(mockbuild) groups=501(mockbuild) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023</code><br /><code>[mockbuild@oracle651 ~]$ </code></font></div><br /></font></div><div><font size="3">Run the following commands as the mockbuild user from the /home/mockbuild directory as shown below.  It will be necessary to obtain the OEL UEK  version 3 source rpm's from edelivery.oracle.com which are on the source DVD's downloadable from there, and then stage them as shown in /home/mockbuild with correct ownership of mockbuild:mockbuild as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[mockbuild@oracle651 ~]$ pwd</code><br /><code>/home/mockbuild</code><br /><code>[mockbuild@oracle651 ~]$ ls -lrt</code><br /><code>total 171080</code><br /><code>-rw-r--r-- 1 mockbuild mockbuild 85551190 Aug 23 11:58 kernel-uek-2.6.39-400.211.1.el6uek.src.rpm</code><br /><code>-rw-r--r-- 1 mockbuild mockbuild 89621592 Aug 23 11:58 kernel-uek-3.8.13-16.2.1.el6uek.src.rpm</code><br /><code>drwxrwxr-x 8 mockbuild mockbuild     4096 Aug 23 13:49 rpmbuild</code><br /><code>[mockbuild@oracle651 ~]$ </code></font></div><br /></font></div><div><font size="3">Next run the steps as shown below from the /home/mockbuild directory while connected as the linux "mockbuild" user.<br /></font></div><div><font size="3"><br /></font><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[mockbuild@oracle651 ~]$ </code><code>mkdir -p ~/rpmbuild/{BUILD,BUILDROOT,RPMS,SOURCES,SPECS,SRPMS}</code><br /><code>[mockbuild@oracle651 ~]$ </code><code>echo '%_topdir %(echo $HOME)/rpmbuild' &gt; ~/.rpmmacros</code><br /><code>[mockbuild@oracle651 ~]$ </code><code>rpm -i kernel-uek-3.8.13-16.2.1.el6uek.src.rpm 2&gt;&amp;1 | grep -v mock</code></font></div><font size="3"><br />Before running the below "rpmbuild" command in step after the next one, open another window as root and run the entropy generator as shown here.  If the run of rpmbuild in the next step bogs down, run this command again to refill the entropy pool.  It will make the rpmbuild complete faster.</font><br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 ~]# rngd -r /dev/urandom</code><br /><code>[root@oracle651 ~]# </code></font></div><br /></div><font size="3">Now you can run the command.  If it bogs down towards the end run the above rngd command again.  Note:  be sure when running the command below, that if you cut and paste from this blog that the word "--target" has "two dashes" i.e "--" in front of it, and not just one big dash.  Sometimes characterset conversion can cause two dashed cut and pasted to become an uninterpretable single large dash.</font> <br /><br /></div><font size="3">Also, note the change for <b>kernel-uek.spec</b> as shown in bold below (compared to say CentOS 6 or RHEL 6, for example).</font><font size="3"><br /><br /></font></div><div><div><div><div><div><font size="3"><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 ~]# su - mockbuild</code><br /><br /><code>[mockbuild@oracle651 ~]$ rpmbuild -bp --target=$(uname -m) ./rpmbuild/SPECS/<b>kernel-uek.spec</b><br />Building target platforms: x86_64<br />Building for target x86_64<br />Executing(%prep): /bin/sh -e /var/tmp/rpm-tmp.1l1BDW<br />+ umask 022<br />+ cd /home/mockbuild/rpmbuild/BUILD<br />+ LANG=C<br />+ export LANG<br />+ unset DISPLAY<br />+ patch_command='patch -p1 -F1 -s'<br />+ '[' -f .shared-srctree ']'<br />+ '[' '!' -d kernel-3.8.13/vanilla-2.6.13 ']'<br />+ '[' -d kernel-3.8.13/vanilla-3.8.13 ']'<br />+ rm -f pax_global_header<br />+ [[ ! -z '' ]]<br />+ cd /home/mockbuild/rpmbuild/BUILD<br />+ rm -rf kernel-3.8.13<br />+ /bin/mkdir -p kernel-3.8.13<br />+ cd kernel-3.8.13<br />+ /usr/bin/bzip2 -dc /home/mockbuild/rpmbuild/SOURCES/linux-3.8.13.tar.bz2<br />+ /bin/tar -xf -<br />+ STATUS=0<br />+ '[' 0 -ne 0 ']'<br />+ /bin/chmod -Rf a+rX,u+w,g-w,o-w .<br />+ mv linux-3.8.13 vanilla-3.8.13<br />+ [[ ! -z '' ]]<br />+ cp -rl vanilla-3.8.13 vanilla-2.6.13<br />+ cd vanilla-2.6.13<br />+ cd ..<br />+ '[' -d linux-3.8.13.x86_64 ']'<br />+ cp -rl vanilla-2.6.13 linux-3.8.13-16.2.1.el6uek<br />+ cd linux-3.8.13-16.2.1.el6uek<br />+ cp /usr/lib/rpm/find-debuginfo.sh /home/mockbuild/rpmbuild/BUILD<br />+ patch /home/mockbuild/rpmbuild/BUILD/find-debuginfo.sh /home/mockbuild/rpmbuild/SOURCES/debuginfo-g1.diff<br />patching file /home/mockbuild/rpmbuild/BUILD/find-debuginfo.sh<br />+ chmod +x /home/mockbuild/rpmbuild/BUILD/find-debuginfo.sh<br />+ mkdir -p configs<br />+ cp /home/mockbuild/rpmbuild/SOURCES/config-x86_64-debug configs/config-debug<br />+ cp /home/mockbuild/rpmbuild/SOURCES/config-x86_64 configs/config<br />+ find . '(' -name '*.orig' -o -name '*~' ')' -exec rm -f '{}' ';'<br />+ exit 0</code><code><br /></code></font></div><br />Now execute the following command as shown below.  The full correct expected output of the following command is attached to this blog as "scst.log" at the end of this blog page.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[mockbuild@oracle651 ~]$ </code><code>svn co https://svn.code.sf.net/p/scst/svn/branches/2.2.x scst</code></font></div><br /></font></div><div><font size="3">The scst code is installed under the /home/mockbuild directory. Now Change directory as shown below and check availability of the required patches for the 3.8 kernel as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[mockbuild@oracle651 ~]$ uname -a</code><br /><code>Linux oracle651.vmem.org 3.8.13-35.3.4.el6uek.x86_64 #2 SMP Wed Jul 30 00:59:13 PDT 2014 x86_64 x86_64 x86_64 GNU/Linux</code><br /><br /><code>[mockbuild@oracle651 ~]$ id</code><br /><code>uid=501(mockbuild) gid=501(mockbuild) groups=501(mockbuild)</code><br /><br /><code>[mockbuild@oracle651 ~]$ cd ~/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek/</code><br /><br /><code>[mockbuild@oracle651 linux-3.8.13-16.2.1.el6uek]$ ls -l ~/scst/scst/kernel/scst_exec_req_fifo-3.8.patch</code><br /><code>-rw-rw-r-- 1 mockbuild mockbuild 12833 Aug 23 14:21 /home/mockbuild/scst/scst/kernel/scst_exec_req_fifo-3.8.patch</code><br /><br /><code>[mockbuild@oracle651 linux-3.8.13-16.2.1.el6uek]$ </code><br /><br /><code>[mockbuild@oracle651 linux-3.8.13-16.2.1.el6uek]$ ls -l ~/scst/iscsi-scst/kernel/patches/put_page_callback-3.8.patch</code><br /><code>-rw-rw-r-- 1 mockbuild mockbuild 12499 Aug 23 14:21 /home/mockbuild/scst/iscsi-scst/kernel/patches/put_page_callback-3.8.patch</code><br /><br /><code>[mockbuild@oracle651 linux-3.8.13-16.2.1.el6uek]$</code></font></div><br /></font></div><div><font size="3">Apply the patches as shown below.  Note, if you get the following error when you try to run the command it is because your "p1" is typed as a "pl" (p-ell).  Be sure to use "p1" (p-one).<br /></font></div><div><font size="3"><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><b><br /></b><code>[mockbuild@oracle651 ~]$ <b>cd ~/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek/</b><br />[mockbuild@oracle651 linux-3.8.13-16.2.1.el6uek]$ <b>patch -p1 &lt; ~/scst/scst/kernel/scst_exec_req_fifo-3.8.patch | tee /home/mockbuild</b>/logs/scst_exec_req_fifo-3.8.patch.log<br />patching file block/blk-map.c<br />patching file include/linux/blkdev.h<br />patching file include/linux/scatterlist.h<br />patching file lib/scatterlist.c<br />[mockbuild@oracle651 linux-3.8.13-16.2.1.el6uek]$ </code><b><code><br /></code></b><br /><code>[mockbuild@oracle651 linux-3.8.13-16.2.1.el6uek]$</code><b><code> patch -p1 &lt; ~/scst/iscsi-scst/kernel/patches/put_page_callback-3.8.patch | tee /home/mockbuild/logs/put_page_callback-3.8.patch.log</code></b><br /><code>patching file drivers/net/macvtap.c<br />patching file drivers/net/tun.c<br />Hunk #1 succeeded at 1014 (offset 2 lines).<br />patching file drivers/net/vmxnet3/vmxnet3_drv.c<br />patching file drivers/net/xen-netback/netback.c<br />Hunk #1 succeeded at 1329 (offset 239 lines).<br />Hunk #2 succeeded at 1867 with fuzz 1 (offset 318 lines).<br />patching file include/linux/mm_types.h<br />patching file include/linux/net.h<br />patching file include/linux/skbuff.h<br />Hunk #1 succeeded at 1949 (offset 5 lines).<br />Hunk #2 succeeded at 1972 (offset 5 lines).<br />patching file net/Kconfig<br />patching file net/core/skbuff.c<br />patching file net/core/sock.c<br />patching file net/ipv4/Makefile<br />patching file net/ipv4/ip_output.c<br />patching file net/ipv4/tcp.c<br />patching file net/ipv4/tcp_zero_copy.c<br />patching file net/ipv6/ip6_output.c<br />Hunk #1 succeeded at 1461 (offset 10 lines).<br />[mockbuild@oracle651 linux-3.8.13-16.2.1.el6uek]$</code></font></div><br /></font></div><div><font size="3">Check to make sure the config files are about the same. On my build, there was no .config at this point.  I proceeded on to the "make menuconfig" step next, and made the required changes to configuration, and then saved, and then there was a ".config" file in the directory.<br /><br /></font></div><div><font size="3">One difference here is that I made the SCSI Disk Support option a built-in instead of a module.  It was ticked with &lt;M&gt; and I changed it to &lt;*&gt;.  <br /></font></div><div><font size="3"><br /></font></div><div><font size="3">I ran the "make oldconfig" and then did a diff on the config files as shown below.  Most of the differences looked like the changes that were make with menuconfig so I went ahead and proceeded to kernel compile step.<br /></font></div><div><font size="3"><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[mockbuild@oracle651 linux-3.8.13-16.2.1.el6uek]$ cp -p /boot/config-3.8.13-16.2.1.el6uek.x86_64 .config<br />[mockbuild@oracle651 linux-3.8.13-16.2.1.el6uek]$ </code></font><font size="4"><code><br /></code></font></div><br /></font></div><div><font size="3">The menuconfig GUI opens.  Navigate through the GUI and c</font><font size="3"><font size="3">hoose the options as quoted and described at the spiderweb reference <a href="http://www.spiderbird.com/2013/08/20/centos-6-with-scst/" target="_blank" rel="nofollow">here</a>.</font>  For completeness, those changes that need to be made and verified in menuconfig are as follows from the reference but restated here for convenience.<br /><br /></font></div><div><font size="3">Now run the command as shown below:<br /><br /></font></div><div><font size="3"><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[mockbuild@oracle651 linux-3.8.13-16.2.1.el6uek]$ </code><code>make menuconfig</code></font></div><br /></font></div><div><font size="3">and answer change the following as shown below<br /></font></div><div><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>“Network support”-&gt;”Networking options”</code><br /><code> <span>    </span>“TCP/IP networking” </code><br /><code> <span>    </span>“TCP/IP zero-copy transfer completion notification”</code><br /><br /><code>“Device Drivers”-&gt;”SCSI device support”</code><br /><code> <span>    </span>”SCSI disk support”</code><br /><br /><code>“Enable the block layer”-&gt;”IO Schedulers”-&gt;”CFQ I/O scheduler”-&gt;“Default I/O scheduler”<br /><span>    </span>"No-op"</code><br /><br /><code>“Processor type an features”-&gt;”Preemption Model”</code><br /><code> <span>    </span>“No Forced Preemption - Server"</code></font></div><br /><br /><font size="3"><div style="display:block;text-align:left"><a href="kvm-scst-uek-3-8/make-menu-00.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260424/scst/kvm-scst-uek-3-8/make-menu-00.png" style="width:100%" /></a></div><br /></font></div><div><font size="3"><div style="display:block;text-align:left"><a href="kvm-scst-uek-3-8/make-menu-0.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260424/scst/kvm-scst-uek-3-8/make-menu-0.png" style="width:100%" /></a></div><br /></font></div><div><div style="display:block;text-align:left"><a href="kvm-scst-uek-3-8/make-menu-1.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260424/scst/kvm-scst-uek-3-8/make-menu-1.png" style="width:100%" /></a></div><br /><div style="display:block;text-align:left"><a href="kvm-scst-uek-3-8/make-menu-2.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260424/scst/kvm-scst-uek-3-8/make-menu-2.png" style="width:100%" /></a></div><br /><div style="display:block;text-align:left"><a href="kvm-scst-uek-3-8/make-menu-3.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260424/scst/kvm-scst-uek-3-8/make-menu-3.png" style="width:100%" /></a></div><br /><br /><div style="display:block;text-align:left"><a href="kvm-scst-uek-3-8/make-menu-4.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260424/scst/kvm-scst-uek-3-8/make-menu-4.png" style="width:100%" /></a></div><br /><div style="display:block;text-align:left"><a href="kvm-scst-uek-3-8/make-menu-5.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260424/scst/kvm-scst-uek-3-8/make-menu-5.png" style="width:100%" /></a></div><br /><br /><div style="display:block;text-align:left"><a href="kvm-scst-uek-3-8/make-menu-6.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260425/scst/kvm-scst-uek-3-8/make-menu-6.png" style="width:100%" /></a></div><br /><div style="display:block;text-align:left"><a href="kvm-scst-uek-3-8/make-menu-8.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260425/scst/kvm-scst-uek-3-8/make-menu-8.png" style="width:100%" /></a></div><br /><div style="display:block;text-align:left"><a href="kvm-scst-uek-3-8/make-menu-9.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260425/scst/kvm-scst-uek-3-8/make-menu-9.png" style="width:100%" /></a></div><br /><br /><div style="display:block;text-align:left"><a href="kvm-scst-uek-3-8/make-menu-10.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260424/scst/kvm-scst-uek-3-8/make-menu-10.png" style="width:100%" /></a></div><br /><br /><div style="display:block;text-align:left"><a href="kvm-scst-uek-3-8/make-menu-11.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260424/scst/kvm-scst-uek-3-8/make-menu-11.png" style="width:100%" /></a></div><br /><br /><div style="display:block;text-align:left"><a href="kvm-scst-uek-3-8/make-menu-12.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260424/scst/kvm-scst-uek-3-8/make-menu-12.png" style="width:100%" /></a></div><br /><div style="display:block;text-align:left"><a href="kvm-scst-uek-3-8/make-menu-13.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260424/scst/kvm-scst-uek-3-8/make-menu-13.png" style="width:100%" /></a></div><br /><br /><div style="display:block;text-align:left"><a href="kvm-scst-uek-3-8/make-menu-14.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518480260424/scst/kvm-scst-uek-3-8/make-menu-14.png" style="width:100%" /></a></div><br /></div><div><font size="3">Edit the Makefile as shown with the EXTRAVERSION information.  In this example, the kernel version will have no special identifier and will just overwrite the existing kernel with a kernel of the same name but with the added SCST features.  It is also possible to append a custom tag to mark the kernel as modified such as "-16.2.1.el6uek.scst.x86_64". <br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[mockbuild@oracle651 linux-3.8.13-16.2.1.el6uek]$ vi Makefile<br />[mockbuild@oracle651 linux-3.8.13-16.2.1.el6uek]$ grep EXTRAVERSION Makefile | grep -v KERNELVERSION</code> <br /><b><code>EXTRAVERSION =-16.2.1.el6uek.x86_64</code></b><br /><code>[mockbuild@oracle651 linux-3.8.13-16.2.1.el6uek]$ </code></font></div><br />Now run make as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[mockbuild@oracle651 linux-3.8.13-16.2.1.el6uek]$ time make -j8 all | tee /home/mockbuild/make.log</code></font></div><br /></font></div><div><font size="3">Now make modules install as shown below, as the "root" user.<br /><br /></font><font size="3"><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[</code><code>mockbuild@oracle651 linux-2.6.32-431.23.3.el6.x86_64]$ </code><code>su - root</code><br /><code>[root@oracle651 linux-2.6.32-431.23.3.el6.x86_64]# cd /home/mockbuild/rpmbuild/BUILD/kernel-2.6.32-431.23.3.el6/linux-2.6.32-431.23.3.el6.x86_64</code><br /><code>[root@oracle651 linux-2.6.32-431.23.3.el6.x86_64]# make modules_install</code></font></div><br /></font></div><div><font size="3">   <br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>cp -pR /lib/modules/3.8.13-16.2.1.el6uek.x86_64/ /lib/modules/3.8.13-16.2.1.el6uek.scst.x86_64/</code><br /><code>make modules install</code><br /><code>cd /home/mockbuild/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek/</code></font></div><br /><br /><br />Next, again as root, do a "make install" as shown below.  The errors shown are OK.  These modules will be added after reboot. <br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 linux-3.8.13-16.2.1.el6uek]# make install | tee /home/mockbuild/install.log<br />sh /home/mockbuild/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek/arch/x86/boot/install.sh 3.8.13-16.2.1.el6uek.x86_64 arch/x86/boot/bzImage \<br />        System.map "/boot"<br />ERROR: modinfo: could not find module iscsi_scst<br />ERROR: modinfo: could not find module scst_vdisk<br />ERROR: modinfo: could not find module scst<br />[root@oracle651 linux-3.8.13-16.2.1.el6uek]# </code></font></div><br /></font></div><div><font size="3">Now edit /boot/grub/menu.lst to update the server to use the new kernel at boot as shown below.  Change the value of "default=" to use the new kernel.  The first kernel listed is always the "0" (zero) kernel so in this example set "detault=0".  Also, while editing this file, remove the "rhgb quiet" from that kernel line so that all boot output messages will be buffered to console, and also add at the end of the kernel line "console=ttyS0" so that KVM console is configured.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 linux-3.8.13-16.2.1.el6uek]# cat /boot/grub/menu.lst<br /># grub.conf generated by anaconda<br />#<br /># Note that you do not have to rerun grub after making changes to this file<br /># NOTICE:  You have a /boot partition.  This means that<br />#          all kernel and initrd paths are relative to /boot/, eg.<br />#          root (hd0,0)<br />#          kernel /vmlinuz-version ro root=/dev/mapper/vg_oracle651-lv_root<br />#          initrd /initrd-[generic-]version.img<br />#boot=/dev/vda<br />default=0<br />timeout=5<br />splashimage=(hd0,0)/grub/splash.xpm.gz<br />hiddenmenu<br /><b>title Oracle Linux Server (3.8.13-16.2.1.el6uek.x86_64)<br />    root (hd0,0)<br />    kernel /vmlinuz-3.8.13-16.2.1.el6uek.x86_64 ro root=/dev/mapper/vg_oracle651-lv_root rd_NO_LUKS LANG=en_US.UTF-8 rd_LVM_LV=vg_oracle651/lv_swap rd_NO_MD rd_LVM_LV=vg_oracle651/lv_root SYSFONT=latarcyrheb-sun16   KEYBOARDTYPE=pc KEYTABLE=us rd_NO_DM crashkernel=auto console=ttyS0</b><br />    initrd /initramfs-3.8.13-16.2.1.el6uek.x86_64.img<br />title Oracle Linux Server Red Hat Compatible Kernel (2.6.32-scst)<br />    root (hd0,0)<br />    kernel /vmlinuz-2.6.32-scst ro root=/dev/mapper/vg_oracle651-lv_root rd_NO_LUKS LANG=en_US.UTF-8 rd_LVM_LV=vg_oracle651/lv_swap rd_NO_MD rd_LVM_LV=vg_oracle651/lv_root SYSFONT=latarcyrheb-sun16   KEYBOARDTYPE=pc KEYTABLE=us rd_NO_DM crashkernel=auto console=ttyS0<br />    initrd /initramfs-2.6.32-scst.img<br />title Oracle Linux Server (3.8.13-35.3.4.el6uek.x86_64)<br />    root (hd0,0)<br />    kernel /vmlinuz-3.8.13-35.3.4.el6uek.x86_64 ro root=/dev/mapper/vg_oracle651-lv_root rd_NO_LUKS LANG=en_US.UTF-8 rd_LVM_LV=vg_oracle651/lv_swap rd_NO_MD rd_LVM_LV=vg_oracle651/lv_root SYSFONT=latarcyrheb-sun16   KEYBOARDTYPE=pc KEYTABLE=us rd_NO_DM rhgb quiet<br />    initrd /initramfs-3.8.13-35.3.4.el6uek.x86_64.img<br />title Oracle Linux Server Red Hat Compatible Kernel (2.6.32-431.23.3.el6.x86_64)<br />    root (hd0,0)<br />    kernel /vmlinuz-2.6.32-431.23.3.el6.x86_64 ro root=/dev/mapper/vg_oracle651-lv_root rd_NO_LUKS LANG=en_US.UTF-8 rd_LVM_LV=vg_oracle651/lv_swap rd_NO_MD rd_LVM_LV=vg_oracle651/lv_root SYSFONT=latarcyrheb-sun16   KEYBOARDTYPE=pc KEYTABLE=us rd_NO_DM rhgb quiet crashkernel=auto<br />    initrd /initramfs-2.6.32-431.23.3.el6.x86_64.img<br /><b>title Oracle Linux Server Unbreakable Enterprise Kernel (3.8.13-16.2.1.el6uek.x86_64)<br />    root (hd0,0)<br />    kernel /vmlinuz-3.8.13-16.2.1.el6uek.x86_64 ro root=/dev/mapper/vg_oracle651-lv_root rd_NO_LUKS LANG=en_US.UTF-8 rd_LVM_LV=vg_oracle651/lv_swap rd_NO_MD rd_LVM_LV=vg_oracle651/lv_root SYSFONT=latarcyrheb-sun16   KEYBOARDTYPE=pc KEYTABLE=us rd_NO_DM rhgb quiet</b><br />    initrd /initramfs-3.8.13-16.2.1.el6uek.x86_64.img<br />title Oracle Linux Server Red Hat Compatible Kernel (2.6.32-431.el6.x86_64)<br />    root (hd0,0)<br />    kernel /vmlinuz-2.6.32-431.el6.x86_64 ro root=/dev/mapper/vg_oracle651-lv_root rd_NO_LUKS LANG=en_US.UTF-8 rd_LVM_LV=vg_oracle651/lv_swap rd_NO_MD rd_LVM_LV=vg_oracle651/lv_root SYSFONT=latarcyrheb-sun16 crashkernel=auto  KEYBOARDTYPE=pc KEYTABLE=us rd_NO_DM rhgb quiet<br />    initrd /initramfs-2.6.32-431.el6.x86_64.img<br />[root@oracle651 linux-3.8.13-16.2.1.el6uek]# </code></font></div><br /></font></div><div><font size="3">Now copy the .config file over to the "/boot" directory as shown below. Expected output and commands are shown below.<br /></font></div><div><font size="3"><br /></font><div class="sites-codeblock sites-codesnippet-block"><font size="4"><br /><code>[root@oracle651 linux-3.8.13-16.2.1.el6uek]# cp .config /boot/config-3.8.13-16.2.1.el6uek.x86_64 <br />cp: overwrite `/boot/config-3.8.13-16.2.1.el6uek.x86_64'? y<br />[root@oracle651 linux-3.8.13-16.2.1.el6uek]# <br /><br /></code></font></div><br /></div><div><font size="3">Reboot the KVM guest.  Be sure the config file has been named exactly as shown above before rebooting, or if your kernel version was slightly different, be sure the kernel version and format of the name of the config file is of the format "config-ver.s.ion-scst.el6.x86_64".</font><br /><br /></div><font size="3">Next change the various Makefiles to release version by issuing “make debug2release” in the main scst dir. This will remove the debugging stuff. Do this as root. </font><div><font size="3"><br /></font></div><div><font size="3"><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>Linux oracle651.vmem.org 3.8.13-16.2.1.el6uek.x86_64 #1 SMP Sun Aug 24 11:05:09 CDT 2014 x86_64 x86_64 x86_64 GNU/Linux<br />[root@oracle651 ~]# cd /home/mockbuild/scst<br />[root@oracle651 scst]# make debug2release | tee /home/mockbuild/debug2release.log<br />rm -f TAGS<br />cd scst &amp;&amp; make extraclean<br />make[1]: Entering directory `/home/mockbuild/scst/scst'<br />cd src &amp;&amp; make extraclean<br />make[2]: Entering directory `/home/mockbuild/scst/scst/src'<br />rm -f *.o *.ko .*.cmd *.mod.c .*.d .depend Modules.symvers \<br />        Module.symvers Module.markers modules.order<br />rm -rf .tmp_versions<br />cd dev_handlers &amp;&amp; make clean<br />make[3]: Entering directory `/home/mockbuild/scst/scst/src/dev_handlers'<br />rm -f *.o *.ko .*.cmd *.mod.c .*.d .depend Modules.symvers \<br />        Module.symvers Module.markers modules.order<br />rm -rf .tmp_versions<br />make[3]: Leaving directory `/home/mockbuild/scst/scst/src/dev_handlers'<br />cd dev_handlers &amp;&amp; make extraclean<br />make[3]: Entering directory `/home/mockbuild/scst/scst/src/dev_handlers'<br />rm -f *.o *.ko .*.cmd *.mod.c .*.d .depend Modules.symvers \<br />        Module.symvers Module.markers modules.order<br />rm -rf .tmp_versions<br />rm -f *.orig *.rej<br />make[3]: Leaving directory `/home/mockbuild/scst/scst/src/dev_handlers'<br />rm -f *.orig *.rej<br />make[2]: Leaving directory `/home/mockbuild/scst/scst/src'<br />make[1]: Leaving directory `/home/mockbuild/scst/scst'<br />make[1]: Entering directory `/home/mockbuild/scst/doc'<br />rm -f *.txt *.html *.tex *.dvi *.ps *.pdf *.info *.lyx *.rtf<br />rm -f *.orig *.rej<br />make[1]: Leaving directory `/home/mockbuild/scst/doc'<br />make[1]: Entering directory `/home/mockbuild/scst/qla2x00t'<br />rm -f *.o *.ko .*.cmd *.mod.c .*.d .depend *~ Modules.symvers \<br />        Module.symvers Module.markers modules.order<br />rm -rf .tmp_versions<br />rm -f *.orig *.rej<br />make[1]: Leaving directory `/home/mockbuild/scst/qla2x00t'<br />make[1]: Entering directory `/home/mockbuild/scst/qla2x00t/qla2x00-target'<br />rm -f *.o *.ko .*.cmd *.mod.c .*.d .depend *~ Modules.symvers \<br />        Module.symvers Module.markers modules.order<br />rm -rf .tmp_versions<br />rm -f *.orig *.rej<br />make[1]: Leaving directory `/home/mockbuild/scst/qla2x00t/qla2x00-target'<br />make[1]: Entering directory `/home/mockbuild/scst/srpt'<br />make -C /lib/modules/3.8.13-16.2.1.el6uek.x86_64/build SUBDIRS=/home/mockbuild/scst/srpt/src clean<br />make[2]: Entering directory `/home/mockbuild/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek'<br />make[2]: Leaving directory `/home/mockbuild/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek'<br />rm -f src/Modules.symvers src/Module.symvers src/Module.markers \<br />        src/modules.order<br />rm -f *.orig *.rej<br />make[1]: Leaving directory `/home/mockbuild/scst/srpt'<br />make[1]: Entering directory `/home/mockbuild/scst/iscsi-scst'<br />make -C usr extraclean<br />make[2]: Entering directory `/home/mockbuild/scst/iscsi-scst/usr'<br />rm -f *.o iscsi-scstd iscsi-scst-adm .depend*<br />rm -f *.orig *.rej<br />make[2]: Leaving directory `/home/mockbuild/scst/iscsi-scst/usr'<br />make -C /lib/modules/3.8.13-16.2.1.el6uek.x86_64/build SUBDIRS=/home/mockbuild/scst/iscsi-scst/kernel clean<br />make[2]: Entering directory `/home/mockbuild/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek'<br />make[2]: Leaving directory `/home/mockbuild/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek'<br />rm -f kernel/Modules.symvers kernel/Module.symvers \<br />        kernel/Module.markers kernel/modules.order \<br />        include/iscsi_scst_itf_ver.h \<br />        kernel/*.orig kernel/*.rej<br />make[1]: Leaving directory `/home/mockbuild/scst/iscsi-scst'<br />make[1]: Entering directory `/home/mockbuild/scst/usr/fileio'<br />rm -f *.o fileio_tgt .depend*<br />rm -f *.orig *.rej<br />make[1]: Leaving directory `/home/mockbuild/scst/usr/fileio'<br />make[1]: Entering directory `/home/mockbuild/scst/scst_local'<br />make[2]: Entering directory `/home/mockbuild/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek'<br />make[2]: Leaving directory `/home/mockbuild/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek'<br />rm -f *.orig *.rej<br />make[1]: Leaving directory `/home/mockbuild/scst/scst_local'<br />cd scst &amp;&amp; make debug2release<br />make[1]: Entering directory `/home/mockbuild/scst/scst'<br />cd src &amp;&amp; make debug2release<br />make[2]: Entering directory `/home/mockbuild/scst/scst/src'<br />sed -i.aa s/"^EXTRA_CFLAGS += \-DCONFIG_SCST_EXTRACHECKS"/"#EXTRA_CFLAGS += \-DCONFIG_SCST_EXTRACHECKS"/ Makefile<br />sed -i.aa s/"#EXTRA_CFLAGS += \-DCONFIG_SCST_TRACING"/"EXTRA_CFLAGS += \-DCONFIG_SCST_TRACING"/ Makefile<br />sed -i.aa s/"^EXTRA_CFLAGS += \-DCONFIG_SCST_DEBUG -g -fno-inline -fno-inline-functions"/"#EXTRA_CFLAGS += \-DCONFIG_SCST_DEBUG -g -fno-inline -fno-inline-functions"/ Makefile<br />rm Makefile.aa<br />cd dev_handlers &amp;&amp; make debug2release<br />make[3]: Entering directory `/home/mockbuild/scst/scst/src/dev_handlers'<br />sed -i.aa s/"^EXTRA_CFLAGS += \-DCONFIG_SCST_EXTRACHECKS"/"#EXTRA_CFLAGS += \-DCONFIG_SCST_EXTRACHECKS"/ Makefile<br />sed -i.aa s/"#EXTRA_CFLAGS += \-DCONFIG_SCST_TRACING"/"EXTRA_CFLAGS += \-DCONFIG_SCST_TRACING"/ Makefile<br />sed -i.aa s/"^EXTRA_CFLAGS += \-DCONFIG_SCST_DEBUG -g -fno-inline -fno-inline-functions"/"#EXTRA_CFLAGS += \-DCONFIG_SCST_DEBUG -g -fno-inline -fno-inline-functions"/ Makefile<br />rm Makefile.aa<br />make[3]: Leaving directory `/home/mockbuild/scst/scst/src/dev_handlers'<br />make[2]: Leaving directory `/home/mockbuild/scst/scst/src'<br />make[1]: Leaving directory `/home/mockbuild/scst/scst'<br />make[1]: Entering directory `/home/mockbuild/scst/qla2x00t/qla2x00-target'<br />sed -i.aa s/"^EXTRA_CFLAGS += \-DCONFIG_SCST_EXTRACHECKS"/"#EXTRA_CFLAGS += \-DCONFIG_SCST_EXTRACHECKS"/ Makefile<br />sed -i.aa s/"#EXTRA_CFLAGS += \-DCONFIG_SCST_TRACING"/"EXTRA_CFLAGS += \-DCONFIG_SCST_TRACING"/ Makefile<br />sed -i.aa s/"^EXTRA_CFLAGS += \-DCONFIG_SCST_DEBUG -g -fno-inline -fno-inline-functions"/"#EXTRA_CFLAGS += \-DCONFIG_SCST_DEBUG -g -fno-inline -fno-inline-functions"/ Makefile<br />rm Makefile.aa<br />make[1]: Leaving directory `/home/mockbuild/scst/qla2x00t/qla2x00-target'<br />make[1]: Entering directory `/home/mockbuild/scst/srpt'<br />make clean<br />make[2]: Entering directory `/home/mockbuild/scst/srpt'<br />make -C /lib/modules/3.8.13-16.2.1.el6uek.x86_64/build SUBDIRS=/home/mockbuild/scst/srpt/src clean<br />make[3]: Entering directory `/home/mockbuild/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek'<br />make[3]: Leaving directory `/home/mockbuild/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek'<br />rm -f src/Modules.symvers src/Module.symvers src/Module.markers \<br />        src/modules.order<br />make[2]: Leaving directory `/home/mockbuild/scst/srpt'<br />make[1]: Leaving directory `/home/mockbuild/scst/srpt'<br />make[1]: Entering directory `/home/mockbuild/scst/iscsi-scst'<br />sed -i.aa s/"^EXTRA_CFLAGS += \-DCONFIG_SCST_EXTRACHECKS"/"#EXTRA_CFLAGS += \-DCONFIG_SCST_EXTRACHECKS"/ /home/mockbuild/scst/iscsi-scst/kernel/Makefile<br />sed -i.aa s/"#EXTRA_CFLAGS += \-DCONFIG_SCST_TRACING"/"EXTRA_CFLAGS += \-DCONFIG_SCST_TRACING"/ /home/mockbuild/scst/iscsi-scst/kernel/Makefile<br />sed -i.aa s/"^EXTRA_CFLAGS += \-DCONFIG_SCST_DEBUG -g -fno-inline -fno-inline-functions"/"#EXTRA_CFLAGS += \-DCONFIG_SCST_DEBUG -g -fno-inline -fno-inline-functions"/ /home/mockbuild/scst/iscsi-scst/kernel/Makefile<br />rm /home/mockbuild/scst/iscsi-scst/kernel/Makefile.aa<br />make[1]: Leaving directory `/home/mockbuild/scst/iscsi-scst'<br />make[1]: Entering directory `/home/mockbuild/scst/usr/fileio'<br />sed -i.aa s/"^CFLAGS += \-DEXTRACHECKS"/"#CFLAGS += \-DEXTRACHECKS"/ Makefile<br />sed -i.aa s/"#CFLAGS += \-DTRACING"/"CFLAGS += \-DTRACING"/ Makefile<br />sed -i.aa s/"^CFLAGS += \-DDEBUG -g -fno-inline -fno-inline-functions"/"#CFLAGS += \-DDEBUG -g -fno-inline -fno-inline-functions"/ Makefile<br />rm Makefile.aa<br />make[1]: Leaving directory `/home/mockbuild/scst/usr/fileio'<br />make[1]: Entering directory `/home/mockbuild/scst/scst_local'<br />sed -i.aa s/"^EXTRA_CFLAGS += \-DCONFIG_SCST_EXTRACHECKS"/"#EXTRA_CFLAGS += \-DCONFIG_SCST_EXTRACHECKS"/ Makefile<br />sed -i.aa s/"#EXTRA_CFLAGS += \-DCONFIG_SCST_TRACING"/"EXTRA_CFLAGS += \-DCONFIG_SCST_TRACING"/ Makefile<br />sed -i.aa s/"^EXTRA_CFLAGS += \-DCONFIG_SCST_DEBUG -g -fno-inline -fno-inline-functions"/"#EXTRA_CFLAGS += \-DCONFIG_SCST_DEBUG -g -fno-inline -fno-inline-functions"/ Makefile<br />rm Makefile.aa<br />make[1]: Leaving directory `/home/mockbuild/scst/scst_local'<br />[root@oracle651 scst]#</code></font></div><br /></font></div><div><font size="3">Now </font><font size="3">go ahead and issue “make scst scst_install” as root in the mockbuild directory’s scst folder.  Commands and expected output are shown below.  Do this as "root" user.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 scst]# make scst scst_install | tee /home/mockbuild/scst_install.log<br />cd scst &amp;&amp; make all<br />make[1]: Entering directory `/home/mockbuild/scst/scst'<br />cd src &amp;&amp; make all<br />make[2]: Entering directory `/home/mockbuild/scst/scst/src'<br />make -C /lib/modules/3.8.13-16.2.1.el6uek.x86_64/build SUBDIRS=/home/mockbuild/scst/scst/src BUILD_DEV=m<br />make[3]: Entering directory `/home/mockbuild/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek'<br />  LD      /home/mockbuild/scst/scst/src/built-in.o<br />  CC [M]  /home/mockbuild/scst/scst/src/scst_main.o<br />  CC [M]  /home/mockbuild/scst/scst/src/scst_targ.o<br />  CC [M]  /home/mockbuild/scst/scst/src/scst_lib.o<br />  CC [M]  /home/mockbuild/scst/scst/src/scst_sysfs.o<br />  CC [M]  /home/mockbuild/scst/scst/src/scst_mem.o<br />  CC [M]  /home/mockbuild/scst/scst/src/scst_debug.o<br />  CC [M]  /home/mockbuild/scst/scst/src/scst_pres.o<br />  CC [M]  /home/mockbuild/scst/scst/src/scst_tg.o<br />  LD [M]  /home/mockbuild/scst/scst/src/scst.o<br />  LD      /home/mockbuild/scst/scst/src/dev_handlers/built-in.o<br />  CC [M]  /home/mockbuild/scst/scst/src/dev_handlers/scst_cdrom.o<br />  CC [M]  /home/mockbuild/scst/scst/src/dev_handlers/scst_changer.o<br />  CC [M]  /home/mockbuild/scst/scst/src/dev_handlers/scst_disk.o<br />  CC [M]  /home/mockbuild/scst/scst/src/dev_handlers/scst_modisk.o<br />  CC [M]  /home/mockbuild/scst/scst/src/dev_handlers/scst_tape.o<br />  CC [M]  /home/mockbuild/scst/scst/src/dev_handlers/scst_vdisk.o<br />  CC [M]  /home/mockbuild/scst/scst/src/dev_handlers/scst_raid.o<br />  CC [M]  /home/mockbuild/scst/scst/src/dev_handlers/scst_processor.o<br />  CC [M]  /home/mockbuild/scst/scst/src/dev_handlers/scst_user.o<br />  Building modules, stage 2.<br />  MODPOST 10 modules<br />  CC      /home/mockbuild/scst/scst/src/dev_handlers/scst_cdrom.mod.o<br />  CTF<br />  LD [M]  /home/mockbuild/scst/scst/src/dev_handlers/scst_cdrom.ko<br />  CC      /home/mockbuild/scst/scst/src/dev_handlers/scst_changer.mod.o<br />  LD [M]  /home/mockbuild/scst/scst/src/dev_handlers/scst_changer.ko<br />  CC      /home/mockbuild/scst/scst/src/dev_handlers/scst_disk.mod.o<br />  LD [M]  /home/mockbuild/scst/scst/src/dev_handlers/scst_disk.ko<br />  CC      /home/mockbuild/scst/scst/src/dev_handlers/scst_modisk.mod.o<br />  LD [M]  /home/mockbuild/scst/scst/src/dev_handlers/scst_modisk.ko<br />  CC      /home/mockbuild/scst/scst/src/dev_handlers/scst_processor.mod.o<br />  LD [M]  /home/mockbuild/scst/scst/src/dev_handlers/scst_processor.ko<br />  CC      /home/mockbuild/scst/scst/src/dev_handlers/scst_raid.mod.o<br />  LD [M]  /home/mockbuild/scst/scst/src/dev_handlers/scst_raid.ko<br />  CC      /home/mockbuild/scst/scst/src/dev_handlers/scst_tape.mod.o<br />  LD [M]  /home/mockbuild/scst/scst/src/dev_handlers/scst_tape.ko<br />  CC      /home/mockbuild/scst/scst/src/dev_handlers/scst_user.mod.o<br />  LD [M]  /home/mockbuild/scst/scst/src/dev_handlers/scst_user.ko<br />  CC      /home/mockbuild/scst/scst/src/dev_handlers/scst_vdisk.mod.o<br />  LD [M]  /home/mockbuild/scst/scst/src/dev_handlers/scst_vdisk.ko<br />  CC      /home/mockbuild/scst/scst/src/scst.mod.o<br />  LD [M]  /home/mockbuild/scst/scst/src/scst.ko<br />make[3]: Leaving directory `/home/mockbuild/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek'<br />make[2]: Leaving directory `/home/mockbuild/scst/scst/src'<br />make[1]: Leaving directory `/home/mockbuild/scst/scst'<br />cd scst &amp;&amp; make install<br />make[1]: Entering directory `/home/mockbuild/scst/scst'<br />cd src &amp;&amp; make install<br />make[2]: Entering directory `/home/mockbuild/scst/scst/src'<br />make -C /lib/modules/3.8.13-16.2.1.el6uek.x86_64/build SUBDIRS=/home/mockbuild/scst/scst/src BUILD_DEV=m<br />make[3]: Entering directory `/home/mockbuild/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek'<br />  Building modules, stage 2.<br />  MODPOST 10 modules<br />make[3]: Leaving directory `/home/mockbuild/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek'<br />rm -f /lib/modules/3.8.13-16.2.1.el6uek.x86_64/extra/scsi_tgt.ko<br />install -d /lib/modules/3.8.13-16.2.1.el6uek.x86_64/extra<br />install -d /lib/modules/3.8.13-16.2.1.el6uek.x86_64/extra/dev_handlers<br />install -m 644 dev_handlers/*.ko /lib/modules/3.8.13-16.2.1.el6uek.x86_64/extra/dev_handlers<br />install -m 644 scst.ko /lib/modules/3.8.13-16.2.1.el6uek.x86_64/extra<br />install -d /usr/local/include/scst<br />install -m 644 ../include/scst.h /usr/local/include/scst<br />install -m 644 ../include/scst_sgv.h /usr/local/include/scst<br />install -m 644 ../include/scst_debug.h /usr/local/include/scst<br />install -m 644 ../include/scst_user.h /usr/local/include/scst<br />install -m 644 ../include/scst_const.h /usr/local/include/scst<br />rm -f /usr/local/include/scst/Modules.symvers<br />install -m 644 Module.symvers /usr/local/include/scst<br />/sbin/depmod -a 3.8.13-16.2.1.el6uek.x86_64<br />mkdir -p /var/lib/scst/pr<br />****************************************************************<br />*!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!*<br />*!!                                                          !!*<br />*!!  Now don't forget to rebuild and reinstall all your      !!*<br />*!!  target drivers, custom dev handlers and necessary user  !!*<br />*!!  space applications. Otherwise, because of the versions  !!*<br />*!!  mismatch, you could have many problems and crashes.     !!*<br />*!!  See IMPORTANT note in the "Installation" section of     !!*<br />*!!  SCST's README file for more info.                       !!*<br />*!!                                                          !!*<br />*!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!*<br />****************************************************************<br />make[2]: Leaving directory `/home/mockbuild/scst/scst/src'<br />make[1]: Leaving directory `/home/mockbuild/scst/scst'<br />[root@oracle651 scst]# <br /></code><br /></font></div></font><br /><font size="3">Issue “make iscsi iscsi_install” as root in the /home/mockbuild folder.  Commands and expected output are shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 scst]# make iscsi iscsi_install | tee /home/mockbuild/iscsi_install.log<br />cd iscsi-scst &amp;&amp; make all<br />make[1]: Entering directory `/home/mockbuild/scst/iscsi-scst'<br />echo "/* Autogenerated, don't edit */" &gt;include/iscsi_scst_itf_ver.h<br />echo "" &gt;&gt;include/iscsi_scst_itf_ver.h<br />echo -n "#define ISCSI_SCST_INTERFACE_VERSION " &gt;&gt;include/iscsi_scst_itf_ver.h<br />echo -n "ISCSI_VERSION_STRING \"_\" " &gt;&gt;include/iscsi_scst_itf_ver.h<br />echo "\"`sha1sum include/iscsi_scst.h|awk '{printf $1}'`\"" &gt;&gt;include/iscsi_scst_itf_ver.h<br />make -C usr SCST_INC_DIR=/home/mockbuild/scst/iscsi-scst/../scst/include<br />make[2]: Entering directory `/home/mockbuild/scst/iscsi-scst/usr'<br />cc -M -O2 -fno-inline -Wall -Wextra -Wstrict-prototypes -Wno-sign-compare -Wimplicit-function-declaration -Wno-unused-parameter -Wno-missing-field-initializers -g -I../include -I/home/mockbuild/scst/iscsi-scst/../scst/include -D_GNU_SOURCE  iscsid.c iscsi_scstd.c conn.c session.c target.c message.c ctldev.c log.c chap.c event.c param.c config.c isns.c md5.c sha1.c &gt;.depend_d<br />cc -c -o iscsid.o -O2 -fno-inline -Wall -Wextra -Wstrict-prototypes -Wno-sign-compare -Wimplicit-function-declaration -Wno-unused-parameter -Wno-missing-field-initializers -g -I../include -I/home/mockbuild/scst/iscsi-scst/../scst/include -D_GNU_SOURCE  iscsid.c<br />cc -c -o iscsi_scstd.o -O2 -fno-inline -Wall -Wextra -Wstrict-prototypes -Wno-sign-compare -Wimplicit-function-declaration -Wno-unused-parameter -Wno-missing-field-initializers -g -I../include -I/home/mockbuild/scst/iscsi-scst/../scst/include -D_GNU_SOURCE  iscsi_scstd.c<br />cc -c -o conn.o -O2 -fno-inline -Wall -Wextra -Wstrict-prototypes -Wno-sign-compare -Wimplicit-function-declaration -Wno-unused-parameter -Wno-missing-field-initializers -g -I../include -I/home/mockbuild/scst/iscsi-scst/../scst/include -D_GNU_SOURCE  conn.c<br />cc -c -o session.o -O2 -fno-inline -Wall -Wextra -Wstrict-prototypes -Wno-sign-compare -Wimplicit-function-declaration -Wno-unused-parameter -Wno-missing-field-initializers -g -I../include -I/home/mockbuild/scst/iscsi-scst/../scst/include -D_GNU_SOURCE  session.c<br />cc -c -o target.o -O2 -fno-inline -Wall -Wextra -Wstrict-prototypes -Wno-sign-compare -Wimplicit-function-declaration -Wno-unused-parameter -Wno-missing-field-initializers -g -I../include -I/home/mockbuild/scst/iscsi-scst/../scst/include -D_GNU_SOURCE  target.c<br />cc -c -o message.o -O2 -fno-inline -Wall -Wextra -Wstrict-prototypes -Wno-sign-compare -Wimplicit-function-declaration -Wno-unused-parameter -Wno-missing-field-initializers -g -I../include -I/home/mockbuild/scst/iscsi-scst/../scst/include -D_GNU_SOURCE  message.c<br />cc -c -o ctldev.o -O2 -fno-inline -Wall -Wextra -Wstrict-prototypes -Wno-sign-compare -Wimplicit-function-declaration -Wno-unused-parameter -Wno-missing-field-initializers -g -I../include -I/home/mockbuild/scst/iscsi-scst/../scst/include -D_GNU_SOURCE  ctldev.c<br />cc -c -o log.o -O2 -fno-inline -Wall -Wextra -Wstrict-prototypes -Wno-sign-compare -Wimplicit-function-declaration -Wno-unused-parameter -Wno-missing-field-initializers -g -I../include -I/home/mockbuild/scst/iscsi-scst/../scst/include -D_GNU_SOURCE  log.c<br />cc -c -o chap.o -O2 -fno-inline -Wall -Wextra -Wstrict-prototypes -Wno-sign-compare -Wimplicit-function-declaration -Wno-unused-parameter -Wno-missing-field-initializers -g -I../include -I/home/mockbuild/scst/iscsi-scst/../scst/include -D_GNU_SOURCE  chap.c<br />cc -c -o event.o -O2 -fno-inline -Wall -Wextra -Wstrict-prototypes -Wno-sign-compare -Wimplicit-function-declaration -Wno-unused-parameter -Wno-missing-field-initializers -g -I../include -I/home/mockbuild/scst/iscsi-scst/../scst/include -D_GNU_SOURCE  event.c<br />cc -c -o param.o -O2 -fno-inline -Wall -Wextra -Wstrict-prototypes -Wno-sign-compare -Wimplicit-function-declaration -Wno-unused-parameter -Wno-missing-field-initializers -g -I../include -I/home/mockbuild/scst/iscsi-scst/../scst/include -D_GNU_SOURCE  param.c<br />cc -c -o config.o -O2 -fno-inline -Wall -Wextra -Wstrict-prototypes -Wno-sign-compare -Wimplicit-function-declaration -Wno-unused-parameter -Wno-missing-field-initializers -g -I../include -I/home/mockbuild/scst/iscsi-scst/../scst/include -D_GNU_SOURCE  config.c<br />cc -c -o isns.o -O2 -fno-inline -Wall -Wextra -Wstrict-prototypes -Wno-sign-compare -Wimplicit-function-declaration -Wno-unused-parameter -Wno-missing-field-initializers -g -I../include -I/home/mockbuild/scst/iscsi-scst/../scst/include -D_GNU_SOURCE  isns.c<br />cc -c -o md5.o -O2 -fno-inline -Wall -Wextra -Wstrict-prototypes -Wno-sign-compare -Wimplicit-function-declaration -Wno-unused-parameter -Wno-missing-field-initializers -g -I../include -I/home/mockbuild/scst/iscsi-scst/../scst/include -D_GNU_SOURCE  md5.c<br />cc -c -o sha1.o -O2 -fno-inline -Wall -Wextra -Wstrict-prototypes -Wno-sign-compare -Wimplicit-function-declaration -Wno-unused-parameter -Wno-missing-field-initializers -g -I../include -I/home/mockbuild/scst/iscsi-scst/../scst/include -D_GNU_SOURCE  sha1.c<br />cc iscsid.o iscsi_scstd.o conn.o session.o target.o message.o ctldev.o log.o chap.o event.o param.o config.o isns.o md5.o sha1.o   -o iscsi-scstd<br />cc -M -O2 -fno-inline -Wall -Wextra -Wstrict-prototypes -Wno-sign-compare -Wimplicit-function-declaration -Wno-unused-parameter -Wno-missing-field-initializers -g -I../include -I/home/mockbuild/scst/iscsi-scst/../scst/include -D_GNU_SOURCE  iscsi_adm.c param.c &gt;.depend_adm<br />cc -c -o iscsi_adm.o -O2 -fno-inline -Wall -Wextra -Wstrict-prototypes -Wno-sign-compare -Wimplicit-function-declaration -Wno-unused-parameter -Wno-missing-field-initializers -g -I../include -I/home/mockbuild/scst/iscsi-scst/../scst/include -D_GNU_SOURCE  iscsi_adm.c<br />cc iscsi_adm.o param.o   -o iscsi-scst-adm<br />make[2]: Leaving directory `/home/mockbuild/scst/iscsi-scst/usr'<br />cp /home/mockbuild/scst/iscsi-scst/../scst/src/Module.symvers kernel/<br />make -C /lib/modules/3.8.13-16.2.1.el6uek.x86_64/build SCST_INC_DIR=/home/mockbuild/scst/iscsi-scst/../scst/include SUBDIRS=/home/mockbuild/scst/iscsi-scst/kernel modules<br />make[2]: Entering directory `/home/mockbuild/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek'<br />  CC [M]  /home/mockbuild/scst/iscsi-scst/kernel/iscsi.o<br />  CC [M]  /home/mockbuild/scst/iscsi-scst/kernel/nthread.o<br />  CC [M]  /home/mockbuild/scst/iscsi-scst/kernel/config.o<br />  CC [M]  /home/mockbuild/scst/iscsi-scst/kernel/digest.o<br />  CC [M]  /home/mockbuild/scst/iscsi-scst/kernel/conn.o<br />  CC [M]  /home/mockbuild/scst/iscsi-scst/kernel/session.o<br />  CC [M]  /home/mockbuild/scst/iscsi-scst/kernel/target.o<br />  CC [M]  /home/mockbuild/scst/iscsi-scst/kernel/event.o<br />  CC [M]  /home/mockbuild/scst/iscsi-scst/kernel/param.o<br />  LD [M]  /home/mockbuild/scst/iscsi-scst/kernel/iscsi-scst.o<br />  Building modules, stage 2.<br />  MODPOST 1 modules<br />  CC      /home/mockbuild/scst/iscsi-scst/kernel/iscsi-scst.mod.o<br />  CTF<br />  LD [M]  /home/mockbuild/scst/iscsi-scst/kernel/iscsi-scst.ko<br />make[2]: Leaving directory `/home/mockbuild/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek'<br />make[1]: Leaving directory `/home/mockbuild/scst/iscsi-scst'<br />cd iscsi-scst &amp;&amp; make DESTDIR= install<br />make[1]: Entering directory `/home/mockbuild/scst/iscsi-scst'<br />make -C usr SCST_INC_DIR=/home/mockbuild/scst/iscsi-scst/../scst/include<br />make[2]: Entering directory `/home/mockbuild/scst/iscsi-scst/usr'<br />make[2]: Nothing to be done for `all'.<br />make[2]: Leaving directory `/home/mockbuild/scst/iscsi-scst/usr'<br />cp /home/mockbuild/scst/iscsi-scst/../scst/src/Module.symvers kernel/<br />make -C /lib/modules/3.8.13-16.2.1.el6uek.x86_64/build SCST_INC_DIR=/home/mockbuild/scst/iscsi-scst/../scst/include SUBDIRS=/home/mockbuild/scst/iscsi-scst/kernel modules<br />make[2]: Entering directory `/home/mockbuild/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek'<br />  Building modules, stage 2.<br />  MODPOST 1 modules<br />make[2]: Leaving directory `/home/mockbuild/rpmbuild/BUILD/kernel-3.8.13/linux-3.8.13-16.2.1.el6uek'<br />removed `/usr/local/sbin/iscsi-scstd'<br />`usr/iscsi-scstd' -&gt; `/usr/local/sbin/iscsi-scstd'<br />removed `/usr/local/man/man5/iscsi-scstd.conf.5'<br />`doc/manpages/iscsi-scstd.conf.5' -&gt; `/usr/local/man/man5/iscsi-scstd.conf.5'<br />removed `/usr/local/man/man8/iscsi-scstd.8'<br />`doc/manpages/iscsi-scstd.8' -&gt; `/usr/local/man/man8/iscsi-scstd.8'<br />removed `/usr/local/sbin/iscsi-scst-adm'<br />`usr/iscsi-scst-adm' -&gt; `/usr/local/sbin/iscsi-scst-adm'<br />removed `/usr/local/man/man8/iscsi-scst-adm.8'<br />`doc/manpages/iscsi-scst-adm.8' -&gt; `/usr/local/man/man8/iscsi-scst-adm.8'<br />`kernel/iscsi-scst.ko' -&gt; `/lib/modules/3.8.13-16.2.1.el6uek.x86_64/extra/iscsi-scst.ko'<br />/sbin/depmod -aq 3.8.13-16.2.1.el6uek.x86_64<br />make[1]: Leaving directory `/home/mockbuild/scst/iscsi-scst'<br />[root@oracle651 scst]# </code><code><br /><br /></code></font></div></font><br /><font size="3"><span style="font:7.0pt 'Times New Roman'"> </span>Finally, issue “make scstadm scstadm_install” as well. This finalizes the compiling part.  Do this as root.  Commands and expected output are shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><br /><code>[root@oracle651 scst]# make scstadm scstadm_install | tee /home/mockbuild/scstadm.log<br />cd scstadmin &amp;&amp; make all<br />make[1]: Entering directory `/home/mockbuild/scst/scstadmin'<br />cd scstadmin &amp;&amp; make all<br />make[2]: Entering directory `/home/mockbuild/scst/scstadmin/scstadmin.sysfs'<br />Checking if your kit is complete...<br />Looks good<br />Writing Makefile for SCST-SCST<br />make -C scst-0.9.10<br />make[3]: Entering directory `/home/mockbuild/scst/scstadmin/scstadmin.sysfs/scst-0.9.10'<br />cp lib/SCST/SCST.pm blib/lib/SCST/SCST.pm<br />Manifying blib/man3/SCST::SCST.3pm<br />make[3]: Leaving directory `/home/mockbuild/scst/scstadmin/scstadmin.sysfs/scst-0.9.10'<br />make[2]: Leaving directory `/home/mockbuild/scst/scstadmin/scstadmin.sysfs'<br />make[1]: Leaving directory `/home/mockbuild/scst/scstadmin'<br />cd scstadmin &amp;&amp; make install<br />make[1]: Entering directory `/home/mockbuild/scst/scstadmin'<br />cd scstadmin &amp;&amp; make install<br />make[2]: Entering directory `/home/mockbuild/scst/scstadmin/scstadmin.sysfs'<br />Writing Makefile for SCST-SCST<br />make -C scst-0.9.10<br />make[3]: Entering directory `/home/mockbuild/scst/scstadmin/scstadmin.sysfs/scst-0.9.10'<br />Skip blib/lib/SCST/SCST.pm (unchanged)<br />Manifying blib/man3/SCST::SCST.3pm<br />make[3]: Leaving directory `/home/mockbuild/scst/scstadmin/scstadmin.sysfs/scst-0.9.10'<br />make -C scst-0.9.10 install DESTDIR=<br />make[3]: Entering directory `/home/mockbuild/scst/scstadmin/scstadmin.sysfs/scst-0.9.10'<br />Manifying blib/man3/SCST::SCST.3pm<br />Installing /usr/local/share/man/man3/SCST::SCST.3pm<br />Appending installation info to /usr/lib64/perl5/perllocal.pod<br />make[3]: Leaving directory `/home/mockbuild/scst/scstadmin/scstadmin.sysfs/scst-0.9.10'<br />install -d /usr/local/sbin<br />install -m 755 scstadmin /usr/local/sbin<br />make[2]: Leaving directory `/home/mockbuild/scst/scstadmin/scstadmin.sysfs'<br />for m in scstadmin/man*/*.[1-9]; do                \<br />      if [ -e $m ]; then                        \<br />        d=/usr/local/man/$(basename $(dirname $m));            \<br />        if install -d $d; then                    \<br />          install -m 644 $m $d;                    \<br />        fi                                \<br />      fi                                \<br />    done<br />install -d /etc/init.d<br />tmp=/tmp/scst-initd-$$ &amp;&amp; init.d/scst &gt;$tmp &amp;&amp;               \<br />      install -m 755 $tmp /etc/init.d/scst &amp;&amp;             \<br />      rm -f $tmp<br />if [ ! -e  /etc/default/scst ]; then        \<br />      mkdir -p /etc/default;            \<br />      install -m 755 default/scst /etc/default;    \<br />    fi<br />for s in iscsi-scst qla2x00t; do            \<br />      { if [ -n "" ]; then chr="chroot "; else chr=""; fi; if type systemctl &gt;/dev/null 2&gt;&amp;1; then $chr systemctl disable "$s.service"; elif type chkconfig &gt;/dev/null 2&gt;&amp;1; then $chr chkconfig --del "$s"; elif type update-rc.d &gt;/dev/null 2&gt;&amp;1; then $chr update-rc.d -f "$s" remove; elif type rc-update &gt;/dev/null 2&gt;&amp;1; then $chr rc-update del "$s"; elif type /usr/lib/lsb/remove_initd &gt;/dev/null 2&gt;&amp;1; then $chr /usr/lib/lsb/remove_initd "$s"; fi; rm -f /etc/init.d/$s; } &gt;/dev/null 2&gt;&amp;1;        \<br />    done<br />echo<br /><br />echo 'If you want SCST to start automatically at boot time, run'  \<br />         'the following command:'<br />If you want SCST to start automatically at boot time, run the following command:<br />if [ -n "" ]; then chr="chroot "; else chr=""; fi; if type systemctl &gt;/dev/null 2&gt;&amp;1; then echo $chr systemctl enable "scst.service"; elif type chkconfig &gt;/dev/null 2&gt;&amp;1; then echo $chr chkconfig --add "scst"; elif type update-rc.d &gt;/dev/null 2&gt;&amp;1; then echo $chr update-rc.d "scst" defaults; elif type rc-update &gt;/dev/null 2&gt;&amp;1; then echo $chr rc-update add "scst" default; elif type /usr/lib/lsb/install_initd &gt;/dev/null 2&gt;&amp;1; then echo $chr /usr/lib/lsb/install_initd "scst"; fi<br />chkconfig --add scst<br />echo<br /><br />make[1]: Leaving directory `/home/mockbuild/scst/scstadmin'<br />[root@oracle651 scst]# <br /></code></font></div><br /></font></div><div><font size="3">Now set SCST to start on boot.  Do this as root.  Commands and expected output are shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 scst]# /usr/lib/lsb/install_initd scst</code><br /><code>[root@oracle651 scst]# </code></font></div><br /></font></div><div><font size="3">Now test start SCST manually.  There is no configuration file yet for SCST, so it will give a warning as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 scst]# service scst start</code><br /><code>Loading and configuring SCSTSCST configuration file /etc/scst.conf missing</code><br /><code>                                                           [  OK  ]</code><br /><code>[root@oracle651 scst]# </code></font></div><br /></font></div><div><font size="3">Now lock down the kernel so that the custom kernel just built will not be updated.  This requires updated the /etc/yum.conf file as shown below.  The line that needs  to be added is shown in bold below "exclude=kernel*".  This prevents the kernel from being updated.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 yum.repos.d]# cat /etc/yum.conf</code><br /><code>[main]</code><br /><code>cachedir=/var/cache/yum/$basearch/$releasever</code><br /><code>keepcache=0</code><br /><code>debuglevel=2</code><br /><code>logfile=/var/log/yum.log</code><br /><code>exactarch=1</code><br /><code>obsoletes=1</code><br /><code>gpgcheck=1</code><br /><code>plugins=1</code><br /><code>installonly_limit=3</code><br /><b><code>exclude=kernel*</code></b><br /><br /><code>#  This is the default, if you make this bigger yum won't see if the metadata</code><br /><code># is newer on the remote and so you'll "gain" the bandwidth of not having to</code><br /><code># download the new metadata and "pay" for it by yum not having correct</code><br /><code># information.</code><br /><code>#  It is esp. important, to have correct metadata, for distributions like</code><br /><code># Fedora which don't keep old packages around. If you don't like this checking</code><br /><code># interupting your command line usage, it's much better to have something</code><br /><code># manually check the metadata once an hour (yum-updatesd will do this).</code><br /><code># metadata_expire=90m</code><br /><br /><code># PUT YOUR REPOS HERE OR IN separate files named file.repo</code><br /><code># in /etc/yum.repos.d</code><br /><code>[root@oracle651 yum.repos.d]# </code></font></div><br /></font></div><div><font size="3">Reboot and verify that SCST starts up automatically and that all targets, groups, and LUNs are active as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 ~]# uname -a</code><br /><code>Linux oracle651.vmem.org 3.8.13-16.2.1.el6uek.x86_64 #1 SMP Sun Aug 24 11:05:09 CDT 2014 x86_64 x86_64 x86_64 GNU/Linux</code><br /><code>[root@oracle651 ~]# service scst status</code><br /><code>SCST status: OK</code><br /><code>[root@oracle651 ~]# ps -ef | grep scst</code><br /><code>root      1811     2  1 11:35 ?        00:00:00 [scst_uid]</code><br /><code>root      1814     2  0 11:35 ?        00:00:00 [scstd0]</code><br /><code>root      1815     2  0 11:35 ?        00:00:00 [scstd1]</code><br /><code>root      1816     2  0 11:35 ?        00:00:00 [scstd2]</code><br /><code>root      1817     2  0 11:35 ?        00:00:00 [scstd3]</code><br /><code>root      1818     2  0 11:35 ?        00:00:00 [scstd4]</code><br /><code>root      1819     2  0 11:35 ?        00:00:00 [scstd5]</code><br /><code>root      1820     2  0 11:35 ?        00:00:00 [scstd6]</code><br /><code>root      1821     2  0 11:35 ?        00:00:00 [scstd7]</code><br /><code>root      1822     2  0 11:35 ?        00:00:00 [scst_initd]</code><br /><code>root      1824     2  0 11:35 ?        00:00:00 [scst_mgmtd]</code><br /><code>root      1873     1  0 11:35 ?        00:00:00 /usr/local/sbin/iscsi-scstd</code><br /><code>root      2532  2489  0 11:36 pts/0    00:00:00 grep scst</code><br /><br /><code>[root@oracle651 ~]# scstadmin -list_group</code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><code>Driver: iscsi</code><br /><code>Target: iqn.2014-08.org.vmem:oracle651.san.asm.luns</code><br /><br /><code>Driver/target 'iscsi/iqn.2014-08.org.vmem:oracle651.san.asm.luns' has no associated LUNs.</code><br /><br /><code>Group: oracle631</code><br /><br /><code>Assigned LUNs:</code><br /><br /><code>    LUN  Device      </code><br /><code>    -----------------</code><br /><code>    0    AsmSys631_01</code><br /><code>    1    AsmDat631_01</code><br /><code>    10   AsmRec631_02</code><br /><code>    11   AsmRec631_03</code><br /><code>    12   AsmRec631_04</code><br /><code>    13   AsmRec631_05</code><br /><code>    14   AsmRec631_06</code><br /><code>    15   AsmRec631_07</code><br /><code>    16   AsmRec631_08</code><br /><code>    2    AsmDat631_02</code><br /><code>    20   AsmSlb631_01</code><br /><code>    21   AsmSlb631_02</code><br /><code>    22   AsmSlb631_03</code><br /><code>    23   AsmSlb631_04</code><br /><code>    24   AsmSlb631_05</code><br /><code>    25   AsmSlb631_06</code><br /><code>    26   AsmSlb631_07</code><br /><code>    27   AsmSlb631_08</code><br /><code>    3    AsmDat631_03</code><br /><code>    4    AsmDat631_04</code><br /><code>    5    AsmDat631_05</code><br /><code>    6    AsmDat631_06</code><br /><code>    7    AsmDat631_07</code><br /><code>    8    AsmDat631_08</code><br /><code>    9    AsmRec631_01</code><br /><br /><code>Assigned Initiators:</code><br /><br /><code>    Initiator</code><br /><code>    ----------------------------------</code><br /><code>    iqn.2014-08.org.vmem:oracle631.asm</code><br /><br /><br /><code>Group: oracle632</code><br /><br /><code>Assigned LUNs:</code><br /><br /><code>    LUN  Device      </code><br /><code>    -----------------</code><br /><code>    0    AsmSys632_01</code><br /><code>    1    AsmDat632_01</code><br /><code>    10   AsmRec632_02</code><br /><code>    11   AsmRec632_03</code><br /><code>    12   AsmRec632_04</code><br /><code>    13   AsmRec632_05</code><br /><code>    14   AsmRec632_06</code><br /><code>    15   AsmRec632_07</code><br /><code>    16   AsmRec632_08</code><br /><code>    17   AsmTmp632_01</code><br /><code>    18   AsmTmp632_02</code><br /><code>    19   AsmTmp632_03</code><br /><code>    2    AsmDat632_02</code><br /><code>    20   AsmTmp632_04</code><br /><code>    21   AsmTmp632_05</code><br /><code>    22   AsmTmp632_06</code><br /><code>    23   AsmTmp632_07</code><br /><code>    24   AsmTmp632_08</code><br /><code>    25   AsmSlb632_01</code><br /><code>    26   AsmSlb632_02</code><br /><code>    27   AsmSlb632_03</code><br /><code>    28   AsmSlb632_04</code><br /><code>    29   AsmSlb632_05</code><br /><code>    3    AsmDat632_03</code><br /><code>    30   AsmSlb632_06</code><br /><code>    31   AsmSlb632_07</code><br /><code>    32   AsmSlb632_08</code><br /><code>    4    AsmDat632_04</code><br /><code>    5    AsmDat632_05</code><br /><code>    6    AsmDat632_06</code><br /><code>    7    AsmDat632_07</code><br /><code>    8    AsmDat632_08</code><br /><code>    9    AsmRec632_01</code><br /><br /><code>Assigned Initiators:</code><br /><br /><code>    Initiator</code><br /><code>    ----------------------------------</code><br /><code>    iqn.2014-08.org.vmem:oracle632.asm</code><br /><br /><br /><br /><code>All done.</code><br /><code>[root@oracle651 ~]# </code></font></div></font></div><div><h3><a name="TOC-Configure-DTrace"></a>Configure DTrace</h3><p><font size="3">In ULN, enable the required repos as shown in the screenshot below. Save the ULN subscriptions.  <br /></font></p><p><font size="3">Perform a yum update as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>gstanden@vmem1:~$ ssh root@10.207.39.74</code><br /><code>root@10.207.39.74's password: </code><br /><code>Last login: Sat Aug 23 17:47:51 2014</code><br /><code>[root@oracle651 ~]# clear</code><br /><code>[root@oracle651 ~]# yum update</code><br /><code>Loaded plugins: refresh-packagekit, rhnplugin, security</code><br /><code>This system is receiving updates from ULN.</code><br /><code>ol6_x86_64_Dtrace_BETA                                                                                                                             | 1.2 kB     00:00     </code><br /><code>ol6_x86_64_Dtrace_BETA/primary                                                                                                                     | 1.1 MB     00:01     </code><br /><code>ol6_x86_64_Dtrace_BETA                                                                                                                                              45/45</code><br /><code>ol6_x86_64_Dtrace_latest                                                                                                                           | 1.2 kB     00:00     </code><br /><code>ol6_x86_64_Dtrace_userspace_latest                                                                                                                 | 1.2 kB     00:00     </code><br /><code>ol6_x86_64_Dtrace_userspace_latest/primary                                                                                                         | 2.0 kB     00:00     </code><br /><code>ol6_x86_64_Dtrace_userspace_latest                                                                                                                                    8/8</code><br /><code>ol6_x86_64_UEKR3_latest                                                                                                                            | 1.2 kB     00:00     </code><br /><code>ol6_x86_64_ksplice                                                                                                                                 | 1.2 kB     00:00     </code><br /><code>ol6_x86_64_latest                                                                                                                                  | 1.4 kB     00:00     </code><br /><code>Setting up Update Process</code><br /><code>Resolving Dependencies</code><br /><code>--&gt; Running transaction check</code><br /><code>---&gt; Package dtrace-utils.x86_64 0:0.3.2-1.el6 will be updated</code><br /><code>---&gt; Package dtrace-utils.x86_64 0:0.4.4-2.el6 will be an update</code><br /><code>--&gt; Processing Dependency: dtrace-modules-headers for package: dtrace-utils-0.4.4-2.el6.x86_64</code><br /><code>---&gt; Package glibc.i686 0:2.12-1.132.el6_5.2 will be updated</code><br /><code>---&gt; Package glibc.x86_64 0:2.12-1.132.el6_5.2 will be updated</code><br /><code>---&gt; Package glibc.i686 0:2.12-1.132.el6_5.3 will be an update</code><br /><code>---&gt; Package glibc.x86_64 0:2.12-1.132.el6_5.3 will be an update</code><br /><code>---&gt; Package glibc-common.x86_64 0:2.12-1.132.el6_5.2 will be updated</code><br /><code>---&gt; Package glibc-common.x86_64 0:2.12-1.132.el6_5.3 will be an update</code><br /><code>---&gt; Package glibc-devel.x86_64 0:2.12-1.132.el6_5.2 will be updated</code><br /><code>---&gt; Package glibc-devel.x86_64 0:2.12-1.132.el6_5.3 will be an update</code><br /><code>---&gt; Package glibc-headers.x86_64 0:2.12-1.132.el6_5.2 will be updated</code><br /><code>---&gt; Package glibc-headers.x86_64 0:2.12-1.132.el6_5.3 will be an update</code><br /><code>---&gt; Package grubby.x86_64 0:7.0.15-5.0.2.el6 will be updated</code><br /><code>---&gt; Package grubby.x86_64 0:7.0.15-5.0.4.el6 will be an update</code><br /><code>---&gt; Package hwloc.x86_64 0:1.5-1.el6 will be updated</code><br /><code>---&gt; Package hwloc.x86_64 0:1.5-2.el6_5 will be an update</code><br /><code>---&gt; Package openssl.x86_64 0:1.0.1e-16.el6_5.14 will be updated</code><br /><code>---&gt; Package openssl.x86_64 0:1.0.1e-16.el6_5.15 will be an update</code><br /><code>---&gt; Package openssl-devel.x86_64 0:1.0.1e-16.el6_5.14 will be updated</code><br /><code>---&gt; Package openssl-devel.x86_64 0:1.0.1e-16.el6_5.15 will be an update</code><br /><code>--&gt; Running transaction check</code><br /><code>---&gt; Package dtrace-modules-3.8.13-16.2.1.el6uek-headers.x86_64 0:0.4.1-3.el6 will be installed</code><br /><code>--&gt; Finished Dependency Resolution</code><br /><br /><code>Dependencies Resolved</code><br /><br /><code>==========================================================================================================================================================================</code><br /><code> Package                                                   Arch                 Version                            Repository                                        Size</code><br /><code>==========================================================================================================================================================================</code><br /><code>Updating:</code><br /><code> dtrace-utils                                              x86_64               0.4.4-2.el6                        ol6_x86_64_Dtrace_userspace_latest               262 k</code><br /><code> glibc                                                     i686                 2.12-1.132.el6_5.3                 ol6_x86_64_latest                                4.3 M</code><br /><code> glibc                                                     x86_64               2.12-1.132.el6_5.3                 ol6_x86_64_latest                                3.8 M</code><br /><code> glibc-common                                              x86_64               2.12-1.132.el6_5.3                 ol6_x86_64_latest                                 14 M</code><br /><code> glibc-devel                                               x86_64               2.12-1.132.el6_5.3                 ol6_x86_64_latest                                977 k</code><br /><code> glibc-headers                                             x86_64               2.12-1.132.el6_5.3                 ol6_x86_64_latest                                608 k</code><br /><code> grubby                                                    x86_64               7.0.15-5.0.4.el6                   ol6_x86_64_latest                                 43 k</code><br /><code> hwloc                                                     x86_64               1.5-2.el6_5                        ol6_x86_64_latest                                1.4 M</code><br /><code> openssl                                                   x86_64               1.0.1e-16.el6_5.15                 ol6_x86_64_latest                                1.5 M</code><br /><code> openssl-devel                                             x86_64               1.0.1e-16.el6_5.15                 ol6_x86_64_latest                                1.2 M</code><br /><code>Installing for dependencies:</code><br /><code> dtrace-modules-3.8.13-16.2.1.el6uek-headers               x86_64               0.4.1-3.el6                        ol6_x86_64_UEKR3_latest                           27 k</code><br /><br /><code>Transaction Summary</code><br /><code>==========================================================================================================================================================================</code><br /><code>Install       1 Package(s)</code><br /><code>Upgrade      10 Package(s)</code><br /><br /><code>Total download size: 28 M</code><br /><code>Is this ok [y/N]: </code></font></font></div><p><font size="3">Confirm yes and install the updates.  The successful completion message is shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><p><font size="4"><code>Dependency Installed:</code><br /><code>  dtrace-modules-3.8.13-16.2.1.el6uek-headers.x86_64 0:0.4.1-3.el6                                                                                                        </code><br /><br /><code>Updated:</code><br /><code>  dtrace-utils.x86_64 0:0.4.4-2.el6          glibc.i686 0:2.12-1.132.el6_5.3              glibc.x86_64 0:2.12-1.132.el6_5.3    glibc-common.x86_64 0:2.12-1.132.el6_5.3   </code><br /><code>  glibc-devel.x86_64 0:2.12-1.132.el6_5.3    glibc-headers.x86_64 0:2.12-1.132.el6_5.3    grubby.x86_64 0:7.0.15-5.0.4.el6     hwloc.x86_64 0:1.5-2.el6_5                 </code><br /><code>  openssl.x86_64 0:1.0.1e-16.el6_5.15        openssl-devel.x86_64 0:1.0.1e-16.el6_5.15   </code><br /><br /><code>Complete!</code><br /><code>[root@oracle651 ~]# </code></font></p></div><br /><br /><font size="3">All that remains now is to reboot and test that it starts.  Also, a configuration file must be created, which will be the next step.   There was not a lot of documentation on the web about how to create a iSCSI SAN with SCST but I found a couple of very helpful posts <a href="http://temporalsolutions.com/linux-ha/scst-setup/scst-manual-test/" target="_blank" rel="nofollow">here</a> and <a href="http://scst.sourceforge.net/SCST_Gentoo_HOWTO.txt" target="_blank" rel="nofollow">here</a>.  <br /><br /></font></div><div><font size="3">Configuration of a simple 4K flash-aware SCST iSCSI SAN as shown below on the oracle651 KVM guest.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 ~]# modprobe scst </code><br /><code>[root@oracle651 ~]# modprobe scst_vdisk</code><br /><code>[root@oracle651 ~]# modprobe iscsi-scst</code><br /><code>[root@oracle651 ~]# scstadmin -add_target iqn.2014-08.oracle.asm.storage:luns -driver iscsi</code><br /><code>[root@oracle651 ~]# scstadmin -open_dev disk0 -handler vdisk_blockio -attributes filename=/dev/vdc,blocksize=4096</code><br /><code>[root@oracle651 ~]# scstadmin -open_dev disk1 -handler vdisk_blockio -attributes filename=/dev/vdb</code><br /><code>[root@oracle651 ~]# scstadmin -add_lun 0 -driver iscsi -target iqn.2014-08.oracle.asm.storage:luns -device disk0</code><br /><code>[root@oracle651 ~]# scstadmin -add_lun 1 -driver iscsi -target iqn.2014-08.oracle.asm.storage:luns -device disk1</code><br /><code>[root@oracle651 ~]# scstadmin -enable_target iqn.2014-08.oracle.asm.storage:luns -driver iscs</code><br /><code>[root@oracle651 ~]# scstadmin -set_drv_attr iscsi -attributes enabled=1</code><br /><code>[root@oracle651 ~]# scstadmin -write_config /etc/scst.conf</code></font></div><br /></font></div><div><font size="3">The /etc/scst.conf file generated by the above command is shown below.  Notice the "blocksize 4096" parameter which can be used.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 ~]# cat /etc/scst.conf</code><br /><code># Automatically generated by SCST Configurator v2.2.1.</code><br /><br /><br /><code>HANDLER vdisk_blockio {</code><br /><code>    DEVICE disk0 {</code><br /><code>        blocksize 4096</code><br /><code>        filename /dev/vdc</code><br /><code>    }</code><br /><br /><code>    DEVICE disk1 {</code><br /><code>        filename /dev/vdb</code><br /><code>    }</code><br /><code>}</code><br /><br /><code>TARGET_DRIVER iscsi {</code><br /><code>    enabled 1</code><br /><br /><code>    TARGET iqn.2014-08.oracle.asm.storage:luns {</code><br /><code>        cpu_mask 3</code><br /><code>        enabled 1</code><br /><code>        rel_tgt_id 1</code><br /><br /><code>        LUN 0 disk0</code><br /><code>        LUN 1 disk1</code><br /><code>    }</code><br /><code>}</code><br /><br /><code>[root@oracle651 ~]# cat /etc/sysconfig/selinux</code></font></div><br />In order to get the initiator over on the iSCSI client on oracle631 KVM guest to see the portal, stop iptables and disable it on reboot as shown below and also disable selinux as shown below and turn off iptables on the iSCSI SAN host.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 ~]# cat /etc/sysconfig/selinux</code><br /><br /><code># This file controls the state of SELinux on the system.</code><br /><code># SELINUX= can take one of these three values:</code><br /><code>#     enforcing - SELinux security policy is enforced.</code><br /><code>#     permissive - SELinux prints warnings instead of enforcing.</code><br /><code>#     disabled - No SELinux policy is loaded.</code><br /><code>SELINUX=disabled</code><br /><code># SELINUXTYPE= can take one of these two values:</code><br /><code>#     targeted - Targeted processes are protected,</code><br /><code>#     mls - Multi Level Security protection.</code><br /><code>SELINUXTYPE=targeted </code><br /><br /><code>[root@oracle651 ~]# </code><code>service iptables stop</code><br /><code>[root@oracle651 ~]# chkconfig iptables off<br /></code></font></div><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 ~]# reboot<br /></code></font></div></font></div><div><font size="3"><br /></font></div><div><font size="3">Finally, use iscsiadm on the oracle631 KVM guest to discover and configure the access to the SCST SAN on oracle651 KVM guest.  The iscsi-initiator utils are installed as shown below, and then the connection to the SAN is configured as shown.<br /></font><br /><font size="3"><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code><code>[root@oracle631 ~]# yum install iscsi-initiator-utils<br /></code>[root@oracle631 ~]# iscsiadm --mode discovery --type sendtargets --portal 10.207.39.74<br /></code><code>10.207.39.74:3260,1 iqn.2014-08.oracle.asm.storage:luns</code><br /><br /><code>[root@oracle631 ~]# iscsiadm -m node -T iqn.2014-08.oracle.asm.storage:luns -p 10.207.39.74 --op update -n node.startup -v automatic</code><br /><code><br /></code><code>[root@oracle631 ~]# iscsiadm --mode node --targetname iqn.2014-08.oracle.asm.storage:luns --portal 10.207.39.74 --login</code><br /><code>Logging in to [iface: default, target: iqn.2014-08.oracle.asm.storage:luns, portal: 10.207.39.74,3260] (multiple)</code><br /><code>Login to [iface: default, target: iqn.2014-08.oracle.asm.storage:luns, portal: 10.207.39.74,3260] successful.</code><br /><code><br />[root@oracle631 ~]# </code></font></div><br /></font></div><div><font size="3">Here are the LUNs over on the client side and show of their characteristics on oracle631 host as shown below.  One very interesting and intriguing feature is that SCST sees the 512 emulated LUN on oracle631 KVM guest (the client) for what it really is i.e (512 logical / 4096 physical) even though the virtual disk on the oracle651 KVM guest (the SAN) sees that LUN as (512 logical / 512 physical), as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle631 ~]# ls -lrt /dev/sd*</code><br /><br /><code>brw-rw---- 1 root disk 8,  0 Aug 11 20:11 /dev/sda</code><br /><code>brw-rw---- 1 root disk 8, 16 Aug 11 20:11 /dev/sdb</code><br /><br /><code>[root@oracle631 ~]# scsi_id -g -u -d /dev/sda</code><br /><code>26162356632353435</code><br /><br /><code>[root@oracle631 ~]# scsi_id -g -u -d /dev/sdb</code><br /><code>26238666462643332</code><br /><br /><code>[root@oracle631 ~]# fdisk -l /dev/sda</code><br /><code>Note: sector size is 4096 (not 512)</code><br /><br /><code>Disk /dev/sda: 10.7 GB, 10737418240 bytes</code><br /><code>64 heads, 32 sectors/track, 1280 cylinders</code><br /><code>Units = cylinders of 2048 * 4096 = 8388608 bytes</code><br /><b><code>Sector size (logical/physical): 4096 bytes / 4096 bytes</code></b><br /><code>I/O size (minimum/optimal): 4096 bytes / 524288 bytes</code><br /><code>Disk identifier: 0x00000000</code><br /><br /><code>[root@oracle631 ~]# fdisk -l /dev/sdb</code><br /><br /><code>Disk /dev/sdb: 10.7 GB, 10737418240 bytes</code><br /><code>64 heads, 32 sectors/track, 10240 cylinders</code><br /><code>Units = cylinders of 2048 * 512 = 1048576 bytes</code><br /><b><code>Sector size (logical/physical): 512 bytes / 4096 bytes    &lt;-- Notice</code></b>  <br /><code>I/O size (minimum/optimal): 4096 bytes / 524288 bytes</code><br /><code>Disk identifier: 0x00000000</code><br /><br /><code>[root@oracle631 ~]# </code></font></div><br /></font></div><div><font size="3"> Here are the properties of the same LUNs over on the SAN oracle651 as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 ~]# cat /etc/scst.conf</code><br /><code># Automatically generated by SCST Configurator v2.2.1.</code><br /><br /><br /><code>HANDLER vdisk_blockio {</code><br /><code>    DEVICE disk0 {</code><br /><code>        blocksize 4096</code><br /><code>        filename /dev/vdc</code><br /><code>    }</code><br /><br /><code>    DEVICE disk1 {</code><br /><code>        filename /dev/vdb</code><br /><code>    }</code><br /><code>}</code><br /><br /><code>TARGET_DRIVER iscsi {</code><br /><code>    enabled 1</code><br /><br /><code>    TARGET iqn.2014-08.oracle.asm.storage:luns {</code><br /><code>        cpu_mask 3</code><br /><code>        enabled 1</code><br /><code>        rel_tgt_id 1</code><br /><br /><code>        LUN 0 disk0</code><br /><code>        LUN 1 disk1</code><br /><code>    }</code><br /><code>}</code><br /><br /><code>[root@oracle651 ~]# fdisk -l /dev/vdc</code><br /><code>Note: sector size is 4096 (not 512)</code><br /><br /><code>Disk /dev/vdc: 10.7 GB, 10737418240 bytes</code><br /><code>16 heads, 56 sectors/track, 2925 cylinders</code><br /><code>Units = cylinders of 896 * 4096 = 3670016 bytes</code><br /><b><code>Sector size (logical/physical): 4096 bytes / 4096 bytes</code></b><br /><code>I/O size (minimum/optimal): 4096 bytes / 4096 bytes</code><br /><code>Disk identifier: 0x00000000</code><br /><br /><code>[root@oracle651 ~]# fdisk -l /dev/vdb</code><br /><br /><code>Disk /dev/vdb: 10.7 GB, 10737418240 bytes</code><br /><code>16 heads, 63 sectors/track, 20805 cylinders</code><br /><code>Units = cylinders of 1008 * 512 = 516096 bytes</code><br /><b><code>Sector size (logical/physical): 512 bytes / 512 bytes    &lt;-- Notice</code></b><br /><code>I/O size (minimum/optimal): 512 bytes / 512 bytes</code><br /><code>Disk identifier: 0x00000000</code><br /><br /><code>[root@oracle651 ~]# </code></font></div><br /></font></div><div><font size="3">Recall that the blocksize defaults in KVM to (logical/physical) 512 bytes / 512 bytes unless it is set otherwise in the XML file of the KVM guest, as shown below i the XML file that defines oracle651 the KVM guest which is the SAN provider.  Looking at the end of the XML file at bottom it can be seen that only disk2 has been set to specified blocksizes.  Therefore, disk1 is presented to the KVM guest oracle651 as a 512 bytes / 512 bytes LUN by default.  Thus it is surprising that SCST sees it for what it is 'physically' which is a LUN sitting on a consumer-grade SSD (Crucial M550) and flash always uses 4096 byte physical sectors, and 512 byte logical emulation.  The LUN as seen by oracle631 the iscsi client sees it as what it 'really' is, 512 bytes / 4096 bytes (logical/physical).  More investigation is warranted to understand this better, but it would seem that SCST is ignoring the KVM setting and reading the storage itself, and that the blocksize setting in the SCST configuration file refers to the logical block size, and thus set the logical block size of the other LUN to 4096 bytes (the LUN that was presented by KVM on oracle631 as (logical/physical) 4096 bytes / 4096 bytes.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ virsh dumpxml oracle651</code><br /><code>&lt;domain type='kvm' id='6' xmlns:qemu='http://libvirt.org/schemas/domain/qemu/1.0'&gt;</code><br /><code>  &lt;name&gt;oracle651&lt;/name&gt;</code><br /><code>  &lt;uuid&gt;9a017de6-d362-4269-90fe-09331460aca0&lt;/uuid&gt;</code><br /><code>  &lt;memory unit='KiB'&gt;1048576&lt;/memory&gt;</code><br /><code>  &lt;currentMemory unit='KiB'&gt;1048576&lt;/currentMemory&gt;</code><br /><code>  &lt;vcpu placement='static'&gt;2&lt;/vcpu&gt;</code><br /><code>  &lt;resource&gt;</code><br /><code>    &lt;partition&gt;/machine&lt;/partition&gt;</code><br /><code>  &lt;/resource&gt;</code><br /><code>  &lt;os&gt;</code><br /><code>    &lt;type arch='x86_64' machine='pc-i440fx-trusty'&gt;hvm&lt;/type&gt;</code><br /><code>    &lt;boot dev='hd'/&gt;</code><br /><code>    &lt;boot dev='cdrom'/&gt;</code><br /><code>    &lt;bootmenu enable='yes'/&gt;</code><br /><code>  &lt;/os&gt;</code><br /><code>  &lt;features&gt;</code><br /><code>    &lt;acpi/&gt;</code><br /><code>    &lt;apic/&gt;</code><br /><code>    &lt;pae/&gt;</code><br /><code>  &lt;/features&gt;</code><br /><code>  &lt;clock offset='utc'/&gt;</code><br /><code>  &lt;on_poweroff&gt;destroy&lt;/on_poweroff&gt;</code><br /><code>  &lt;on_reboot&gt;restart&lt;/on_reboot&gt;</code><br /><code>  &lt;on_crash&gt;restart&lt;/on_crash&gt;</code><br /><code>  &lt;devices&gt;</code><br /><code>    &lt;emulator&gt;/usr/bin/kvm-spice&lt;/emulator&gt;</code><br /><code>    &lt;disk type='file' device='disk'&gt;</code><br /><code>      &lt;driver name='qemu' type='raw' cache='none' io='native'/&gt;</code><br /><code>      &lt;source file='/var/lib/libvirt/images/oracle651-0.img'/&gt;</code><br /><code>      &lt;target dev='vda' bus='virtio'/&gt;</code><br /><code>      &lt;alias name='virtio-disk0'/&gt;</code><br /><code>      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x05' function='0x0'/&gt;</code><br /><code>    &lt;/disk&gt;</code><br /><code>    &lt;disk type='file' device='disk'&gt;</code><br /><code>      &lt;driver name='qemu' type='raw' cache='none' io='native'/&gt;</code><br /><code>      &lt;source file='/var/lib/libvirt/images/oracle651-1.img'/&gt;</code><br /><code>      &lt;target dev='vdb' bus='virtio'/&gt;</code><br /><code>      &lt;alias name='virtio-disk1'/&gt;</code><br /><code>      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x07' function='0x0'/&gt;</code><br /><code>    &lt;/disk&gt;</code><br /><code>    &lt;disk type='file' device='disk'&gt;</code><br /><code>      &lt;driver name='qemu' type='raw' cache='none' io='native'/&gt;</code><br /><code>      &lt;source file='/var/lib/libvirt/images/oracle651-2.img'/&gt;</code><br /><code>      &lt;target dev='vdc' bus='virtio'/&gt;</code><br /><code>      &lt;alias name='virtio-disk2'/&gt;</code><br /><code>      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x08' function='0x0'/&gt;</code><br /><code>    &lt;/disk&gt;</code><br /><code>    &lt;disk type='block' device='cdrom'&gt;</code><br /><code>      &lt;driver name='qemu' type='raw'/&gt;</code><br /><code>      &lt;target dev='hdc' bus='ide' tray='open'/&gt;</code><br /><code>      &lt;readonly/&gt;</code><br /><code>      &lt;alias name='ide0-1-0'/&gt;</code><br /><code>      &lt;address type='drive' controller='0' bus='1' target='0' unit='0'/&gt;</code><br /><code>    &lt;/disk&gt;</code><br /><code>    &lt;controller type='usb' index='0'&gt;</code><br /><code>      &lt;alias name='usb0'/&gt;</code><br /><code>      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x01' function='0x2'/&gt;</code><br /><code>    &lt;/controller&gt;</code><br /><code>    &lt;controller type='pci' index='0' model='pci-root'&gt;</code><br /><code>      &lt;alias name='pci.0'/&gt;</code><br /><code>    &lt;/controller&gt;</code><br /><code>    &lt;controller type='ide' index='0'&gt;</code><br /><code>      &lt;alias name='ide0'/&gt;</code><br /><code>      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x01' function='0x1'/&gt;</code><br /><code>    &lt;/controller&gt;</code><br /><code>    &lt;interface type='bridge'&gt;</code><br /><code>      &lt;mac address='52:54:00:66:26:a0'/&gt;</code><br /><code>      &lt;source bridge='sw1'/&gt;</code><br /><code>      &lt;virtualport type='openvswitch'&gt;</code><br /><code>        &lt;parameters interfaceid='0efa5f2a-cbf2-46df-9ff2-66bddb09218d'/&gt;</code><br /><code>      &lt;/virtualport&gt;</code><br /><code>      &lt;target dev='s4'/&gt;</code><br /><code>      &lt;model type='virtio'/&gt;</code><br /><code>      &lt;alias name='net0'/&gt;</code><br /><code>      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x03' function='0x0'/&gt;</code><br /><code>    &lt;/interface&gt;</code><br /><code>    &lt;serial type='pty'&gt;</code><br /><code>      &lt;source path='/dev/pts/12'/&gt;</code><br /><code>      &lt;target port='0'/&gt;</code><br /><code>      &lt;alias name='serial0'/&gt;</code><br /><code>    &lt;/serial&gt;</code><br /><code>    &lt;console type='pty' tty='/dev/pts/12'&gt;</code><br /><code>      &lt;source path='/dev/pts/12'/&gt;</code><br /><code>      &lt;target type='serial' port='0'/&gt;</code><br /><code>      &lt;alias name='serial0'/&gt;</code><br /><code>    &lt;/console&gt;</code><br /><code>    &lt;input type='mouse' bus='ps2'/&gt;</code><br /><code>    &lt;input type='keyboard' bus='ps2'/&gt;</code><br /><code>    &lt;graphics type='vnc' port='5900' autoport='yes' listen='127.0.0.1'&gt;</code><br /><code>      &lt;listen type='address' address='127.0.0.1'/&gt;</code><br /><code>    &lt;/graphics&gt;</code><br /><code>    &lt;sound model='ich6'&gt;</code><br /><code>      &lt;alias name='sound0'/&gt;</code><br /><code>      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x04' function='0x0'/&gt;</code><br /><code>    &lt;/sound&gt;</code><br /><code>    &lt;video&gt;</code><br /><code>      &lt;model type='cirrus' vram='9216' heads='1'/&gt;</code><br /><code>      &lt;alias name='video0'/&gt;</code><br /><code>      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x02' function='0x0'/&gt;</code><br /><code>    &lt;/video&gt;</code><br /><code>    &lt;memballoon model='virtio'&gt;</code><br /><code>      &lt;alias name='balloon0'/&gt;</code><br /><code>      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x06' function='0x0'/&gt;</code><br /><code>    &lt;/memballoon&gt;</code><br /><code>  &lt;/devices&gt;</code><br /><code>  &lt;seclabel type='dynamic' model='apparmor' relabel='yes'&gt;</code><br /><code>    &lt;label&gt;libvirt-9a017de6-d362-4269-90fe-09331460aca0&lt;/label&gt;</code><br /><code>    &lt;imagelabel&gt;libvirt-9a017de6-d362-4269-90fe-09331460aca0&lt;/imagelabel&gt;</code><br /><code>  &lt;/seclabel&gt;</code><br /><code>  &lt;qemu:commandline&gt;</code><br /><code>    &lt;qemu:arg value='-set'/&gt;</code><br /><code>    &lt;qemu:arg value='device.virtio-disk0.scsi=off'/&gt;</code><br /><code>    &lt;qemu:arg value='-set'/&gt;</code><br /><code>    &lt;qemu:arg value='device.virtio-disk0.config-wce=off'/&gt;</code><br /><code>    &lt;qemu:arg value='-set'/&gt;</code><br /><code>    &lt;qemu:arg value='device.virtio-disk0.x-data-plane=on'/&gt;</code><br /><code>    &lt;qemu:arg value='-set'/&gt;</code><br /><code>    &lt;qemu:arg value='device.virtio-disk1.scsi=off'/&gt;</code><br /><code>    &lt;qemu:arg value='-set'/&gt;</code><br /><code>    &lt;qemu:arg value='device.virtio-disk1.config-wce=off'/&gt;</code><br /><code>    &lt;qemu:arg value='-set'/&gt;</code><br /><code>    &lt;qemu:arg value='device.virtio-disk1.x-data-plane=on'/&gt;</code><br /><code>    &lt;qemu:arg value='-set'/&gt;</code><br /><code>    &lt;qemu:arg value='device.virtio-disk2.scsi=off'/&gt;</code><br /><code>    &lt;qemu:arg value='-set'/&gt;</code><br /><code>    &lt;qemu:arg value='device.virtio-disk2.config-wce=off'/&gt;</code><br /><code>    &lt;qemu:arg value='-set'/&gt;</code><br /><code>    &lt;qemu:arg value='device.virtio-disk2.x-data-plane=on'/&gt;</code><br /><span style="color:rgb(255,0,0)"><b><code>    &lt;qemu:arg value='-set'/&gt;</code><br /><code>    &lt;qemu:arg value='device.virtio-disk2.logical_block_size=4096'/&gt;</code><br /><code>    &lt;qemu:arg value='-set'/&gt;</code><br /><code>    &lt;qemu:arg value='device.virtio-disk2.physical_block_size=4096'/&gt;</code></b></span><br /><code>  &lt;/qemu:commandline&gt;</code><br /><code>&lt;/domain&gt;</code><br /><br /><code>gstanden@vmem1:~$</code></font></div><br /></font></div><div><font size="3">Some useful additonal info about the LUNs over on the oracle651 client.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle631 disk]# ls -lrt by-path | grep asm</code><br /><code>lrwxrwxrwx 1 root root  9 Aug 11 20:11 ip-10.207.39.74:3260-iscsi-iqn.2014-08.oracle.asm.storage:luns-lun-0 -&gt; ../../sda</code><br /><code>lrwxrwxrwx 1 root root  9 Aug 11 20:11 ip-10.207.39.74:3260-iscsi-iqn.2014-08.oracle.asm.storage:luns-lun-1 -&gt; ../../sdb</code><br /><br /><code>[root@oracle631 disk]# ls -lrt by-id | grep scsi</code><br /><code>lrwxrwxrwx 1 root root  9 Aug 11 20:11 scsi-26162356632353435 -&gt; ../../sda</code><br /><code>lrwxrwxrwx 1 root root  9 Aug 11 20:11 scsi-26238666462643332 -&gt; ../../sdb</code><br /><br /><code>[root@oracle631 disk]# </code></font></div><br /></font></div><div><font size="3">More useful information, including the vendor name (for use in the multipath.conf file) as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle631 disk]# cat /proc/scsi/scsi</code><br /><code>Attached devices:</code><br /><code>Host: scsi1 Channel: 00 Id: 00 Lun: 00</code><br /><code>  Vendor: QEMU     Model: QEMU DVD-ROM     Rev: 2.0.</code><br /><code>  Type:   CD-ROM                           ANSI  SCSI revision: 05</code><br /><code>Host: scsi2 Channel: 00 Id: 00 Lun: 00</code><br /><code>  Vendor: SCST_BIO Model: disk0            Rev:  221</code><br /><code>  Type:   Direct-Access                    ANSI  SCSI revision: 05</code><br /><code>Host: scsi2 Channel: 00 Id: 00 Lun: 01</code><br /><code>  Vendor: SCST_BIO Model: disk1            Rev:  221</code><br /><code>  Type:   Direct-Access                    ANSI  SCSI revision: 05</code><br /><code>[root@oracle631 disk]# </code></font></div><br /></font></div><div><font size="3">And yet more information about the SCST iSCSI LUN /dev/sda shown below using udevadm command.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle631 disk]# udevadm info -a -p  $(udevadm info -q path -n /dev/sda)</code><br /><br /><code>Udevadm info starts with the device specified by the devpath and then</code><br /><code>walks up the chain of parent devices. It prints for every device</code><br /><code>found, all possible attributes in the udev rules key format.</code><br /><code>A rule to match, can be composed by the attributes of the device</code><br /><code>and the attributes from one single parent device.</code><br /><br /><code>  looking at device '/devices/platform/host2/session1/target2:0:0/2:0:0:0/block/sda':</code><br /><code>    KERNEL=="sda"</code><br /><code>    SUBSYSTEM=="block"</code><br /><code>    DRIVER==""</code><br /><code>    ATTR{ro}=="0"</code><br /><code>    ATTR{size}=="20971520"</code><br /><code>    ATTR{stat}=="     455        0     3648      329        0        0        0        0        0      328      328"</code><br /><code>    ATTR{range}=="16"</code><br /><code>    ATTR{discard_alignment}=="0"</code><br /><code>    ATTR{events}==""</code><br /><code>    ATTR{ext_range}=="256"</code><br /><code>    ATTR{events_poll_msecs}=="-1"</code><br /><code>    ATTR{alignment_offset}=="0"</code><br /><code>    ATTR{inflight}=="       0        0"</code><br /><code>    ATTR{removable}=="0"</code><br /><code>    ATTR{capability}=="50"</code><br /><code>    ATTR{events_async}==""</code><br /><br /><code>  looking at parent device '/devices/platform/host2/session1/target2:0:0/2:0:0:0':</code><br /><code>    KERNELS=="2:0:0:0"</code><br /><code>    SUBSYSTEMS=="scsi"</code><br /><code>    DRIVERS=="sd"</code><br /><code>    ATTRS{rev}==" 221"</code><br /><code>    ATTRS{type}=="0"</code><br /><code>    ATTRS{scsi_level}=="6"</code><br /><code>    ATTRS{model}=="disk0           "</code><br /><code>    ATTRS{state}=="running"</code><br /><code>    ATTRS{queue_type}=="none"</code><br /><code>    ATTRS{modalias}=="scsi:t-0x00"</code><br /><code>    ATTRS{iodone_cnt}=="0x212"</code><br /><code>    ATTRS{iorequest_cnt}=="0x212"</code><br /><code>    ATTRS{queue_ramp_up_period}=="120000"</code><br /><code>    ATTRS{timeout}=="30"</code><br /><code>    ATTRS{evt_media_change}=="0"</code><br /><code>    ATTRS{ioerr_cnt}=="0x2"</code><br /><code>    ATTRS{queue_depth}=="32"</code><br /><code>    ATTRS{vendor}=="SCST_BIO"</code><br /><code>    ATTRS{device_blocked}=="0"</code><br /><code>    ATTRS{dh_state}=="detached"</code><br /><code>    ATTRS{iocounterbits}=="32"</code><br /><code>    ATTRS{eh_timeout}=="10"</code><br /><br /><code>  looking at parent device '/devices/platform/host2/session1/target2:0:0':</code><br /><code>    KERNELS=="target2:0:0"</code><br /><code>    SUBSYSTEMS=="scsi"</code><br /><code>    DRIVERS==""</code><br /><br /><code>  looking at parent device '/devices/platform/host2/session1':</code><br /><code>    KERNELS=="session1"</code><br /><code>    SUBSYSTEMS==""</code><br /><code>    DRIVERS==""</code><br /><br /><code>  looking at parent device '/devices/platform/host2':</code><br /><code>    KERNELS=="host2"</code><br /><code>    SUBSYSTEMS=="scsi"</code><br /><code>    DRIVERS==""</code><br /><br /><code>  looking at parent device '/devices/platform':</code><br /><code>    KERNELS=="platform"</code><br /><code>    SUBSYSTEMS==""</code><br /><code>    DRIVERS==""</code></font></div><br /></font><br /><font size="3"><font size="3">And now for /dev/sdb shown below using udevadm command.<br /><br /></font><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle631 disk]# udevadm info -a -p  $(udevadm info -q path -n /dev/sdb)</code><br /><br /><code>Udevadm info starts with the device specified by the devpath and then</code><br /><code>walks up the chain of parent devices. It prints for every device</code><br /><code>found, all possible attributes in the udev rules key format.</code><br /><code>A rule to match, can be composed by the attributes of the device</code><br /><code>and the attributes from one single parent device.</code><br /><br /><code>  looking at device '/devices/platform/host2/session1/target2:0:0/2:0:0:1/block/sdb':</code><br /><code>    KERNEL=="sdb"</code><br /><code>    SUBSYSTEM=="block"</code><br /><code>    DRIVER==""</code><br /><code>    ATTR{ro}=="0"</code><br /><code>    ATTR{size}=="20971520"</code><br /><code>    ATTR{stat}=="     455        0     3664      337        0        0        0        0        0      337      337"</code><br /><code>    ATTR{range}=="16"</code><br /><code>    ATTR{discard_alignment}=="0"</code><br /><code>    ATTR{events}==""</code><br /><code>    ATTR{ext_range}=="256"</code><br /><code>    ATTR{events_poll_msecs}=="-1"</code><br /><code>    ATTR{alignment_offset}=="0"</code><br /><code>    ATTR{inflight}=="       0        0"</code><br /><code>    ATTR{removable}=="0"</code><br /><code>    ATTR{capability}=="50"</code><br /><code>    ATTR{events_async}==""</code><br /><br /><code>  looking at parent device '/devices/platform/host2/session1/target2:0:0/2:0:0:1':</code><br /><code>    KERNELS=="2:0:0:1"</code><br /><code>    SUBSYSTEMS=="scsi"</code><br /><code>    DRIVERS=="sd"</code><br /><code>    ATTRS{rev}==" 221"</code><br /><code>    ATTRS{type}=="0"</code><br /><code>    ATTRS{scsi_level}=="6"</code><br /><code>    ATTRS{model}=="disk1           "</code><br /><code>    ATTRS{state}=="running"</code><br /><code>    ATTRS{queue_type}=="none"</code><br /><code>    ATTRS{modalias}=="scsi:t-0x00"</code><br /><code>    ATTRS{iodone_cnt}=="0x211"</code><br /><code>    ATTRS{iorequest_cnt}=="0x211"</code><br /><code>    ATTRS{queue_ramp_up_period}=="120000"</code><br /><code>    ATTRS{timeout}=="30"</code><br /><code>    ATTRS{evt_media_change}=="0"</code><br /><code>    ATTRS{ioerr_cnt}=="0x2"</code><br /><code>    ATTRS{queue_depth}=="32"</code><br /><code>    ATTRS{vendor}=="SCST_BIO"</code><br /><code>    ATTRS{device_blocked}=="0"</code><br /><code>    ATTRS{dh_state}=="detached"</code><br /><code>    ATTRS{iocounterbits}=="32"</code><br /><code>    ATTRS{eh_timeout}=="10"</code><br /><br /><code>  looking at parent device '/devices/platform/host2/session1/target2:0:0':</code><br /><code>    KERNELS=="target2:0:0"</code><br /><code>    SUBSYSTEMS=="scsi"</code><br /><code>    DRIVERS==""</code><br /><br /><code>  looking at parent device '/devices/platform/host2/session1':</code><br /><code>    KERNELS=="session1"</code><br /><code>    SUBSYSTEMS==""</code><br /><code>    DRIVERS==""</code><br /><br /><code>  looking at parent device '/devices/platform/host2':</code><br /><code>    KERNELS=="host2"</code><br /><code>    SUBSYSTEMS=="scsi"</code><br /><code>    DRIVERS==""</code><br /><br /><code>  looking at parent device '/devices/platform':</code><br /><code>    KERNELS=="platform"</code><br /><code>    SUBSYSTEMS==""</code><br /><code>    DRIVERS==""</code></font></div><br /></font></div><div><font size="3">Additional information after the configuration of the SCST LUNs on oracle651 using device-mapper-multipath and /etc/udev/rules.d/12-dm-permissions.rules as shown below.  Friendly names set from the /etc/multipath.conf file correctly.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle631 ~]# ls -lrt /dev/mapper</code><br /><code>total 0</code><br /><code>crw-rw---- 1 root root 10, 236 Aug 11 21:30 control</code><br /><code>lrwxrwxrwx 1 root root       7 Aug 11 21:30 vg_oracle631-lv_swap -&gt; ../dm-1</code><br /><code>lrwxrwxrwx 1 root root       7 Aug 11 21:30 vg_oracle631-lv_root -&gt; ../dm-0</code><br /><code>lrwxrwxrwx 1 root root       7 Aug 11 21:30 vg_u00-lv_oracle -&gt; ../dm-2</code><br /><code>lrwxrwxrwx 1 root root       7 Aug 11 21:30 ASM_4096B_1 -&gt; ../dm-3</code><br /><code>lrwxrwxrwx 1 root root       7 Aug 11 21:30 ASM_0512B_1 -&gt; ../dm-4</code></font></div><br /></font></div><div><font size="3">Friendly names accurately indicate logical block sizes as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle631 ~]# fdisk -l /dev/dm-3                      &lt;--ASM_4096B_1</code><br /><code>Note: sector size is 4096 (not 512)</code><br /><br /><code>Disk <b>/dev/dm-3</b>: 10.7 GB, 10737418240 bytes</code><br /><code>255 heads, 63 sectors/track, 163 cylinders</code><br /><code>Units = cylinders of 16065 * 4096 = 65802240 bytes</code><br /><b><code>Sector size (logical/physical): 4096 bytes / 4096 bytes     &lt;-- 4096 logical sector size</code> </b><br /><code>I/O size (minimum/optimal): 4096 bytes / 524288 bytes</code><br /><code>Disk identifier: 0x00000000</code><br /><br /><code>[root@oracle631 ~]# fdisk -l /dev/dm-4</code><br /><br /><code>Disk <b>/dev/dm-4</b>: 10.7 GB, 10737418240 bytes                  &lt;--ASM_0512B_1</code><br /><code>255 heads, 63 sectors/track, 1305 cylinders</code><br /><code>Units = cylinders of 16065 * 512 = 8225280 bytes</code><br /><b><code>Sector size (logical/physical): 512 bytes / 4096 bytes      &lt;-- 512 logical sector size</code></b><br /><code>I/O size (minimum/optimal): 4096 bytes / 524288 bytes</code><br /><code>Disk identifier: 0x00000000</code><br /><br /><code>[root@oracle631 ~]#</code></font></div><br /></font></div><div><font size="3">Permissions set correctly from the /etc/udev/rules.d/12-dm-permissions.rules file.<br /></font></div><div><font size="3"><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle631 ~]# ls -lrt /dev/dm-3</code><br /><code>brw-rw---- 1 grid asmadmin 252, 3 Aug 11 21:30 /dev/dm-3</code><br /><code>[root@oracle631 ~]# ls -lrt /dev/dm-4</code><br /><code>brw-rw---- 1 grid asmadmin 252, 4 Aug 11 21:30 /dev/dm-4</code></font></div><br /></font></div><div><font size="3">The /etc/multipath.conf file for the SCST LUNs on oracle631 as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle631 ~]# cat /etc/multipath.conf</code><br /><code># Configuration file for device mapper multipath.</code><br /><code># For a complete list of the default configuration values:</code><br /><code># /usr/share/doc/device-mapper-multipath-0.4.9/multipath.conf.defaults</code><br /><code># For a list of configuration options with descriptions:</code><br /><code># /usr/share/doc/device-mapper-multipath-0.4.9/multipath.conf.annotated</code><br /><br /><code>defaults {</code><br /><code>    user_friendly_names yes</code><br /><code>}</code><br /><code>blacklist {</code><br /><code>    devnode "^(ram|raw|loop|fd|md|dm-|sr|scd|st)[0-9]*"</code><br /><code>    devnode "^hd[a-z]"</code><br /><code>}</code><br /><code>devices {</code><br /><code>     device {</code><br /><code>          vendor                  "SCST_BIO"</code><br /><code>          product                 "Direct-Access"</code><br /><code>          path_grouping_policy    multibus</code><br /><code>          path_grouping_policy    group_by_prio</code><br /><code>          path_selector           "round-robin 0"</code><br /><code>          failback                immediate</code><br /><code>          rr_min_io               1</code><br /><code>          rr_weight               priorities</code><br /><code>     }</code><br /><code>}</code><br /><code>multipaths {</code><br /><code>     multipath {</code><br /><code>         wwid 26162356632353435</code><br /><code>         alias ASM_4096B_1</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 26238666462643332</code><br /><code>         alias ASM_0512B_1</code><br /><code>     }</code><br /><code>}</code><br /><br /><code>[root@oracle631 ~]# </code></font></div><br /></font></div><div><font size="3">Listing of the /etc/udev/rules.d/12-dm-permissions.rules file on oracle631 the scsi client as shown below with section that handles the above LUNs bolded (near bottom of listing).<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle631 ~]# cat /etc/udev/rules.d/12-dm-permissions.rules </code><br /><code># Copyright (C) 2009 Red Hat, Inc. All rights reserved.</code><br /><code>#</code><br /><code># This file is part of LVM2.</code><br /><br /><code># Udev rules for device-mapper devices.</code><br /><code>#</code><br /><code># These rules set permissions for DM devices.</code><br /><code>#</code><br /><code># This file is considered to be a template where users can put their</code><br /><code># own entries and then put a copy of it manually to a usual place with</code><br /><code># user-edited udev rules (usually /etc/udev/rules.d).</code><br /><code>#</code><br /><code># There are some environment variables set that can be used:</code><br /><code>#   DM_UDEV_RULES_VSN - DM udev rules version</code><br /><code>#   DM_NAME - actual DM device's name</code><br /><code>#   DM_UUID - UUID set for DM device (blank if not specified)</code><br /><code>#   DM_SUSPENDED - suspended state of DM device (0 or 1)</code><br /><code>#   DM_LV_NAME - logical volume name (not set if LVM device not present)</code><br /><code>#   DM_VG_NAME - volume group name (not set if LVM device not present)</code><br /><code>#   DM_LV_LAYER - logical volume layer (not set if LVM device not present)</code><br /><br /><code># "add" event is processed on coldplug only!</code><br /><code>ACTION!="add|change", GOTO="dm_end"</code><br /><code>ENV{DM_UDEV_RULES_VSN}!="?*", GOTO="dm_end"</code><br /><br /><code># A few demonstrational examples...</code><br /><br /><br /><code># PLAIN DM DEVICES</code><br /><code>#</code><br /><code># Set permissions for a DM device named 'my_device' exactly</code><br /><code># ENV{DM_NAME}=="my_device", OWNER:="root", GROUP:="root", MODE:="660"</code><br /><br /><code># Set permissions for all DM devices having 'MY_UUID-' UUID prefix</code><br /><code># ENV{DM_UUID}=="MY_UUID-?*", OWNER:="root", GROUP:="root", MODE:="660"</code><br /><br /><br /><code># LVM DEVICES</code><br /><code>#</code><br /><code># Set permissions for all LVM devices</code><br /><code># ENV{DM_UUID}=="LVM-?*", OWNER:="root", GROUP:="root", MODE:="660"</code><br /><br /><code># Set permissions for all devices that belong to one LVM VG</code><br /><code># ENV{DM_VG_NAME}=="VolGroup00", OWNER:="root", GROUP:="root", MODE:="660"</code><br /><br /><code># Set permissions for an LVM device with VG named VolGroup00 and LV named LogVol00 exactly</code><br /><code># ENV{DM_VG_NAME}=="VolGroup00", ENV{DM_LV_NAME}=="LogVol00", OWNER:="root", GROUP:="root", MODE:="660"</code><br /><br /><code># Set permissions for all LVM devices that does not belong to a VG named VolGroup00</code><br /><code># ENV{DM_VG_NAME}!="VolGroup00", OWNER:="root", GROUP:="root", MODE:="660"</code><br /><br /><br /><code># ENCRYPTED DEVICES (using cryptsetup &gt;= 1.1)</code><br /><code>#</code><br /><code># Set permissions for all encrypted devices created by cryptsetup (plain devices)</code><br /><code># ENV{DM_UUID}=="CRYPT-PLAIN-?*", OWNER:="root", GROUP:="root", MODE:="660"</code><br /><br /><code># Set permissions for all encrypted devices created by cryptsetup (LUKS extension)</code><br /><code># ENV{DM_UUID}=="CRYPT-LUKS1-?*", OWNER:="root", GROUP:="root", MODE:="660"</code><br /><br /><code># Set permissions for an encrypted device created by cryptsetup and having an exact luks UUID</code><br /><code># ENV{DM_UUID}=="CRYPT-LUKS1-22fce5c8313c43c68d84b50a3b0fee78-?*", OWNER:="root", GROUP:="root", MODE:="660"</code><br /><br /><br /><code># MULTIPATH DEVICES</code><br /><code>#</code><br /><code># Set permissions for all multipath devices</code><br /><code># ENV{DM_UUID}=="mpath-?*", OWNER:="root", GROUP:="root", MODE:="660"</code><br /><span style="color:rgb(255,0,0)"><b><code>ENV{DM_UUID}=="mpath-26162356632353435", OWNER:="grid", GROUP:="asmadmin", MODE:="660"     # &lt;-- LUN modes are set here</code><br /><code>ENV{DM_UUID}=="mpath-26238666462643332", OWNER:="grid", GROUP:="asmadmin", MODE:="660"     # &lt;-- LUN modes are set here</code></b><br /></span><br /><code># Set permissions for first two partitions created on a multipath device (and detected by kpartx)</code><br /><code># ENV{DM_UUID}=="part[1-2]-mpath-?*", OWNER:="root", GROUP:="root", MODE:="660"</code><br /><br /><code># ...you can use any combination of the comparisons with the environment variables</code><br /><code># listed at the beginning of this file (udev provides simple pattern matching by</code><br /><code># using *, ? and [] that you can use, see 'man udev' for more information).</code><br /><br /><code># Set default permissions for all DM devices if not set before.</code><br /><code># OWNER:="root", GROUP:="root", MODE:="660"</code><br /><br /><code>LABEL="dm_end"</code><br /><br /><code>[root@oracle631 ~]# </code></font></div><br /></font></div><div><font size="3">If the console terminal is running on the KVM guest SCST SAN host oracle651, then when a SAN client oracle631 is shutdown, the following message is buffered to console and written to dmesg as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 ~]# iscsi-scst: Logout received from initiator iqn.1988-12.com.oracle:49c39d4d389d</code><br /><code>iscsi-scst: Closing connection at initiator's iqn.1988-12.com.oracle:49c39d4d389d request</code><br /><code>scst: TM fn 6 (ffff88003dfd50b8)</code><br /><code>scst: TM fn 6 (ffff88003dfd50b8) finished, status 0</code><br /><code>scst: Processing thread disk00_0 (PID 1783) finished</code><br /><code>scst: Processing thread disk10_0 (PID 1789) finished</code><br /><br /><code>[root@oracle651 ~]# exit</code><br /><code>logout</code><br /><br /><code>Oracle Linux Server release 6.5</code><br /><code>Kernel 2.6.32-scst on an x86_64</code><br /><br /><code>oracle651.vmem.org login: </code></font></div><br /></font></div><div><font size="3">Here is an example of the commands for adding a file-backed LUN rather than a block device as shown below.<br /><br /></font><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 ~] dd if=/dev/zero of=/root/scst-scripts/asm_disk1.img bs=512 count=0 seek=1M</code><br /><code>[root@oracle651 ~] </code><code>scstadmin -open_dev disk2 -handler vdisk_fileio -attributes filename=/root/scst-scripts/asm_disk1.img,blocksize=4096</code><br /><code>[root@oracle651 ~] </code><code>scstadmin -add_lun 2 -driver iscsi -target iqn.2014-08.oracle.asm.storage:luns -device disk2</code><br /><code>[root@oracle651 ~] </code><code>scstadmin -write_config /etc/scst.conf</code></font></div><br /></div><div><font size="3">The last command saves it to the /etc/scst.conf configuration file as shown below.  The "vdisk_fileio" handler has been added, as well as the LUN.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><br /><code>[root@oracle651 scst-scripts]# cat /etc/scst.conf</code><br /><code># Automatically generated by SCST Configurator v2.2.1.</code><br /><br /><br /><code>HANDLER vdisk_blockio {</code><br /><code>    DEVICE disk0 {</code><br /><code>        blocksize 4096</code><br /><code>        filename /dev/vdc</code><br /><code>    }</code><br /><br /><code>    DEVICE disk1 {</code><br /><code>        filename /dev/vdb</code><br /><code>    }</code><br /><code>}</code><br /><br /><code>HANDLER vdisk_fileio {</code><br /><code>    DEVICE disk2 {</code><br /><code>        blocksize 4096</code><br /><code>        filename /root/scst-scripts/asm_disk1.img</code><br /><code>    }</code><br /><code>}</code><br /><br /><code>TARGET_DRIVER iscsi {</code><br /><code>    enabled 1</code><br /><br /><code>    TARGET iqn.2014-08.oracle.asm.storage:luns {</code><br /><code>        cpu_mask 3</code><br /><code>        enabled 1</code><br /><code>        rel_tgt_id 1</code><br /><br /><code>        LUN 0 disk0</code><br /><code>        LUN 1 disk1</code><br /><code>        LUN 2 disk2</code><br /><code>    }</code><br /><code>}</code><br /><br /><code>[root@oracle651 scst-scripts]# </code></font></div><br /></font></div><div><font size="3">Here is an example of removing the LUN that was just added.  Notice that the HANDLER information for the deleted LUN remains, but the TARGET DRIVER LUN list is updated and the removed LUN has been removed from the list in /etc/scst.conf as shown below.<br /><br /></font></div><div class="sites-codeblock sites-codesnippet-block"><div><font size="4"><code>[root@oracle651 scst-scripts]# <b>scstadmin -rem_lun 2 -driver iscsi -target iqn.2014-08.oracle.asm.storage:luns -device disk2</b></code><b><br /></b><br /><code>Collecting current configuration: done.</code><br /><br /><code>Performing this action may result in lost or corrupt data, are you sure you wish to continue (y/[n]) ? y</code><br /><br /><code>-&gt; Making requested changes.</code><br /><code>    -&gt; Removing LUN 2 from driver/target 'iscsi/iqn.2014-08.oracle.asm.storage:luns': done.</code><br /><br /></font></div><div><font size="4"><code>Writing cur</code><code>rent configuration to file '/etc/scst.conf'</code><br /></font></div><div><font size="4"><code>All done.</code><br /></font></div><div><font size="4"><br /><code>[root@oracle651 scst-scripts]# scstadmin -write_config /etc/scst.conf</code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><code>Writing current configuration to file '/etc/scst.conf'.. </code><br /><code>All done.</code><br /><code>[root@oracle651 scst-scripts]# cat /etc/scst.conf</code><br /><br /><code># Automatically generated by SCST Configurator v2.2.1.</code><br /><br /><br /><code>HANDLER vdisk_blockio {</code><br /><code>    DEVICE disk0 {</code><br /><code>        blocksize 4096</code><br /><code>        filename /dev/vdc</code><br /><code>    }</code><br /><br /><code>    DEVICE disk1 {</code><br /><code>        filename /dev/vdb</code><br /><code>    }</code><br /><code>}</code><br /><br /><code>HANDLER vdisk_fileio  {                                &lt;-- disk2 handler is still defined after LUN 2 was dropped from target.</code><br /><code>    DEVICE disk2 {</code><br /><code>        blocksize 4096</code><br /><code>        filename /root/scst-scripts/asm_disk1.img</code><br /><code>    }</code><br /><code>}</code><br /><br /><code>TARGET_DRIVER iscsi {</code><br /><code>    enabled 1</code><br /><br /><code>    TARGET iqn.2014-08.oracle.asm.storage:luns {</code><br /><code>        cpu_mask 3</code><br /><code>        enabled 1</code><br /><code>        rel_tgt_id 1</code><br /><br /><code>        LUN 0 disk0</code><br /><code>        LUN 1 disk1</code><br /></font></div><div><font size="4"><code>    }                                                  &lt;-- LUN 2 disk2 is removed here.</code><code>                                  </code><br /></font></div><div><font size="4"><code>}</code><br /><br /><code>[root@oracle651 scst-scripts]# history</code></font></div></div><br /></div><div><font size="3">Thus, the LUN can be re-added back with just the one command below if it is needed back in the target as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 ~]# scstadmin -add_lun 2 -driver iscsi -target iqn.2014-08.oracle.asm.storage:luns -device disk2</code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><br /><code>-&gt; Making requested changes.</code><br /><code>    -&gt; Adding device 'disk2' at LUN 2 to driver/target 'iscsi/iqn.2014-08.oracle.asm.storage:luns': done.</code><br /><code>    -&gt; Driver/target is not a fibre channel target, ignoring.</code><br /><code>    -&gt; Done.</code><br /><br /><code>All done.</code><br /><code>[root@oracle651 ~]# scstadmin -write_config /etc/scst.conf</code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><code>Writing current configuration to file '/etc/scst.conf'.. </code><br /><code>All done.</code><br /><code>[root@oracle651 ~]# </code></font></div><br /></font></div><div><font size="3">View /etc/scst.conf again and see that the LUN has been added back to the TARGET as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 ~]# cat /etc/scst.conf</code><br /><code># Automatically generated by SCST Configurator v2.2.1.</code><br /><br /><br /><code>HANDLER vdisk_blockio {</code><br /><code>    DEVICE disk0 {</code><br /><code>        blocksize 4096</code><br /><code>        filename /dev/vdc</code><br /><code>    }</code><br /><br /><code>    DEVICE disk1 {</code><br /><code>        filename /dev/vdb</code><br /><code>    }</code><br /><code>}</code><br /><br /><code>HANDLER vdisk_fileio {</code><br /><code>    DEVICE disk2 {</code><br /><code>        blocksize 4096</code><br /><code>        filename /root/scst-scripts/asm_disk1.img</code><br /><code>    }</code><br /><code>}</code><br /><br /><code>TARGET_DRIVER iscsi {</code><br /><code>    enabled 1</code><br /><br /><code>    TARGET iqn.2014-08.oracle.asm.storage:luns {</code><br /><code>        cpu_mask 3</code><br /><code>        enabled 1</code><br /><code>        rel_tgt_id 1</code><br /><br /><code>        LUN 0 disk0</code><br /><code>        LUN 1 disk1</code><br /><code>        LUN 2 disk2</code><br /><code>    }</code><br /><code>}</code><br /><br /><code>[root@oracle651 ~]# </code></font></div><br /></font></div><div><font size="3">Examples of adding file-backed SCST LUNs to the OS of the SCST OEL host are shown below.  The example below shows adding the 8 LUNs per the Violin Memory Oracle Best Practice Document dated April 2014 to the SCST SAN configuration.<br /></font></div><div><div><br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 ~]# scstadmin -add_lun 11 -driver iscsi -target iqn.2014-08.oracle.asm.storage:luns -device asm_reco1</code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><br /><code>-&gt; Making requested changes.</code><br /><code>    -&gt; Adding device 'asm_reco1' at LUN 11 to driver/target 'iscsi/iqn.2014-08.oracle.asm.storage:luns': done.</code><br /><code>    -&gt; Driver/target is not a fibre channel target, ignoring.</code><br /><code>    -&gt; Done.</code><br /><br /><code>All done.</code><br /><br /><code>[root@oracle651 ~]# scstadmin -add_lun 12 -driver iscsi -target iqn.2014-08.oracle.asm.storage:luns -device asm_reco2</code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><br /><code>-&gt; Making requested changes.</code><br /><code>    -&gt; Adding device 'asm_reco2' at LUN 12 to driver/target 'iscsi/iqn.2014-08.oracle.asm.storage:luns': done.</code><br /><code>    -&gt; Driver/target is not a fibre channel target, ignoring.</code><br /><code>    -&gt; Done.</code><br /><br /><code>All done.</code><br /><code>[root@oracle651 ~]# scstadmin -add_lun 13 -driver iscsi -target iqn.2014-08.oracle.asm.storage:luns -device asm_reco3</code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><br /><code>-&gt; Making requested changes.</code><br /><code>    -&gt; Adding device 'asm_reco3' at LUN 13 to driver/target 'iscsi/iqn.2014-08.oracle.asm.storage:luns': done.</code><br /><code>    -&gt; Driver/target is not a fibre channel target, ignoring.</code><br /><code>    -&gt; Done.</code><br /><br /><code>All done.</code><br /><code>[root@oracle651 ~]# scstadmin -add_lun 14 -driver iscsi -target iqn.2014-08.oracle.asm.storage:luns -device asm_reco4</code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><br /><code>-&gt; Making requested changes.</code><br /><code>    -&gt; Adding device 'asm_reco4' at LUN 14 to driver/target 'iscsi/iqn.2014-08.oracle.asm.storage:luns': done.</code><br /><code>    -&gt; Driver/target is not a fibre channel target, ignoring.</code><br /><code>    -&gt; Done.</code><br /><br /><code>All done.</code><br /><code>[root@oracle651 ~]# scstadmin -add_lun 15 -driver iscsi -target iqn.2014-08.oracle.asm.storage:luns -device asm_reco5</code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><br /><code>-&gt; Making requested changes.</code><br /><code>    -&gt; Adding device 'asm_reco5' at LUN 15 to driver/target 'iscsi/iqn.2014-08.oracle.asm.storage:luns': done.</code><br /><code>    -&gt; Driver/target is not a fibre channel target, ignoring.</code><br /><code>    -&gt; Done.</code><br /><br /><code>All done.</code><br /><code>[root@oracle651 ~]# scstadmin -add_lun 16 -driver iscsi -target iqn.2014-08.oracle.asm.storage:luns -device asm_reco6</code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><br /><code>-&gt; Making requested changes.</code><br /><code>    -&gt; Adding device 'asm_reco6' at LUN 16 to driver/target 'iscsi/iqn.2014-08.oracle.asm.storage:luns': done.</code><br /><code>    -&gt; Driver/target is not a fibre channel target, ignoring.</code><br /><code>    -&gt; Done.</code><br /><br /><code>All done.</code><br /><code>[root@oracle651 ~]# scstadmin -add_lun 17 -driver iscsi -target iqn.2014-08.oracle.asm.storage:luns -device asm_reco7</code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><br /><code>-&gt; Making requested changes.</code><br /><code>    -&gt; Adding device 'asm_reco7' at LUN 17 to driver/target 'iscsi/iqn.2014-08.oracle.asm.storage:luns': done.</code><br /><code>    -&gt; Driver/target is not a fibre channel target, ignoring.</code><br /><code>    -&gt; Done.</code><br /><br /><code>All done.</code><br /><code>[root@oracle651 ~]# scstadmin -add_lun 18 -driver iscsi -target iqn.2014-08.oracle.asm.storage:luns -device asm_reco8</code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><br /><code>-&gt; Making requested changes.</code><br /><code>    -&gt; Adding device 'asm_reco8' at LUN 18 to driver/target 'iscsi/iqn.2014-08.oracle.asm.storage:luns': done.</code><br /><code>    -&gt; Driver/target is not a fibre channel target, ignoring.</code><br /><code>    -&gt; Done.</code><br /><br /><code>All done.</code><br /><code>[root@oracle651 ~]# </code></font></div><br /></div><div><font size="3">Now write the configuration changes to the /etc/scst.conf configuration file as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 ~]# scstadmin -write_config /etc/scst.conf</code><br /><br /><code>Collecting current configuration: done.</code><br /><br /><code>Writing current configuration to file '/etc/scst.conf'.. </code><br /><code>All done.</code><br /><code>[root@oracle651 ~]# cat /etc/scst.conf</code><br /><code># Automatically generated by SCST Configurator v2.2.1.</code><br /><br /><br /><code>HANDLER vdisk_blockio {</code><br /><code>    DEVICE disk0 {</code><br /><code>        blocksize 4096</code><br /><code>        filename /dev/vdc</code><br /><code>    }</code><br /><br /><code>    DEVICE disk1 {</code><br /><code>        filename /dev/vdb</code><br /><code>    }</code><br /><code>}</code><br /><br /><code>HANDLER vdisk_fileio {</code><br /><code>    DEVICE asm_data1 {</code><br /><code>        filename /scst/asm_data1.img</code><br /><code>    }</code><br /><br /><code>    DEVICE asm_data2 {</code><br /><code>        filename /scst/asm_data2.img</code><br /><code>    }</code><br /><br /><code>    DEVICE asm_data3 {</code><br /><code>        filename /scst/asm_data3.img</code><br /><code>    }</code><br /><br /><code>    DEVICE asm_data4 {</code><br /><code>        filename /scst/asm_data4.img</code><br /><code>    }</code><br /><br /><code>    DEVICE asm_data5 {</code><br /><code>        filename /scst/asm_data5.img</code><br /><code>    }</code><br /><br /><code>    DEVICE asm_data6 {</code><br /><code>        filename /scst/asm_data6.img</code><br /><code>    }</code><br /><br /><code>    DEVICE asm_data7 {</code><br /><code>        filename /scst/asm_data7.img</code><br /><code>    }</code><br /><br /><code>    DEVICE asm_data8 {</code><br /><code>        filename /scst/asm_data8.img</code><br /><code>    }</code><br /><br /><code>    DEVICE asm_reco1 {</code><br /><code>        filename /scst/asm_reco1.img</code><br /><code>    }</code><br /><br /><code>    DEVICE asm_reco2 {</code><br /><code>        filename /scst/asm_reco2.img</code><br /><code>    }</code><br /><br /><code>    DEVICE asm_reco3 {</code><br /><code>        filename /scst/asm_reco3.img</code><br /><code>    }</code><br /><br /><code>    DEVICE asm_reco4 {</code><br /><code>        filename /scst/asm_reco4.img</code><br /><code>    }</code><br /><br /><code>    DEVICE asm_reco5 {</code><br /><code>        filename /scst/asm_reco5.img</code><br /><code>    }</code><br /><br /><code>    DEVICE asm_reco6 {</code><br /><code>        filename /scst/asm_reco6.img</code><br /><code>    }</code><br /><br /><code>    DEVICE asm_reco7 {</code><br /><code>        filename /scst/asm_reco7.img</code><br /><code>    }</code><br /><br /><code>    DEVICE asm_reco8 {</code><br /><code>        filename /scst/asm_reco8.img</code><br /><code>    }</code><br /><br /><code>    DEVICE systemdg1 {</code><br /><code>        filename /scst/systemdg1.img</code><br /><code>    }</code><br /><code>}</code><br /><br /><code>TARGET_DRIVER iscsi {</code><br /><code>    enabled 1</code><br /><br /><code>    TARGET iqn.2014-08.oracle.asm.storage:luns {</code><br /><code>        cpu_mask 3</code><br /><code>        enabled 1</code><br /><code>        rel_tgt_id 1</code><br /><br /><code>        LUN 0 disk0</code><br /><code>        LUN 1 disk1</code><br /><code>        LUN 2 systemdg1</code><br /><code>        LUN 3 asm_data1</code><br /><code>        LUN 4 asm_data2</code><br /><code>        LUN 5 asm_data3</code><br /><code>        LUN 6 asm_data4</code><br /><code>        LUN 7 asm_data5</code><br /><code>        LUN 8 asm_data6</code><br /><code>        LUN 9 asm_data7</code><br /><code>        LUN 10 asm_data8</code><br /><code>        LUN 11 asm_reco1</code><br /><code>        LUN 12 asm_reco2</code><br /><code>        LUN 13 asm_reco3</code><br /><code>        LUN 14 asm_reco4</code><br /><code>        LUN 15 asm_reco5</code><br /><code>        LUN 16 asm_reco6</code><br /><code>        LUN 17 asm_reco7</code><br /><code>        LUN 18 asm_reco8</code><br /><code>    }</code><br /><code>}</code><br /><br /><code>[root@oracle651 ~]# </code></font></div><br /></font></div><div><font size="3">Adding the new LUNs to the Oracle database server is shown below.  As soon as the above command to add the LUNs to the target is completed, the LUNs will immediately appear on the the SCSI client machine - the database server - (as long as it is logged in to the SAN)  and will be visible as shown below using the multipath command.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle631 ~]# multipath -ll -v2 | grep reco</code><br /><code>mpathr (23734383163616238) dm-17 SCST_FIO,asm_reco1</code><br /><code>mpathq (23239613933333133) dm-16 SCST_FIO,asm_reco4</code><br /><code>mpathp (23533633466613536) dm-14 SCST_FIO,asm_reco3</code><br /><code>mpatho (23430363636323231) dm-13 SCST_FIO,asm_reco2</code><br /><code>mpathv (26661333739313737) dm-21 SCST_FIO,asm_reco8</code><br /><code>mpathu (23164346539623861) dm-20 SCST_FIO,asm_reco7</code><br /><code>mpatht (2656563303366642d) dm-19 SCST_FIO,asm_reco6</code><br /><code>mpaths (23361306261623634) dm-18 SCST_FIO,asm_reco5</code><br /><code>[root@oracle631 ~]# </code></font></div><br /></font></div><div><font size="3">Use the output above the /etc/multipath.conf can be edited.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><br /><code>[root@oracle631 ~]# vi /etc/multipath.conf</code><br /><code>[root@oracle631 ~]# cat /etc/multipath.conf</code><br /><code># Configuration file for device mapper multipath.</code><br /><code># For a complete list of the default configuration values:</code><br /><code># /usr/share/doc/device-mapper-multipath-0.4.9/multipath.conf.defaults</code><br /><code># For a list of configuration options with descriptions:</code><br /><code># /usr/share/doc/device-mapper-multipath-0.4.9/multipath.conf.annotated</code><br /><br /><code>defaults {</code><br /><code>    user_friendly_names yes</code><br /><code>}</code><br /><code>blacklist {</code><br /><code>    devnode "^(ram|raw|loop|fd|md|dm-|sr|scd|st)[0-9]*"</code><br /><code>    devnode "^hd[a-z]"</code><br /><code>}</code><br /><code>devices {</code><br /><code>     device {</code><br /><code>          vendor                  "SCST_BIO"</code><br /><code>          product                 "Direct-Access"</code><br /><code>          path_grouping_policy    multibus</code><br /><code>          path_selector           "round-robin 0"</code><br /><code>          failback                immediate</code><br /><code>          rr_min_io               1</code><br /><code>          rr_weight               priorities</code><br /><code>     }</code><br /><code>}</code><br /><code>multipaths {</code><br /><code>     multipath {</code><br /><code>         wwid 26162356632353435</code><br /><code>         alias ASM_4096B_1</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 26238666462643332</code><br /><code>         alias ASM_0512B_1</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 23863316131356162</code><br /><code>         alias ASM_4096F_1</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 23233626538613166</code><br /><code>         alias ASM_0512F_1</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 26161383334393638</code><br /><code>         alias ASM_DATA8</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 23464666134333935</code><br /><code>         alias ASM_DATA7</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 23565353864626532</code><br /><code>         alias ASM_DATA6</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 23661626637333762</code><br /><code>         alias ASM_DATA5</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 23739316465623063</code><br /><code>         alias ASM_DATA4</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 2333730323234392d</code><br /><code>         alias ASM_DATA3</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 23130643262613365</code><br /><code>         alias ASM_DATA2</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 23234333531326137</code><br /><code>         alias ASM_DATA1</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 23734383163616238</code><br /><code>         alias ASM_RECO1</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 23430363636323231</code><br /><code>         alias ASM_RECO2</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 23533633466613536</code><br /><code>         alias ASM_RECO3</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 23239613933333133</code><br /><code>         alias ASM_RECO4</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 23361306261623634</code><br /><code>         alias ASM_RECO5</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 2656563303366642d</code><br /><code>         alias ASM_RECO6</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 23164346539623861</code><br /><code>         alias ASM_RECO7</code><br /><code>     }</code><br /><code>     multipath {</code><br /><code>         wwid 26661333739313737</code><br /><code>         alias ASM_RECO8</code><br /><code>     }</code><br /><code>}</code><br /><code>[root@oracle631 ~]# </code></font></div><br /></font></div><div><font size="3">Check the permissions, ownership and group of the LUNs to be sure they are correct.  With these iSCSI LUNs from SCST normally the add instantly to the client machine with correct permissions and modes and no reboot is needed.  The only step required is to edit the /etc/multipath.conf file and restart multipath as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle631 ~]# ls -lrt /dev/mapper</code><br /><code>total 0</code><br /><code>crw-rw---- 1 root root 10, 236 Aug 13 10:17 control</code><br /><code>lrwxrwxrwx 1 root root       7 Aug 13 10:17 vg_oracle631-lv_swap -&gt; ../dm-1</code><br /><code>lrwxrwxrwx 1 root root       7 Aug 13 10:17 vg_oracle631-lv_root -&gt; ../dm-0</code><br /><code>lrwxrwxrwx 1 root root       7 Aug 13 10:17 vg_u00-lv_oracle -&gt; ../dm-2</code><br /><code>lrwxrwxrwx 1 root root       7 Aug 13 10:38 ASM_0512B_1 -&gt; ../dm-7</code><br /><code>lrwxrwxrwx 1 root root       7 Aug 13 10:38 ASM_DATA1 -&gt; ../dm-5</code><br /><code>lrwxrwxrwx 1 root root       7 Aug 13 10:38 ASM_0512F_1 -&gt; ../dm-4</code><br /><code>lrwxrwxrwx 1 root root       8 Aug 13 10:38 ASM_DATA6 -&gt; ../dm-10</code><br /><code>lrwxrwxrwx 1 root root       7 Aug 13 10:38 ASM_DATA3 -&gt; ../dm-8</code><br /><code>lrwxrwxrwx 1 root root       7 Aug 13 10:38 ASM_DATA4 -&gt; ../dm-6</code><br /><code>lrwxrwxrwx 1 root root       7 Aug 13 10:38 ASM_DATA5 -&gt; ../dm-9</code><br /><code>lrwxrwxrwx 1 root root       8 Aug 13 10:38 ASM_DATA8 -&gt; ../dm-11</code><br /><code>lrwxrwxrwx 1 root root       7 Aug 13 10:38 ASM_4096B_1 -&gt; ../dm-3</code><br /><code>lrwxrwxrwx 1 root root       8 Aug 13 10:38 ASM_RECO1 -&gt; ../dm-17</code><br /><code>lrwxrwxrwx 1 root root       8 Aug 13 10:38 ASM_DATA7 -&gt; ../dm-12</code><br /><code>lrwxrwxrwx 1 root root       8 Aug 13 10:38 ASM_DATA2 -&gt; ../dm-15</code><br /><code>lrwxrwxrwx 1 root root       8 Aug 13 10:38 ASM_RECO4 -&gt; ../dm-16</code><br /><code>lrwxrwxrwx 1 root root       8 Aug 13 10:38 ASM_RECO2 -&gt; ../dm-13</code><br /><code>lrwxrwxrwx 1 root root       8 Aug 13 10:38 ASM_RECO3 -&gt; ../dm-14</code><br /><code>lrwxrwxrwx 1 root root       8 Aug 13 10:38 ASM_RECO6 -&gt; ../dm-19</code><br /><code>lrwxrwxrwx 1 root root       8 Aug 13 10:38 ASM_RECO8 -&gt; ../dm-21</code><br /><code>lrwxrwxrwx 1 root root       8 Aug 13 10:38 ASM_RECO5 -&gt; ../dm-18</code><br /><code>lrwxrwxrwx 1 root root       8 Aug 13 10:38 ASM_RECO7 -&gt; ../dm-20</code><br /><br /><code>[root@oracle631 ~]# ls -lrt /dev/dm-*</code><br /><br /><code>brw-rw---- 1 root disk     252,  1 Aug 13 10:17 /dev/dm-1</code><br /><code>brw-rw---- 1 root disk     252,  0 Aug 13 10:17 /dev/dm-0</code><br /><code>brw-rw---- 1 root disk     252,  2 Aug 13 10:17 /dev/dm-2</code><br /><code>brw-rw---- 1 grid asmadmin 252,  7 Aug 13 10:38 /dev/dm-7</code><br /><code>brw-rw---- 1 grid asmadmin 252,  5 Aug 13 10:38 /dev/dm-5</code><br /><code>brw-rw---- 1 grid asmadmin 252,  4 Aug 13 10:38 /dev/dm-4</code><br /><code>brw-rw---- 1 grid asmadmin 252, 10 Aug 13 10:38 /dev/dm-10</code><br /><code>brw-rw---- 1 grid asmadmin 252,  8 Aug 13 10:38 /dev/dm-8</code><br /><code>brw-rw---- 1 grid asmadmin 252,  6 Aug 13 10:38 /dev/dm-6</code><br /><code>brw-rw---- 1 grid asmadmin 252,  9 Aug 13 10:38 /dev/dm-9</code><br /><code>brw-rw---- 1 grid asmadmin 252,  3 Aug 13 10:38 /dev/dm-3</code><br /><code>brw-rw---- 1 grid asmadmin 252, 11 Aug 13 10:38 /dev/dm-11</code><br /><code>brw-rw---- 1 grid asmadmin 252, 17 Aug 13 10:38 /dev/dm-17</code><br /><code>brw-rw---- 1 grid asmadmin 252, 12 Aug 13 10:38 /dev/dm-12</code><br /><code>brw-rw---- 1 grid asmadmin 252, 15 Aug 13 10:38 /dev/dm-15</code><br /><code>brw-rw---- 1 grid asmadmin 252, 16 Aug 13 10:38 /dev/dm-16</code><br /><code>brw-rw---- 1 grid asmadmin 252, 13 Aug 13 10:38 /dev/dm-13</code><br /><code>brw-rw---- 1 grid asmadmin 252, 14 Aug 13 10:38 /dev/dm-14</code><br /><code>brw-rw---- 1 grid asmadmin 252, 19 Aug 13 10:38 /dev/dm-19</code><br /><code>brw-rw---- 1 grid asmadmin 252, 21 Aug 13 10:38 /dev/dm-21</code><br /><code>brw-rw---- 1 grid asmadmin 252, 18 Aug 13 10:38 /dev/dm-18</code><br /><code>brw-rw---- 1 grid asmadmin 252, 20 Aug 13 10:38 /dev/dm-20</code><br /><br /><code>[root@oracle631 ~]# </code></font></div><br /></font></div><div><font size="3">Configure the LUNs with ASMLib as shown below.  Alternatively, for a large number of LUNs scripted methods can be used as shown in the Violin Memory Oracle Database Best Practice Document April 2014.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle631 ~]# oracleasm createdisk ASM_RECO1 /dev/mapper/ASM_RECO1</code><br /><code>Writing disk header: done</code><br /><code>Instantiating disk: done</code><br /><code>[root@oracle631 ~]# oracleasm createdisk ASM_RECO2 /dev/mapper/ASM_RECO2</code><br /><code>Writing disk header: done</code><br /><code>Instantiating disk: done</code><br /><code>[root@oracle631 ~]# oracleasm createdisk ASM_RECO3 /dev/mapper/ASM_RECO3</code><br /><code>Writing disk header: done</code><br /><code>Instantiating disk: done</code><br /><code>[root@oracle631 ~]# oracleasm createdisk ASM_RECO4 /dev/mapper/ASM_RECO4</code><br /><code>Writing disk header: done</code><br /><code>Instantiating disk: done</code><br /><code>[root@oracle631 ~]# oracleasm createdisk ASM_RECO5 /dev/mapper/ASM_RECO5</code><br /><code>Writing disk header: done</code><br /><code>Instantiating disk: done</code><br /><code>[root@oracle631 ~]# oracleasm createdisk ASM_RECO6 /dev/mapper/ASM_RECO6</code><br /><code>Writing disk header: done</code><br /><code>Instantiating disk: done</code><br /><code>[root@oracle631 ~]# oracleasm createdisk ASM_RECO7 /dev/mapper/ASM_RECO7</code><br /><code>Writing disk header: done</code><br /><code>Instantiating disk: done</code><br /><code>[root@oracle631 ~]# oracleasm createdisk ASM_RECO8 /dev/mapper/ASM_RECO8</code><br /><code>Writing disk header: done</code><br /><code>Instantiating disk: done</code><br /><code>[root@oracle631 ~]# </code></font></div><br />Connect to the server as grid user as shown below and run "asmca" to build the RECO asm diskgroup.  Note that asmca can be used here because these are 512 emulated LUNs so no special attributes are needed.  If these were 4096 native LUNs command line would have to be used to build the diskgroup.<br /></font></div><div><font size="3"><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ ssh -Y -C grid@10.207.39.72</code><br /><code>grid@10.207.39.72's password: </code><br /><code>Last login: Wed Aug 13 10:45:42 2014 from 10.207.39.1</code><br /><code>[grid@oracle631 ~]$ asmca</code></font></div><br /></font></div><div><font size="3">The screenshots of asmca are shown below.<br /><br /></font></div><div><font size="3"><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>The final configuration of disk</code><code>s for the Oracle database install.</code><br /><br /><code>SQL&gt; l</code><br /><code>  1* select name, label, path, total_mb, header_status, mount_status, mode_status, sector_size from v$asm_disk</code><br /><code>SQL&gt; /</code><br /><br /><code>NAME                   LABEL                   PATH              TOTAL_MB HEADER_STATU MOUNT_S MODE_ST SECTOR_SIZE</code><br /><code>------------------------------ ------------------------------- -------------------- ---------- ------------ ------- ------- -----------</code><br /><code>ASM_DATA1               ASM_DATA1               ORCL:ASM_DATA1          1024 MEMBER        CACHED  ONLINE        512</code><br /><code>ASM_DATA2               ASM_DATA2               ORCL:ASM_DATA2          1024 MEMBER        CACHED  ONLINE        512</code><br /><code>ASM_DATA3               ASM_DATA3               ORCL:ASM_DATA3          1024 MEMBER        CACHED  ONLINE        512</code><br /><code>ASM_DATA4               ASM_DATA4               ORCL:ASM_DATA4          1024 MEMBER        CACHED  ONLINE        512</code><br /><code>ASM_DATA5               ASM_DATA5               ORCL:ASM_DATA5          1024 MEMBER        CACHED  ONLINE        512</code><br /><code>ASM_DATA6               ASM_DATA6               ORCL:ASM_DATA6          1024 MEMBER        CACHED  ONLINE        512</code><br /><code>ASM_DATA7               ASM_DATA7               ORCL:ASM_DATA7          1024 MEMBER        CACHED  ONLINE        512</code><br /><code>ASM_DATA8               ASM_DATA8               ORCL:ASM_DATA8          1024 MEMBER        CACHED  ONLINE        512</code><br /><code>SYSTEMDG                SYSTEMDG                ORCL:SYSTEMDG           1024 MEMBER        CACHED  ONLINE        512</code><br /><code>ASM_RECO1               ASM_RECO1               ORCL:ASM_RECO1          1024 MEMBER        CACHED  ONLINE        512</code><br /><code>ASM_RECO2               ASM_RECO2               ORCL:ASM_RECO2          1024 MEMBER        CACHED  ONLINE        512</code><br /><code>ASM_RECO3               ASM_RECO3               ORCL:ASM_RECO3          1024 MEMBER        CACHED  ONLINE        512</code><br /><code>ASM_RECO4               ASM_RECO4               ORCL:ASM_RECO4          1024 MEMBER        CACHED  ONLINE        512</code><br /><code>ASM_RECO5               ASM_RECO5               ORCL:ASM_RECO5          1024 MEMBER        CACHED  ONLINE        512</code><br /><code>ASM_RECO6               ASM_RECO6               ORCL:ASM_RECO6          1024 MEMBER        CACHED  ONLINE        512</code><br /><code>ASM_RECO7               ASM_RECO7               ORCL:ASM_RECO7          1024 MEMBER        CACHED  ONLINE        512</code><br /><code>ASM_RECO8               ASM_RECO8               ORCL:ASM_RECO8          1024 MEMBER        CACHED  ONLINE        512</code><br /><br /><code>17 rows selected.</code><br /><br /><code>SQL&gt; </code></font></div><br /></font></div><div><font size="3">Obtain the Oracle binaries and install for your chosen version of database.  Begin the install.  Here the oracle install media is unpacked under the /home/oracle directory as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[oracle@oracle631 database]$ pwd</code><br /><code>/home/oracle/database</code><br /><code>[oracle@oracle631 database]$ ./runInstaller </code><br /><code>Starting Oracle Universal Installer...</code><br /><br /><code>Checking Temp space: must be greater than 120 MB.   Actual 2527 MB    Passed</code><br /><code>Checking swap space: must be greater than 150 MB.   Actual 5087 MB    Passed</code><br /><code>Checking monitor: must be configured to display at least 256 colors.    Actual 16777216    Passed</code><br /><code>Preparing to launch Oracle Universal Installer from /tmp/OraInstall2014-08-13_11-36-50AM. Please wait ...</code><br /><code>[oracle@oracle631 database]$</code></font></div><br /></font></div><div><font size="3"><br /><div><div class="site-code-embed-container" data-code="&lt;script&gt;&#xA;  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){&#xA;  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),&#xA;  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)&#xA;  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');&#xA;&#xA;  ga('create', 'UA-54224306-1', 'auto');&#xA;  ga('send', 'pageview');&#xA;&#xA;&lt;/script&gt;" data-scrollable="true" style="display:block;float:left;width:480px;height:320px;"></div></div><br /><br /></font></div><div><font size="3"><br /><br /><br /><br /><br /><br /><br /></font><br /></div><br /><br /><br /><br /></div></div></div></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-attachments">
<div class="sites-attachments-row"><div class="sites-attachments-icon" style="left:0px;"><span aria-label="Attachments" title="Attachments"><div class="sites-translucent sites-symbol" aria-hidden="true">Č</div></span></div><div id="sites-attachments-update-div" class="sites-attachments-inner-div" style="display:none;"><span class="sites-attachments-update-icon"><img src="https://ssl.gstatic.com/sites/p/c9c36f/system/app/images/spinner.gif" /></span><div class="sites-attachments-update-text">Updating...</div></div></div><div class="sites-attachments-separator"></div>
<div id="attachment-wuid:gx:32963b85873eb3d5"><div class="sites-attachments-row"><div class="sites-attachments-icon sites-attachments-icon-accessible" style="left:5px"><div class="sites-translucent sites-symbol" aria-label="File" title="File">ċ</div></div><div class="sites-attachments-inner-div"><div class="sites-attachments-name">scst.log <div class="sites-translucent">(48k)</div></div><div class="sites-attachments-author">Gilbert Standen, <div class="sites-translucent">Aug 23, 2014, 12:23 PM</div></div></div><div class="sites-attachments-version sites-attachments-version-accessible"><a href="../system/app/pages/admin/revisions%3Fwuid=wuid:gx:32963b85873eb3d5.html">v.1</a></div><div id="attachment-download-wuid:gx:32963b85873eb3d5" class="sites-attachments-icon sites-attachments-icon-accessible" style="right:0px"><a href="kvm-scst-uek-3-8/scst.log%3Fattredirects=0&amp;d=1" aria-label="Download scst.log" title="Download" role="button" target="_blank" rel="noopener noreferrer"><span class="sites-symbol" aria-hidden="true">ď</span></a></div></div><div class="sites-attachments-separator"></div></div>
<div style="height: 10px"></div>
</div>
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-subfooter"><div class="sites-subfooter-content"><br /></div></div>
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://accounts.google.com/ServiceLogin?continue=https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/scst/kvm-scst-uek-3-8&amp;service=jotspot">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com/site">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/c9c36f/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/a/orabuntu-lxc.com/brandydandyoracle/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("2bd", "Navigation", true);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_2bd');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvbsUtc3zC_LBoVbZyRGtWgFMw4Ymf-i3viiAJfdm0tZVVb2_RlAfSf6jMOEwaTlprsahvctwj9OnmCcxn6xOC5kSnp1SimCFvulChtJ_D_cpJhMfXmYP_JZLhYPc43Za0lWwW7xl6IZ3ppg0TyK-KXM-RRzw/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([1109635200000, 1128902400000, 1130657000000, 1143333000000, 1143806400000, 1145000000000, 1146380000000, 1152489600000, 1159800000000, 1159500000000, 1162095000000, 1162075000000, 1162105500000]);
    gsites.Xhr.send('https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<script type="text/javascript">
          sites.codeembed.init();
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
