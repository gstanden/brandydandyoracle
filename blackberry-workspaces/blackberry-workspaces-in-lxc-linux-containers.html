<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { /*

Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/
(function(){function e(g){this.t={};this.tick=function(h,k,f){this.t[h]=[void 0!=f?f:(new Date).getTime(),k];if(void 0==f)try{window.console.timeStamp("CSI/"+h)}catch(m){}};this.getStartTickTime=function(){return this.t.start[0]};this.tick("start",null,g)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var l=0<d?new e(d):new e;window.jstiming={Timer:e,load:l};if(a){var b=a.navigationStart;0<b&&d>=b&&(window.jstiming.srt=d-b)}if(a){var c=window.jstiming.load;0<b&&d>=
b&&(c.tick("_wtsrt",void 0,b),c.tick("wtsrt_","_wtsrt",d),c.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),c&&0<b&&(c.tick("_tbnd",void 0,window.chrome.csi().startE),c.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,c&&0<b&&(c.tick("_tbnd",void 0,window.external.startE),c.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(g){}})(); })()
</script>
<link rel="shortcut icon" href="../_/rsrc/1518480252104/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/c9c36f/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { function d(a){return document.getElementById(a)}window.byId=d;function g(a){return a.replace(/^\s+|\s+$/g,"")}window.trim=g;var h=[],k=0;window.JOT_addListener=function(a,b,c){var f=new String(k++);a={eventName:a,handler:b,compId:c,key:f};h.push(a);return f};window.JOT_removeListenerByKey=function(a){for(var b=0;b<h.length;b++)if(h[b].key==a){h.splice(b,1);break}};window.JOT_removeAllListenersForName=function(a){for(var b=0;b<h.length;b++)h[b].eventName==a&&h.splice(b,1)};
window.JOT_postEvent=function(a,b,c){var f={eventName:a,eventSrc:b||{},payload:c||{}};if(window.JOT_fullyLoaded)for(b=h.length,c=0;c<b&&c<h.length;c++){var e=h[c];e&&e.eventName==a&&(f.listenerCompId=e.compId||"",(e="function"==typeof e.handler?e.handler:window[e.handler])&&e(f))}else window.JOT_delayedEvents.push({eventName:a,eventSrc:b,payload:c})};window.JOT_delayedEvents=[];window.JOT_fullyLoaded=!1;
window.JOT_formatRelativeToNow=function(a,b){a=((new Date).getTime()-a)/6E4;if(1440<=a||0>a)return null;var c=0;60<=a&&(a/=60,c=2);2<=a&&c++;return b?window.JOT_siteRelTimeStrs[c].replace("__duration__",Math.floor(a)):window.JOT_userRelTimeStrs[c].replace("__duration__",Math.floor(a))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/a/orabuntu-lxc.com/brandydandyoracle/blackberry-workspaces","deleted":false,"title":"Blackberry Workspaces","dir":"ltr"},{"path":"/a/orabuntu-lxc.com/brandydandyoracle/blackberry-workspaces/blackberry-workspaces-in-lxc-linux-containers","deleted":false,"title":"Blackberry Workspaces in LXC Linux Containers","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/c9c36f/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"gvizGstaticVersion":"current","enableAnalytics":true,"pageSharingId":"jotspot_page","codeembeds":{"outerIframeSrc":"https://www.gstatic.com/jotspot/embeds/code/0f08d42392f2000e7e3f3daf5b427a43/outer_iframe.html","innerIframeSrc":"https://1713638077-jotspot-embeds.googleusercontent.com/code/8d87fa64604b2a11fae2ed06104c58d3/inner_iframe.html"},"enableUniversalAnalytics":false,"sharingPolicy":"OPENED","siteTitle":"brandydandyoracle","experiments":{"enableSubpagesGadgetInTakeout":true,"overrideDisableDomainEditing":false,"DisableSiteEditingFeature__disable_site_editing":true,"disableDomainEditing":false},"jot2atari":{"eligibility":"INELIGIBLE"},"onepickUrl":"https://docs.google.com/picker","adsensePublisherId":null,"features":{"moreMobileStyleImprovements":null,"subscriptionDataMigrationInProgress":null,"plusBadge":false},"configProperties":{"disableSiteEditing":null},"isPublic":true,"newSitesBaseUrl":"https://sites.google.com","isConsumer":false,"serverFlags":{"jot2AtariLearnMoreUrl":"https://support.google.com/sites/answer/7035197"},"domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://accounts.google.com/AccountChooser?continue\u003dhttps://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/blackberry-workspaces/blackberry-workspaces-in-lxc-linux-containers\u0026service\u003djotspot","analyticsAccountId":"UA-54224306-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/c9c36f/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/c9c36f/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/trogedit.css","/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1628148289000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/codeeditor.css","/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1628148289000/system/app/css/camelot/editor-jfk.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"orabuntu-lxc.com","baseUri":"/a/orabuntu-lxc.com/brandydandyoracle","name":"brandydandyoracle","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/blackberry-workspaces","parentWuid":"wuid:gx:2d7d78782d5199fb","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"Blackberry Workspaces in LXC Linux Containers","locale":"en","wuid":"wuid:gx:3cc6d6487c8feafe","revision":85,"path":"/blackberry-workspaces/blackberry-workspaces-in-lxc-linux-containers","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"blackberry-workspaces-in-lxc-linux-containers","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false,"isGoogleAdmin":false},"gadgets":{"baseUri":"/a/orabuntu-lxc.com/brandydandyoracle/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Blackberry Workspaces in LXC Linux Containers - brandydandyoracle" />
<meta itemprop="name" content="Blackberry Workspaces in LXC Linux Containers - brandydandyoracle" />
<meta property="og:title" content="Blackberry Workspaces in LXC Linux Containers - brandydandyoracle" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/c9c36f/system/app/themes/solitudeolive/standard-css-solitudeolive-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1628148289000/system/app/css/overlay.css%3Fcb=solitudeolive93320goog-ws-leftcontentthemedefaultstandard.css" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1628148289000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/a/orabuntu%2dlxc.com/brandydandyoracle/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Blackberry Workspaces in LXC Linux Containers - brandydandyoracle</title>
<meta itemprop="image" content="https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1518539024041/blackberry-workspaces/blackberry-workspaces-in-lxc-linux-containers/badmail.png" />
<meta property="og:image" content="https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1518539024041/blackberry-workspaces/blackberry-workspaces-in-lxc-linux-containers/badmail.png" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner" style="height: 93px"><div class="sites-header-cell-buffer-wrapper"><h2><a href="../index.html" dir="ltr" id="sites-chrome-userheader-title">brandydandyoracle</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
<div class="sites-header-nav"><ul class="sites-header-nav-container-boxes"><li class="unselected"><a class="sites-navigation-link unselected" href="../system/app/pages/sitemap/hierarchy.html">Sitemap</a></li></ul><div style="clear: both;"></div></div>
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:320px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_2bd" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList" class="has-expander"><li class="topLevel nav-first parent " wuid="gx:1771d7481512b604"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../home.html" jotId="wuid:gx:1771d7481512b604" class="sites-navigation-link topLevel">Home</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../home/brother-mfc-456cn-ubuntu-driver.html" jotId="wuid:gx:687d1f16adfece4e" class="sites-navigation-link">Brother MFC-456CN Ubuntu Driver</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../home/resume-short.html" jotId="wuid:gx:7ed50173758f1f8d" class="sites-navigation-link">Resume-Short</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../aws.html" jotId="wuid:gx:513e26955ed0bab9" class="sites-navigation-link topLevel">AWS</a></div></li><li class="topLevel parent " wuid="gx:2d7d78782d5199fb"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../blackberry-workspaces.html" jotId="wuid:gx:2d7d78782d5199fb" class="sites-navigation-link topLevel">Blackberry Workspaces</a></div><ul role="navigation" class="has-expander"><li class=""><div class="current-bg" jotId="wuid:gx:3cc6d6487c8feafe" dir="ltr" style="padding-left: 38px;">Blackberry Workspaces in LXC Linux Containers</div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="blackberry-workspaces-on-aws-ec2.html" jotId="wuid:gx:11790a2b5038525c" class="sites-navigation-link">Blackberry Workspaces on AWS EC2</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html" jotId="wuid:gx:1529117a57ecdba8" class="sites-navigation-link topLevel">Blackberry Workspaces in LXC Linux Containers on AWS EC2</a></div></li><li class="topLevel parent " wuid="gx:515464018f6bd717"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../centos7.html" jotId="wuid:gx:515464018f6bd717" class="sites-navigation-link topLevel">CentOS7</a></div><ul role="navigation" class="has-expander"><li class="parent closed " wuid="gx:46a7d96b1e768956"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../centos7/centos7-desktop.html" jotId="wuid:gx:46a7d96b1e768956" class="sites-navigation-link">CentOS7 Desktop</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-desktop/cisco-anyconnect-vpn-centos-7.html" jotId="wuid:gx:50d39b77de17a94c" class="sites-navigation-link">Cisco AnyConnect VPN CentOS 7 GNOME Desktop</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-desktop/cisco-anyconnect-vpn-centos-7-server-gui-with-kde.html" jotId="wuid:gx:77bba3a647193c" class="sites-navigation-link">Cisco AnyConnect VPN CentOS 7 Server GUI with KDE</a></div></li></ul></li><li class="parent closed " wuid="gx:73046cf3c3d2eaf2"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../centos7/centos7-general.html" jotId="wuid:gx:73046cf3c3d2eaf2" class="sites-navigation-link">CentOS7 General</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/dns-named-install-centos7-1.html" jotId="wuid:gx:3ac64e4220d3882e" class="sites-navigation-link">DNS DHCP Install CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/lxc-create-centos-7-2-container.html" jotId="wuid:gx:317f96357032310b" class="sites-navigation-link">LXC Create CentOS 7.2 Container</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/lxc-source-build-centos7.html" jotId="wuid:gx:5affb1858ab31aa9" class="sites-navigation-link">LXC Source Build CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/openvswitch-source-build-centos7.html" jotId="wuid:gx:156568a493298e2c" class="sites-navigation-link">OVS  (OpenvSwitch) Source Build CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/scst-centos-7-2-1511-core.html" jotId="wuid:gx:212b0b144e1fcb8c" class="sites-navigation-link">SCST Source Build CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/xfs-lvm-grow-centos7.html" jotId="wuid:gx:5e00471ebcc94e3e" class="sites-navigation-link">XFS LVM Grow CentOS7</a></div></li></ul></li></ul></li><li class="topLevel parent " wuid="gx:4184304c507d6cf0"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../kvm-and-openvswitch.html" jotId="wuid:gx:4184304c507d6cf0" class="sites-navigation-link topLevel">KVM and OpenvSwitch</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/add-pv-kvm-guest-vg.html" jotId="wuid:gx:f4ec37bc44defc6" class="sites-navigation-link">KVM Add PV Guest VG</a></div></li><li class="parent closed " wuid="gx:140bef1e880d2c0c"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../kvm-and-openvswitch/kvm-dg-migration.html" jotId="wuid:gx:140bef1e880d2c0c" class="sites-navigation-link">KVM DG Migration</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../kvm-and-openvswitch/kvm-dg-migration/rman-script.html" jotId="wuid:gx:67093dbbc93cdadc" class="sites-navigation-link">RMAN Script</a></div></li></ul></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-dns-oel-6-5.html" jotId="wuid:gx:5f50087695eef84b" class="sites-navigation-link">KVM DNS OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-dns-ul-14-04.html" jotId="wuid:gx:42ab043f5ac96f0f" class="sites-navigation-link">KVM DNS UL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-lxc-dns-ul-14-04.html" jotId="wuid:gx:2cd19b29fe55d875" class="sites-navigation-link">KVM LXC DNS UL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-mail-oel-6-5.html" jotId="wuid:gx:76072d3822550956" class="sites-navigation-link">KVM MAIL OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-oracle-clone.html" jotId="wuid:gx:152a84896b4db53b" class="sites-navigation-link">KVM Oracle Clone</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/ovs-kvm-oel-6-5.html" jotId="wuid:gx:371cf26362b6010e" class="sites-navigation-link">KVM OVS OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-ovs-oel-6-5.html" jotId="wuid:gx:75ead37952686999" class="sites-navigation-link">KVM OVS OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/kvm-openvswitch-1.html" jotId="wuid:gx:5c2152473fdc6ccc" class="sites-navigation-link">KVM OVS UEL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/resize-swap-lv.html" jotId="wuid:gx:399989aadef41fc3" class="sites-navigation-link">KVM Resize Swap LV</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/remove-kvm-disk.html" jotId="wuid:gx:707b288cc8f2b5a6" class="sites-navigation-link">Remove KVM Disk</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/remove-kvm-vbdp-disk.html" jotId="wuid:gx:33b6b83da936ce09" class="sites-navigation-link">Remove KVM VBDP Disk</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/resize-kvm-disk.html" jotId="wuid:gx:623a431aae174a92" class="sites-navigation-link">Resize KVM Disk</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../kvm-and-openvswitch/solaris-10-kvm-ovs-12c-gi-rac.html" jotId="wuid:gx:422583d75ebc70db" class="sites-navigation-link">Solaris 10 KVM OVS 12c GI RAC</a></div></li></ul></li><li class="topLevel parent " wuid="gx:4327ced0f58d8a86"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lenovo-thinkpad-p70.html" jotId="wuid:gx:4327ced0f58d8a86" class="sites-navigation-link topLevel">Lenovo ThinkPad P70</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/a-brief-guide-to-running-multiple-os-on-lenovo-thinkpad-p70-mobile-workstation.html" jotId="wuid:gx:48694287bced9d0a" class="sites-navigation-link">A Brief Guide to Running Multiple OS  on Lenovo ThinkPad P70 Mobile Workstation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/booting-to-graphical-ui-oracle-uek4-kernel-on-lenovo-p70-thinkpad.html" jotId="wuid:gx:30d8c05433ca020b" class="sites-navigation-link">Booting to Graphical UI Desktop Oracle UEK4 Kernel on Lenovo P70 Thinkpad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configure-wired-network-uek3-lenovo-p70-thinkpad.html" jotId="wuid:gx:77458fd960e08fe6" class="sites-navigation-link">Configure Wired Network UEK3 Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configure-wireless-network-uek3-lenovo-p70-thinkpad.html" jotId="wuid:gx:784425a052a48fc4" class="sites-navigation-link">Configure Wireless Network UEK3 Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configuring-external-monitors-on-oracle-linux-uek4-kernel-on-lenovo-p70-thinkpad.html" jotId="wuid:gx:6d22a62e4b021a82" class="sites-navigation-link">Configuring External Monitors on Oracle Linux UEK4 Kernel on Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configuring-wifi-on-oracle-linux-uek4-kernel.html" jotId="wuid:gx:2491259c2c6fb6e7" class="sites-navigation-link">Configuring WIFI on Oracle Linux UEK4 Kernel on Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/advantages-of-running-multiple-linux-distros-on-lenovo-p70-thinkpad-mobile-workstation.html" jotId="wuid:gx:3e26fa7db9c8ec5d" class="sites-navigation-link">Fixing BooBoos with Multiple Linux Distros on Lenovo P70 ThinkPad Mobile Workstation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/flash-installation-oracle-linux-uek4-lenovo-p70-mobile-workstation.html" jotId="wuid:gx:206da7bba5eb893d" class="sites-navigation-link">Flash Installation Oracle Linux UEK4 Lenovo P70 Mobile Workstation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/lenovo-thinkpad-p70-bios-flash-upgrade.html" jotId="wuid:gx:13c9853fd6822c1e" class="sites-navigation-link">Lenovo ThinkPad P70 BIOS Flash Upgrade</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/samsung-256-gb-m-2-950-pro-nvme.html" jotId="wuid:gx:4cf81fe1594a405c" class="sites-navigation-link">Samsung 256 Gb M.2 950 Pro NVME</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/samsung-evo-950-pro-256gb-m-2-ssd-vs-pm951-512gb-m-2-ssd.html" jotId="wuid:gx:5ea2a361cb8c66c8" class="sites-navigation-link">Samsung [(evo950 nvme) vs (pm951 nvme)] vs. Toshiba [OCZ RD400 1Tb nvme] M.2</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/ubuntu-17-10-artful-aardvark-lenovo-p70-mobile-workstation.html" jotId="wuid:gx:6fcad2f1dc0cfefc" class="sites-navigation-link">Ubuntu 17.10 Artful Aardvark Lenovo P70 Mobile Workstation</a></div></li></ul></li><li class="topLevel parent " wuid="gx:2a65617e5bca4df7"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lenovo-p72.html" jotId="wuid:gx:2a65617e5bca4df7" class="sites-navigation-link topLevel">Lenovo ThinkPad P72</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-p72/lenovo-part-40an0230us-thinkpad-thunderbolt-3-workstation-dock.html" jotId="wuid:gx:3b289d1da9ec8d8" class="sites-navigation-link">Lenovo Part #40AN0230US ThinkPad Thunderbolt 3 Workstation Dock</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-p72/lenovo-part-gx90m61235-thinkpad-usb-c-travel-hub.html" jotId="wuid:gx:62e9dde894d17ff7" class="sites-navigation-link">Lenovo Part #GX90M61235 ThinkPad USB-C Travel Hub</a></div></li></ul></li><li class="topLevel parent " wuid="gx:3c0bb513eca76dd7"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lxc-linux-containers.html" jotId="wuid:gx:3c0bb513eca76dd7" class="sites-navigation-link topLevel">LXC Linux Containers</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/install-oracle-supported-lxc-version-on-oracle-linux-uek4.html" jotId="wuid:gx:2803b780a785d633" class="sites-navigation-link">Install Oracle-Supported LXC Version on Oracle Linux 7 UEK4</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-3-0-1-oracle-8-source-build.html" jotId="wuid:gx:6d97bc40356b5b00" class="sites-navigation-link">LXC 3.0.1 Oracle 8 Source Build</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-environment-oel6.html" jotId="wuid:gx:498ae875c3ff8712" class="sites-navigation-link">LXC Environment OEL6</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-in-windows-10-bash-shell.html" jotId="wuid:gx:6b5a1e6d23bf1535" class="sites-navigation-link">LXC in Windows 10 Bash Shell</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-iproute2.html" jotId="wuid:gx:4770b5dee1c84e5d" class="sites-navigation-link">LXC iproute2</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-oracle-rdbms.html" jotId="wuid:gx:66170fca9aaf9bdb" class="sites-navigation-link">LXC Oracle RDBMS</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-ovs-bind-dns.html" jotId="wuid:gx:5ba336cc440e699a" class="sites-navigation-link">LXC OVS BIND DNS</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-vlc-oel6-5.html" jotId="wuid:gx:4e0871c894b402f5" class="sites-navigation-link">LXC VLC OEL6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/nvme-in-lxc.html" jotId="wuid:gx:344f13d75997f6ef" class="sites-navigation-link">NVME in LXC</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/source-build-lxc-ubuntu-16-04.html" jotId="wuid:gx:3668e93ca6fd3ec7" class="sites-navigation-link">Source Build LXC Ubuntu 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/veth-pair-cleanup-lxc.html" jotId="wuid:gx:eb4a3c8e75f750" class="sites-navigation-link">Veth Pair Cleanup LXC</a></div></li></ul></li><li class="topLevel parent " wuid="gx:904bf1e1a964cfa"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-in-lxd-1.html" jotId="wuid:gx:904bf1e1a964cfa" class="sites-navigation-link topLevel">LXD the Lighter-visor</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-in-lxd-1/building-oracle-enteprise-in-lxd.html" jotId="wuid:gx:3385e4f2498c1f97" class="sites-navigation-link">Building Oracle Enteprise in LXD</a></div></li></ul></li><li class="topLevel parent " wuid="gx:141aad64735ed8a7"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../openvswitch-ovs.html" jotId="wuid:gx:141aad64735ed8a7" class="sites-navigation-link topLevel">OpenvSwitch (OVS)</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/build-networkmanager-1-11-1-on-ubuntu-17-10.html" jotId="wuid:gx:4cd3336e7866b65e" class="sites-navigation-link">Build NetworkManager 1.11.1 on Ubuntu 17.10</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/configuring-virtualbox-vms-for-openvswitch-networking.html" jotId="wuid:gx:102f61a047f4fe27" class="sites-navigation-link">Configuring VirtualBox VMs for OpenvSwitch Networking</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/install-openvswitch-oel-uek3.html" jotId="wuid:gx:2603341f63b9d97a" class="sites-navigation-link">Install OpenvSwitch OEL UEK3</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/networking-problem-1.html" jotId="wuid:gx:65a0bbff837cdb64" class="sites-navigation-link">Networking Problem:  "The Lawnmower Man"</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/openvswitch-patch-ports.html" jotId="wuid:gx:9eac33f7488f9a0" class="sites-navigation-link">OpenvSwitch Patch Ports</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/build-openvswitch-from-source-on-oracle-linux-uek.html" jotId="wuid:gx:5d8addb931f09666" class="sites-navigation-link">OVS Source Build Oracle Linux 6 UEK3 Kernel</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/openvswitch-source-build-oracle-linux-7-uek4.html" jotId="wuid:gx:9f9da13c419a4e6" class="sites-navigation-link">OVS Source Build Oracle Linux 7 UEK4 Kernel</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/ovs-source-build-ubuntu-linux-16-04.html" jotId="wuid:gx:cc6b77eb34b437c" class="sites-navigation-link">OVS Source Build Ubuntu Linux 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/ovs-switch-as-a-service.html" jotId="wuid:gx:657c023b7927b1fa" class="sites-navigation-link">OVS Switch-As-A-Service Oracle Linux 7 UEK4</a></div></li></ul></li><li class="topLevel parent " wuid="gx:2a47e1cfadbf417d"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../orabuntu-lxc.html" jotId="wuid:gx:2a47e1cfadbf417d" class="sites-navigation-link topLevel">Orabuntu-LXC</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../orabuntu-lxc/using-systemd-resolved-in-a-networkmanager-environment.html" jotId="wuid:gx:87f2aaaf2ecb31b" class="sites-navigation-link">Configuring systemd-resolved in a NetworkManager Environment</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../orabuntu-lxc/lxc-containerized-dns-dhcp-configurations.html" jotId="wuid:gx:3d12f3317c481ea" class="sites-navigation-link">LXC Containerized DNS-DHCP Configurations (Ubuntu dnsmasq bind9)</a></div></li></ul></li><li class="topLevel parent " wuid="gx:56211f056f6b1e69"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-asmlib.html" jotId="wuid:gx:56211f056f6b1e69" class="sites-navigation-link topLevel">Oracle ASM and ASMLib</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-asmlib/build-asmlib-from-source.html" jotId="wuid:gx:37a420222f203d29" class="sites-navigation-link">ASMLib Source Build RHEL5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-asmlib/build-asmlib-from-source-on-rhel6.html" jotId="wuid:gx:258e6072b6403dc3" class="sites-navigation-link">ASMLib Source Build RHEL6</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-asmlib/rename-asm-sysdg.html" jotId="wuid:gx:44112e6c154428fe" class="sites-navigation-link">Rename ASM SYSDG</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../oracle-in-lxd.html" jotId="wuid:gx:1e2c0c88ac7cfde3" class="sites-navigation-link topLevel">Oracle in LXD</a></div></li><li class="topLevel parent " wuid="gx:7024699ef06b6856"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-linux-uek-kernel.html" jotId="wuid:gx:7024699ef06b6856" class="sites-navigation-link topLevel">Oracle Linux UEK Kernel</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-linux-uek-kernel/configuring-ipmi-console-redirection.html" jotId="wuid:gx:323acc64d4abf9a4" class="sites-navigation-link">Configuring IPMI Console Redirection</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-linux-uek-kernel/getting-kernel-headers-for-oracle-linux-uek-kernels.html" jotId="wuid:gx:264700ca67aa6f51" class="sites-navigation-link">Getting Kernel Headers Oracle Linux 7 UEK</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-linux-uek-kernel/lxc-source-build-oracle-linux-uek4.html" jotId="wuid:gx:65f6caada28e4879" class="sites-navigation-link">LXC Source Build Oracle Linux 7 UEK4</a></div></li></ul></li><li class="topLevel parent " wuid="gx:392e9c328d805127"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-rac.html" jotId="wuid:gx:392e9c328d805127" class="sites-navigation-link topLevel">Oracle RAC</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac/re-ip-rac.html" jotId="wuid:gx:60fa56c8049956b9" class="sites-navigation-link">Re-IP RAC</a></div></li></ul></li><li class="topLevel parent " wuid="gx:49aa6ea0c073802a"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-rac-in-lxc-linux-containers.html" jotId="wuid:gx:49aa6ea0c073802a" class="sites-navigation-link topLevel">Oracle RAC in LXC Linux Containers</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/12c-asm-flex-cluster-on-violin-memory-array.html" jotId="wuid:gx:2d93d5e8d118918d" class="sites-navigation-link">12c ASM Flex Cluster on Violin Memory Array</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-12c-6-node-asm-gns-flex-rac-on-lxc-linux-containers-ubuntu-15-04.html" jotId="wuid:gx:31b7a6e9df077adf" class="sites-navigation-link">Oracle 12c 6-node ASM GNS Flex RAC on LXC Linux Containers Ubuntu 15.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-12c-rac-asm-flex-cluster-on-ubuntu-14-10.html" jotId="wuid:gx:6d52027c26f6bd96" class="sites-navigation-link">Oracle 12c RAC ASM Flex Cluster on LXC Linux Containers Ubuntu 14.10</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-12c-rac-asm-flex-cluster-on-lxc-linux-containers-ubuntu-14-10.html" jotId="wuid:gx:7cf2aebcf0bd8b4a" class="sites-navigation-link">Oracle 12c RAC ASM Flex Cluster on LXC Linux Containers Ubuntu 14.10</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-12c-rac-asm-flex-cluster-on-lxc-linux-containers-ubuntu-15-04.html" jotId="wuid:gx:e7aeed695cf1a4a" class="sites-navigation-link">Oracle 12c RAC ASM Flex Cluster on LXC Linux Containers Ubuntu 15.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-12c-rac-in-gce-on-ubuntu-14-04-1.html" jotId="wuid:gx:ed0be0d284c02f0" class="sites-navigation-link">Oracle 12c RAC in GCE on Ubuntu 14.04.1</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-lxc-vlc.html" jotId="wuid:gx:3ecee06d4a4b2ffe" class="sites-navigation-link">Oracle EE ASM 12c LXC Ubuntu 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/docker-11gr2-ee-ul.html" jotId="wuid:gx:2863b8f1b8a0ae5d" class="sites-navigation-link">Oracle EE DB 11gR2 Docker Ubuntu 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-rac-6-node-12c-gns-asm-flex-cluster-ubuntu-15-04-automated.html" jotId="wuid:gx:1360b78ff726d213" class="sites-navigation-link">Oracle RAC 6-node 12c GNS ASM Flex Cluster Ubuntu 15.04 Automated</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-rac-6-node-12c-gns-asm-flex-cluster-ubuntu-15-04-install.html" jotId="wuid:gx:d6f61d65bebb324" class="sites-navigation-link">Oracle RAC 6-node 12c GNS ASM Flex Cluster Ubuntu 15.04 Install</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html" jotId="wuid:gx:55d12384bf11a4ac" class="sites-navigation-link">Ubuntu 14.04.1 Oracle GI 12c ASM Flex Cluster on LXC Containers</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/lxc-ovs-rac-gns.html" jotId="wuid:gx:3a38a5c143561a9b" class="sites-navigation-link">Ubuntu LXC OEL OVS ASM GNS RAC (12c)</a></div></li></ul></li><li class="topLevel parent " wuid="gx:b42a27877981be1"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-rman.html" jotId="wuid:gx:b42a27877981be1" class="sites-navigation-link topLevel">Oracle RMAN</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rman/rman-active-duplicate-script.html" jotId="wuid:gx:51524327d66ae40f" class="sites-navigation-link">RMAN Active Duplicate Script</a></div></li></ul></li><li class="topLevel parent " wuid="gx:89ec64364eab694"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../engineering-docs.html" jotId="wuid:gx:89ec64364eab694" class="sites-navigation-link topLevel">Projects</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../engineering-docs/11gr2---12cr2-dataguard-upgrade-in-ol-lxc-on-ubuntu-17-04.html" jotId="wuid:gx:1da20af09381ca55" class="sites-navigation-link">11gR2 -&gt; 12cR2 Dataguard Upgrade in OL LXC on Ubuntu 17.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../engineering-docs/vmos6-oracle-snapshots.html" jotId="wuid:gx:1ea7e4c3c5ca52d" class="sites-navigation-link">VMOS6 Oracle Snapshots</a></div></li></ul></li><li class="topLevel parent " wuid="gx:204d0c728c285380"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../robin-systems.html" jotId="wuid:gx:204d0c728c285380" class="sites-navigation-link topLevel">Robin Systems</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/configuring-hugepages-for-oracle.html" jotId="wuid:gx:52999571538d8ca7" class="sites-navigation-link">Configuring HugePages for Oracle on CentOS 7 Robin Hosts</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-12c-rac-asm-flex-cluster.html" jotId="wuid:gx:4460573d54662758" class="sites-navigation-link">Robin 12c RAC ASM Flex Cluster</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-server-install-centos-7-vm.html" jotId="wuid:gx:573c9ade4fca5871" class="sites-navigation-link">Robin Server Install CentOS 7 VM</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-slob2-pdb-protocols.html" jotId="wuid:gx:4f404578ed53bc1" class="sites-navigation-link">Robin SLOB2 PDB Protocols</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-slob2-testing-notes.html" jotId="wuid:gx:653c530a0894e054" class="sites-navigation-link">Robin SLOB2 Testing Notes</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-virtualbox-ovs.html" jotId="wuid:gx:3ede1bee391dc4db" class="sites-navigation-link">Robin VirtualBox OVS</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/the-surfing-life.html" jotId="wuid:gx:1f2b8b97c48d346a" class="sites-navigation-link">The Surfing Life</a></div></li></ul></li><li class="topLevel parent " wuid="gx:42a5103bbab0903f"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../scst.html" jotId="wuid:gx:42a5103bbab0903f" class="sites-navigation-link topLevel">SCST</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/reset-lun-read-only-attributes.html" jotId="wuid:gx:19d5a823bab350d4" class="sites-navigation-link">Reset LUN Read-Only Attributes</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-create-deb-package-and-install-fpm.html" jotId="wuid:gx:2f9a5abb765dc8ab" class="sites-navigation-link">SCST Create Deb Package and Install</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-debian-dkms-package-build-from-source-ubuntu-17-04.html" jotId="wuid:gx:263b273ada4b1198" class="sites-navigation-link">SCST Debian (DKMS) Package Build from Source (Ubuntu  15.04-17.04+)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-debian-dkms-package-build-from-source-ubuntu-14-04.html" jotId="wuid:gx:37519387aa0d7b34" class="sites-navigation-link">SCST Debian (DKMS) Package Build from Source (Ubuntu 14.04)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-debian-package-build-from-source-ubuntu-15-04-17-04.html" jotId="wuid:gx:376a668b36e2458e" class="sites-navigation-link">SCST Debian Package Build from Source (Ubuntu 15.04-17.04+)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-debian-package-build-from-source-ubuntu-17-04.html" jotId="wuid:gx:23e3728da5d7b341" class="sites-navigation-link">SCST Debian Package Build from Source (Ubuntu 17.04)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/kvm-scst-oel-6-5.html" jotId="wuid:gx:35aca0b4a22810be" class="sites-navigation-link">SCST KVM OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/kvm-scst-uek-3-8.html" jotId="wuid:gx:727a09d4af2e0cb6" class="sites-navigation-link">SCST KVM UEK 3.8</a></div></li><li class="parent closed " wuid="gx:22f557a9fc2e1e25"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../scst/scst-linux-san.html" jotId="wuid:gx:22f557a9fc2e1e25" class="sites-navigation-link">SCST Linux SAN</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/add-asm-dg.html" jotId="wuid:gx:2bc6ef8def1e36c9" class="sites-navigation-link">Add ASM DG</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/add-asm-dg-4k.html" jotId="wuid:gx:242dab2dbfad9ac5" class="sites-navigation-link">Add ASM DG (4K)</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/add-asm-lun.html" jotId="wuid:gx:2fedfac6897719" class="sites-navigation-link">Add ASM LUN</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/add-lun.html" jotId="wuid:gx:4b7b14970b8123cc" class="sites-navigation-link">Add LUN</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/resize-asm-lun.html" jotId="wuid:gx:546bc643a9b955fd" class="sites-navigation-link">Resize ASM LUN</a></div></li></ul></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/lxc-scst-ul-14-04.html" jotId="wuid:gx:56ede6a9ffa466a3" class="sites-navigation-link">SCST LXC UL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-ol-uek-3.html" jotId="wuid:gx:775819e6573c1127" class="sites-navigation-link">SCST OL UEK 3</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-package-build-and-install-ubuntu-17-04---14-04.html" jotId="wuid:gx:94e286580e7f53a" class="sites-navigation-link">SCST Package Build Install (Ubuntu 14.x-17.x)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/build-scst-from-source-on-oracle-linux-uek.html" jotId="wuid:gx:11bdab641c7da34" class="sites-navigation-link">SCST Source Build Oracle UEK</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-ubuntu-15-04.html" jotId="wuid:gx:7ac9dfabcffec63d" class="sites-navigation-link">SCST Ubuntu 15.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-ubuntu-16-04.html" jotId="wuid:gx:3dd6f13e96e8fcdf" class="sites-navigation-link">SCST Ubuntu 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/update-gpg-key-email-address-for-signing-debian-packages.html" jotId="wuid:gx:69975edf103e1292" class="sites-navigation-link">Update GPG1 Key Email Address, Add UID, Secret Key</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../the-surfing-life.html" jotId="wuid:gx:6260f278e385cf3d" class="sites-navigation-link topLevel">The Surfing Life</a></div></li><li class="topLevel parent " wuid="gx:3feac623e97563f8"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../tools.html" jotId="wuid:gx:3feac623e97563f8" class="sites-navigation-link topLevel">Tools</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/awr-analyzer-v3-02.html" jotId="wuid:gx:77df010a1161688f" class="sites-navigation-link">AWR Analyzer v3.02</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/cisco-anyconnect-vpn-centos-7.html" jotId="wuid:gx:1d46650a5d12d8f8" class="sites-navigation-link">Cisco AnyConnect VPN CentOS 7</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/dtrace-linux.html" jotId="wuid:gx:8cdf7bdd75524d8" class="sites-navigation-link">DTrace Linux</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/iotop.html" jotId="wuid:gx:638d81a1909fcba9" class="sites-navigation-link">iotop</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/iscsiadm.html" jotId="wuid:gx:5d490b3b5ae2b18b" class="sites-navigation-link">iscsiadm</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/lynx-html-cli.html" jotId="wuid:gx:3c44570e4d9e5dbe" class="sites-navigation-link">lynx HTML CLI</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/nsupdate.html" jotId="wuid:gx:3dd2f364ba8d97c3" class="sites-navigation-link">nsupdate</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/orion.html" jotId="wuid:gx:5e1bc1ac2b426298" class="sites-navigation-link">Orion</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/perf_stat.html" jotId="wuid:gx:17c3dad58ddee2ec" class="sites-navigation-link">perf_stat</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/qemu-monitor-command.html" jotId="wuid:gx:332a02f511ef9aa0" class="sites-navigation-link">QEMU Monitor Command</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/sflow.html" jotId="wuid:gx:51f13dca17c0f452" class="sites-navigation-link">sflow</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/slob.html" jotId="wuid:gx:6fb549ba8af63cc8" class="sites-navigation-link">SLOB2</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/slob2-12c-rac-pdb-version.html" jotId="wuid:gx:7370bb97c3458d1c" class="sites-navigation-link">SLOB2 (12c RAC PDB Version)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/tunnels.html" jotId="wuid:gx:67c0050b2d97d566" class="sites-navigation-link">Tunnels</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/vdbench.html" jotId="wuid:gx:5a058833aa18c315" class="sites-navigation-link">VDBench</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/virt-alignment-scan.html" jotId="wuid:gx:7ef6511f7ec6d8fc" class="sites-navigation-link">virt-alignment-scan</a></div></li></ul></li><li class="topLevel parent " wuid="gx:a688388e2cf1712"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../ubuntu-16-04.html" jotId="wuid:gx:a688388e2cf1712" class="sites-navigation-link topLevel">Ubuntu 16.04</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../ubuntu-16-04/canonical-ubuntu-16-04-livepatch-service.html" jotId="wuid:gx:36531436c1ed4a17" class="sites-navigation-link">Canonical Ubuntu 16.04 Livepatch Service</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../ubuntu-16-04/cisco-anyconnect-vpn-ubunty-16-04.html" jotId="wuid:gx:1f1f8e214e889787" class="sites-navigation-link">Cisco AnyConnect VPN Ubuntu 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../ubuntu-16-04/systemd-to-manage-network-interfaces.html" jotId="wuid:gx:182e7ebf6d20564f" class="sites-navigation-link">Systemd to Manage Network Interfaces</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../zero-downtime-asm-lun-add.html" jotId="wuid:gx:6d5fc0b6a3941475" class="sites-navigation-link topLevel">Zero-Downtime ASM LUN Add</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:5b81d66bdd7a72b7" class="sites-navigation-link topLevel">Sitemap</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_35309087585577514" class="sites-sidebar-plusone-wrapper"><div class="g-plusone" data-count="true" data-size="standard" data-source="google:sites"></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../blackberry-workspaces.html" dir="ltr">Blackberry Workspaces</A> &gt; 
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Blackberry Workspaces in LXC Linux Containers</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div><div><div><div class="sites-embed-align-left-wrapping-off"><div class="sites-embed-border-off sites-embed" style="width:500px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-6"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Summary"><strong>1 </strong>Summary</a><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Technology-Stack"><strong>1.1 </strong>Technology Stack</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Hardware-and-Software-Pre-Requisites"><strong>1.2 </strong>Hardware and Software Pre-Requisites</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Verify-Linux-Version"><strong>1.3 </strong>Verify Linux Version</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Download-Orabuntu-LXC"><strong>1.4 </strong>Download Orabuntu-LXC</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Configure-Orabuntu-LXC"><strong>1.5 </strong>Configure Orabuntu-LXC</a><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Configure-pgroup1"><strong>1.5.1 </strong>Configure pgroup1</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Configure-pgroup2"><strong>1.5.2 </strong>Configure pgroup2</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Configure-pgroup3"><strong>1.5.3 </strong>Configure pgroup3</a></li></ol></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Install-Orabuntu-LXC"><strong>1.6 </strong>Install Orabuntu-LXC</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Display-LXC-Linux-Containers"><strong>1.7 </strong>Display LXC Linux Containers</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Create-Salt-Master-OverlayFS-Snapshot"><strong>1.8 </strong>Create Salt-Master OverlayFS Snapshot</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Build-SCST-Linux-SAN-for-Blackberry-Workspaces"><strong>1.9 </strong>Build SCST Linux SAN for Blackberry Workspaces</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Edit-File:-var-lib-lxc-salt-master-config-salt-master-"><strong>1.10 </strong>Edit File: /var/lib/lxc/salt-master/config (salt-master)</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Prepare-Filesystem-LUNs"><strong>1.11 </strong>Prepare Filesystem LUNs</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Edit-File:-var-lib-lxc-salt-master-config-lxc.mount.entry-"><strong>1.12 </strong>Edit File: /var/lib/lxc/salt-master/config (lxc.mount.entry)</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Mount-Filesystems-in-Salt-Master-LXC-Linux-Container"><strong>1.13 </strong>Mount Filesystems in Salt-Master LXC Linux Container</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Verify-Mounts-after-Salt-Master-LXC-Container-Restart"><strong>1.14 </strong>Verify Mounts after Salt-Master LXC Container Restart</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Transfer-Install-Media-to-Salt-Master-LXC-Container"><strong>1.15 </strong>Transfer Install Media to Salt-Master LXC Container</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Untar-Install-Media"><strong>1.16 </strong>Untar Install Media</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Verify-Python-Version-in-LXC-Container"><strong>1.17 </strong>Verify Python Version in LXC Container</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Run-Blackberry-Workspaces-Installer"><strong>1.18 </strong>Run Blackberry Workspaces Installer</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Set-Port-Forward-Rule-on-EC2-if-on-AWS"><strong>1.19 </strong>Set Port Forward Rule on EC2 if on AWS</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Run-the-Installer-UI"><strong>1.20 </strong>Run the Installer UI</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Generate-the-Required-SSL-Files"><strong>1.21 </strong>Generate the Required SSL Files</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Change-Redis-Account-to-root"><strong>1.22 </strong>Change Redis Account to root</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Healthy-Process-Activity-on-Salt-Master"><strong>1.23 </strong>Healthy Process Activity on Salt-Master</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Set-Inga-Certificate-Parameter"><strong>1.24 </strong>Set Inga Certificate Parameter</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Configure-SMTP-Email-Relay-on-Windows-2012-R2-Server"><strong>1.25 </strong>Configure SMTP Email Relay on Windows 2012 R2 Server</a><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Tail-File:-var-log-maillog"><strong>1.25.1 </strong>Tail File: /var/log/maillog</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Check-Directories-on-Windows-2012-R2-Server"><strong>1.25.2 </strong>Check Directories on Windows 2012 R2 Server</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers.html#TOC-Test-Sending-an-Email-with-Notepad"><strong>1.25.3 </strong>Test Sending an Email with Notepad</a></li></ol></li></ol></li></ol></div></div></div></div></div><br /><h2><a name="TOC-Summary"></a>Summary</h2><p><font size="3">This is a guide on how to install Blackberry Workspaces in LXC Linux containers. <br /></font></p><h3><a name="TOC-Technology-Stack"></a>Technology Stack</h3><p><font size="3">LXC Linux Containers, OpenvSwitch Software Defined Networks (SDNs), isc-dhcp-server, bind9, SCST Linux SAN. </font><font size="3">LXC Linux containers are a very lightweight multitenant 
paradigm (and I don't call it a virtualization paradigm because it is 
NOT virtualization - there is NO hypervisor and NO virtual hardware when
 using LXC). </font></p><h3><a name="TOC-Hardware-and-Software-Pre-Requisites"></a>Hardware and Software Pre-Requisites</h3><p><font size="3">The installation and configuration of Blackberry workspaces has been tested on Oracle Linux 7.4 running the RedHat Compatible Kernel (RHCK). The installation described here was done on a Lenovo P70 Mobile Workstation running Intel Core i7-6700HQ CPU @ 2.60GHz  8 with memory 64GB RAM and a Samsung EVO 2TB SSD. </font><br /></p><h3><a name="TOC-Verify-Linux-Version"></a>Verify Linux Version</h3><p>Verify the Linux version as shown below. This is the first version which has been tested. The procedures will likely work on other distros and kernels which will be added here.<br /></p><div class="sites-codeblock sites-codesnippet-block"><p><font size="4"><code>amide@colossus ~]$ <b>uname -a</b></code><br /><code>Linux colossus 3.10.0-693.el7.x86_64 #1 SMP Wed Aug 2 06:49:08 PDT 2017 x86_64 x86_64 x86_64 GNU/Linux</code></font></p><p><font size="4"><code>[amide@colossus ~]$ <b>cat /etc/redhat-release </b></code><br /><code>Red Hat Enterprise Linux Server release 7.4 (Maipo)</code></font></p><p><font size="4"><code>[amide@colossus ~]$ <b>cat /etc/oracle-release </b></code><br /><code>Oracle Linux Server release 7.4</code></font></p><p><font size="4"><code>[amide@colossus ~]$ </code></font></p></div><h3><a name="TOC-Download-Orabuntu-LXC"></a>Download Orabuntu-LXC</h3><p><font size="3"><a href="https://github.com/gstanden/orabuntu-lxc" target="_blank" rel="nofollow">Orabuntu-LXC</a> is a production-grade <a href="https://github.com/gstanden/orabuntu-lxc/blob/master/COPYING" target="_blank" rel="nofollow">GNU3-licensed</a> open-source fully-automated <a href="https://github.com/" target="_blank" rel="nofollow">github</a> software project developed and copyrighted by <a href="https://www.linkedin.com/in/gilbertstanden/" target="_blank" rel="nofollow">Gilbert Standen</a> that builds production-grade <a href="http://www.openvswitch.org/" target="_blank" rel="nofollow">OpenvSwitch</a> Software Defined Networks (SDNs) and attaches <a href="https://en.wikipedia.org/wiki/Oracle_Linux" target="_blank" rel="nofollow">Oracle Linux</a> <a href="https://linuxcontainers.org/" target="_blank" rel="nofollow">LXC Linux containers</a> to those networks with fully-configured VLANs across multiple Linux physical hosts, and includes a production-grade <a href="http://scst.sourceforge.net/users.html" target="_blank" rel="nofollow">SCST Linux SAN</a> for with custom UDEV rules for presenting LUNs to LXC Linux containers. Orabuntu-LXC provides the entire container infrastructure for installing Blackberry Workspaces in LXC Linux containers. Under the GNU3 license, users of the software are free to download, modify, and redistribute the Orabuntu-LXC software.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><p><font size="4"><code>[amide@colossus ~]$ <b>cd Downloads</b></code></font></p><p><font size="4"><code>[amide@colossus Downloads]$ wget https://github.com/gstanden/orabuntu-lxc/archive/master.zip</code></font></p><p><font size="4"><code>--2018-02-09 11:10:56-- https://github.com/gstanden/orabuntu-lxc/archive/master.zip</code><br /><code>Resolving github.com (github.com)... 192.30.253.112, 192.30.253.113</code><br /><code>Connecting to github.com (github.com)|192.30.253.112|:443... connected.</code><br /><code>HTTP request sent, awaiting response... 302 Found</code><br /><code>Location: https://codeload.github.com/gstanden/orabuntu-lxc/zip/master [following]</code><br /><code>--2018-02-09 11:10:56-- https://codeload.github.com/gstanden/orabuntu-lxc/zip/master</code><br /><code>Resolving codeload.github.com (codeload.github.com)... 192.30.253.120, 192.30.253.121</code><br /><code>Connecting to codeload.github.com (codeload.github.com)|192.30.253.120|:443... connected.</code><br /><code>HTTP request sent, awaiting response... 200 OK</code><br /><code>Length: unspecified [application/zip]</code><br /><code>Saving to: master.zip</code><br /><br /><code> [ &lt;=&gt; ] 487,051 2.27MB/s in 0.2s </code><br /><br /><code>2018-02-09 11:10:57 (2.27 MB/s) - master.zip saved [487051]</code><br /><br /><code>[amide@colossus Downloads]$ <b>sudo yum -y install unzip</b></code></font></p><p><font size="4"><code>[sudo] password for amide: </code><br /><code>Loaded plugins: langpacks, ulninfo</code><br /><code>Package unzip-6.0-16.el7.x86_64 already installed and latest version</code><br /><code>Nothing to do</code></font></p><p><font size="4"><code>[amide@colossus Downloads]$ <b>unzip master.zip </b></code><br /></font></p><p><font size="4"><code>Archive: master.zip</code><br /><code>7fa815e06fb916a9df4a15e9f2e94a8e863df189</code><br /><code> creating: orabuntu-lxc-master/</code><br /><code> inflating: orabuntu-lxc-master/COPYING </code><br /><code> inflating: orabuntu-lxc-master/GNU3 </code><br /><code> inflating: orabuntu-lxc-master/README.md </code><br /><code> creating: orabuntu-lxc-master/anylinux/</code><br /><code> inflating: orabuntu-lxc-master/anylinux/COPYING </code><br /><code> inflating: orabuntu-lxc-master/anylinux/GNU3 </code><br /><code> inflating: orabuntu-lxc-master/anylinux/anylinux-services-0.sh </code><br /><code> inflating: orabuntu-lxc-master/anylinux/anylinux-services-1.sh </code><br /><code> inflating: orabuntu-lxc-master/anylinux/anylinux-services.ADD.CLONES.sh </code><br /><code> inflating: orabuntu-lxc-master/anylinux/anylinux-services.ADD.RELEASE.ON.GRE.HOST.1420.sh </code><br /><code> inflating: orabuntu-lxc-master/anylinux/anylinux-services.ADD.RELEASE.ON.HUB.HOST.1500.sh </code><br /><code> inflating: orabuntu-lxc-master/anylinux/anylinux-services.GRE.HOST.sh </code><br /><code> inflating: orabuntu-lxc-master/anylinux/anylinux-services.HUB.HOST.sh </code><br /><code> inflating: orabuntu-lxc-master/anylinux/anylinux-services.VM.ON.GRE.HOST.1420.sh </code><br /><code> inflating: orabuntu-lxc-master/anylinux/anylinux-services.VM.ON.HUB.HOST.1500.sh </code><br /><code> inflating: orabuntu-lxc-master/anylinux/anylinux-services.sh </code><br /><code> inflating: orabuntu-lxc-master/anylinux/anylinux.lst </code><br /><code> inflating: orabuntu-lxc-master/anylinux/dnf2yum </code><br /><code> inflating: orabuntu-lxc-master/anylinux/vercomp </code><br /><code> inflating: orabuntu-lxc-master/description </code><br /><code> creating: orabuntu-lxc-master/orabuntu/</code><br /><code> inflating: orabuntu-lxc-master/orabuntu/COPYING </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/GNU3 </code><br /><code> creating: orabuntu-lxc-master/orabuntu/archives/</code><br /><code> inflating: orabuntu-lxc-master/orabuntu/archives/COPYING </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/archives/GNU3 </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/archives/dns-dhcp-cont.lst </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/archives/dns-dhcp-cont.tar </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/archives/dns-dhcp-host.lst </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/archives/dns-dhcp-host.tar </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/archives/docker_install_orabuntu.sh </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/archives/file-exceptions.txt </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/archives/lxc-oracle-files.lst </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/archives/lxc-oracle-files.tar </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/archives/nameserver_copy.sh </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/archives/scst-files.lst </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/archives/scst-files.tar </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/archives/tgt-files.lst </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/archives/tgt-files.tar </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/archives/ubuntu-host.lst </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/archives/ubuntu-host.tar </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/orabuntu-services-0.sh </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/orabuntu-services-1.sh </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/orabuntu-services-2.sh </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/orabuntu-services-3.sh </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/orabuntu-services-4.sh </code><br /><code> inflating: orabuntu-lxc-master/orabuntu/orabuntu-services-5.sh </code><br /><code> creating: orabuntu-lxc-master/uekulele/</code><br /><code> inflating: orabuntu-lxc-master/uekulele/COPYING </code><br /><code> inflating: orabuntu-lxc-master/uekulele/GNU3 </code><br /><code> creating: orabuntu-lxc-master/uekulele/archives/</code><br /><code> inflating: orabuntu-lxc-master/uekulele/archives/.lst </code><br /><code> inflating: orabuntu-lxc-master/uekulele/archives/COPYING </code><br /><code> inflating: orabuntu-lxc-master/uekulele/archives/GNU3 </code><br /><code> inflating: orabuntu-lxc-master/uekulele/archives/dns-dhcp-cont.lst </code><br /><code> inflating: orabuntu-lxc-master/uekulele/archives/dns-dhcp-cont.tar </code><br /><code> inflating: orabuntu-lxc-master/uekulele/archives/dns-dhcp-host.lst </code><br /><code> inflating: orabuntu-lxc-master/uekulele/archives/dns-dhcp-host.tar </code><br /><code> inflating: orabuntu-lxc-master/uekulele/archives/docker_install_uekulele.sh </code><br /><code> inflating: orabuntu-lxc-master/uekulele/archives/file-exceptions.txt </code><br /><code> inflating: orabuntu-lxc-master/uekulele/archives/lxc-oracle-files.lst </code><br /><code> inflating: orabuntu-lxc-master/uekulele/archives/lxc-oracle-files.tar </code><br /><code> inflating: orabuntu-lxc-master/uekulele/archives/nameserver_copy.sh </code><br /><code> inflating: orabuntu-lxc-master/uekulele/archives/scst-files.lst </code><br /><code> inflating: orabuntu-lxc-master/uekulele/archives/scst-files.tar </code><br /><code> inflating: orabuntu-lxc-master/uekulele/archives/tgt-files.lst </code><br /><code> inflating: orabuntu-lxc-master/uekulele/archives/tgt-files.tar </code><br /><code> inflating: orabuntu-lxc-master/uekulele/archives/ubuntu-host.lst </code><br /><code> inflating: orabuntu-lxc-master/uekulele/archives/ubuntu-host.tar </code><br /><code> inflating: orabuntu-lxc-master/uekulele/uekulele-services-0.sh </code><br /><code> inflating: orabuntu-lxc-master/uekulele/uekulele-services-1.sh </code><br /><code> inflating: orabuntu-lxc-master/uekulele/uekulele-services-2.sh </code><br /><code> inflating: orabuntu-lxc-master/uekulele/uekulele-services-3.sh </code><br /><code> inflating: orabuntu-lxc-master/uekulele/uekulele-services-4.sh </code><br /><code> inflating: orabuntu-lxc-master/uekulele/uekulele-services-5.sh </code><br /></font></p><p><font size="4"><code>[amide@colossus Downloads]$ </code></font></p></div><h3><a name="TOC-Configure-Orabuntu-LXC"></a>Configure Orabuntu-LXC</h3><p><font size="3">Orabuntu-LXC is highly-flexible configurable software. The configurations are done primarily in the file "anylinux-services.sh". In the anylinux-services.sh file there are three groups of parameter setting areas identified by "pgroup1, pgroup2, pgroup3". The settings that will be used for this installation are shown below.</font></p><h4><a name="TOC-Configure-pgroup1"></a><font size="3">Configure pgroup1</font></h4><p>The pgroup1 settings configure the subnets that the OpenvSwitches will use. Any vaild routable or non-routable subnet combos can be used but there are some caveats: <br /></p><ul><li>Not all possible subnet combinations have been tested</li><li>LAN internal private network deployments typically should use only non-routable <a href="https://en.wikipedia.org/wiki/Private_network" target="_blank" rel="nofollow">private network</a> subnet ranges.</li><li>Public-facing WAN deployments should typically use ONLY subnets associated with domains that are OWNED BY YOU or your organization</li><li>Using routable subnets and domains that you do NOT own could have unexpected results and is strongly discouraged<br /></li><li>The SeedNet1 and BaseNet1 are the main networks that are used by the Orabuntu-LXC deployer</li><li>The ExtrNets are not used by Orabuntu-LXC but are deployed to provide out-of-the-box extra networks if needed.</li><li>The ExtrNets can be easily re-assigned to other networks after install with just a change to a single config file</li></ul><p>Typical pgroup1 settings in the anylinux-services.sh file are shown below. The Seed and Base nets are the main setting here. The StorNets and ExtrNets can be left as is or optionally also set to custom subnet ranges.<br /></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code># pgroup1 begin</code><br /><code># user-settable parameters group 1 begin</code><br /><code># set the values for the subnet triplets (e.g. 172.29.108)</code><br /><br /><code> SeedNet1='SeedNet1Fwd:<b>172.27.109</b>' </code><br /><code> BaseNet1='BaseNet1Fwd:<b>10.205.49</b>' </code><br /><code> StorNet1='StorNet1Fwd:10.210.107' </code><br /><code> StorNet2='StorNet2Fwd:10.211.107' </code><br /><br /><code> ExtrNet1='172.26.11'   </code><br /><code> ExtrNet2='172.27.11'   </code><br /><code> ExtrNet3='192.168.19'   </code><br /><code> ExtrNet4='192.168.20'   </code><br /><code> ExtrNet5='192.168.21'   </code><br /><code> ExtrNet6='192.168.22'   </code><br /><br /><code># pgroup1 end</code></font></div><h4><a name="TOC-Configure-pgroup2"></a>Configure pgroup2</h4><p><font size="3">The pgroup2 settings configure the version of Oracle Linux LXC Linux container that will be deployed (MajorRelease and MinorRelease), the number of LXC Linux containers that will be cloned and created (NumCon), and the domains for the production network and the seed network (Domain1 and Domain2 variables, respectively). As before with pgroup1, there are some caveats:</font></p><p><b><font size="3">Any domain name can be used:</font></b></p><ul><li><font size="3"> Domain1=blackberry.com (owned by you or your organization)<br /></font></li><li><font size="3">Domain2=lxcspaces.com (available, not owned by anybody or any organization yet)</font></li></ul><p><font size="3">Deployments whether on LAN or WAN should typically use only domains owned by your or your organization, or that are available and not owned by any entity yet. However, the software will install with any provided domain. Under some circumstances for certain types of customer demos with the permission of the person or persons who are the <a href="https://whois.icann.org/en/lookup?name=available.com" target="_blank" rel="nofollow">authorized domain contact</a> or there established delegate for that entity domain owner it would be ok under those circumstances to use that domain name.</font></p><p><font size="3">For Blackberry Workspaces it is advisable to use an owned domain name, not an available name. This is because the SMTP server will send out account activation emails for Blackberry Workspaces and if the domain is an available non-owned domain, the SMTP email server of your broadband host will likely reject Blackberry Workspaces activation emails from your internal SMTP relay due to the domain not being a valid domain lookup.<br /></font></p><p><b><font size="3">Releases of Oracle Linux 5, 6 and 7 can be configured for the LXC container version, for example:</font></b></p><ul><li><font size="3">MajorRelease=6</font></li><li><font size="3">PointRelease=6</font></li></ul><p><font size="3">will deploy a seed container of Oracle Linux 6.6.<br /></font></p><p><font size="3"><b>The parameter NumCon determines the number of identical Oracle Linux clones that will be created from the LXC seed container. </b><br /></font></p><p><font size="3">For example, a NumCon setting of "3" would create 3 Oracle Linux 6.6 LXC Linux Containers on an Orabuntu-LXC blackberry.com private LAN from the Oracle Linux 6.6 LXC Linux container on the Orabuntu-LXC watchdoxc.com private LAN. In this case, watchdoxc.com is an available domain not owned by anybody or any organization yet.<br /></font></p><p><font size="3">Typical pgroup2 settings are shown below. The <b>bolded</b> lines are where the values are set.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code># pgroup2 begin</code><br /><code># user-settable parameters group 2 begin</code><br /><code># set the value between 'then' and 'fi'</code><br /><br /><code> MajorRelease=$8</code><br /><code> if [ -z $8 ]</code><br /><code> then</code><br /><code>  <b>MajorRelease=6</b></code><br /><code> fi</code><br /><code> # echo 'Oracle Container Release = '$MajorRelease</code><br /><br /><code> PointRelease=$2</code><br /><code> if [ -z $2 ]</code><br /><code> then</code><br /><code>  <b>PointRelease=6</b></code><br /><code> fi</code><br /><code> echo 'Oracle Container Version = '$MajorRelease.$PointRelease</code><br /><br /><code> NumCon=$3</code><br /><code> if [ -z $3 ]</code><br /><code> then</code><br /><code>  <b>NumCon=5</b></code><br /><code> fi</code><br /><code> echo 'Oracle Container Count = '$NumCon</code><br /><br /><code> Domain1=$4</code><br /><code> if [ -z $4 ]</code><br /><code> then</code><br /><code>  <b>Domain1=uekulele.com</b></code><br /><code> fi</code><br /><code> echo 'Domain1 = '$Domain1</code><br /><br /><code> Domain2=$5</code><br /><code> if [ -z $5 ]</code><br /><code> then</code><br /><code>  <b>Domain2=orabuntu-lxc.com</b></code><br /><code> fi</code><br /><code> echo 'Domain2 = '$Domain2</code><br /><br /><code> NameServer=$6</code><br /><code> if [ -z $6 ]</code><br /><code>--</code><br /><code># pgroup2 end</code><br /><code># user-settable parameters group 2 end</code></font></font></div></div><h4><a name="TOC-Configure-pgroup3"></a>Configure pgroup3</h4><p><font size="3">The last group to configure is pgroup3. This is where available versions of LXC and OpenSwitch are set. Not all versions of OpenvSwitch and/or LXC are supported for all Linux distros that Orabuntu-LXC supports. From the below logic it can be seen that Orabuntu-LXC supports only LXC 2.0.9 for Fedora 27. This is because the source build capability for LXC for Fedora 27 has not yet been coded into Orabuntu-LXC so it only supports the package repo version of LXC for Fedora 27 which happens to be LXC 2.0.9 which is the terminal release of the 2.0.x LXC series.<br /></font></p><p><font size="3">For distros other than Fedora that are supported by Orabuntu-LXC (Ubuntu, CentOS, RedHat, and Oracle Linux) any LXC version can be used, and most* OpenvSwitch versions can be used, although there is some issue with the source build for OpenvSwitch 2.8.0+ that has not yet been addressed in the build-from-source functionality in Orabuntu-LXC.</font></p><p><font size="3">For a first run, the below settings are good. <br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code># pgroup3 begin</code><br /><code># user-settable parameter group 3 begin</code><br /><code># set the value between 'then' and 'fi'</code><br /><br /><code> LxcOvsVersion=$9</code><br /><code> if [ -z $9 ] &amp;&amp; [ $LinuxFlavor != 'Fedora' ]</code><br /><code> then</code><br /><code>  <b>LxcOvsVersion="2.1.1:2.5.4"</b></code><br /><code> fi</code><br /><br /><code> # Fedora MUST leave Lxc version at 2.0.9 but can change Ovs version.</code><br /><br /><code> if [ -z $9 ] &amp;&amp; [ $LinuxFlavor = 'Fedora' ]</code><br /><code> then</code><br /><code>  if [ $RedHatVersion -eq 27 ]</code><br /><code>  then</code><br /><code>   LxcOvsVersion="2.0.9:2.5.4" # Do NOT change 2.0.9 version of LXC here. Must use 2.0.9 for now.</code><br /><code>  fi</code><br /><code> fi</code><br /><br /><code># pgroup3 end</code></font></font><br /></div><h3><a name="TOC-Install-Orabuntu-LXC"></a>Install Orabuntu-LXC</h3><p><font size="3">The Orabuntu-LXC installer is run on the first Orabuntu-LXC host as shown below. The entire installation is automated. The first install is always a "HUB" host. The "anylinux" directories has scripts that are used to launch other install cases, such as GRE-connected physical hosts and VM's on either HUB or GRE hosts. Note that an active WAN internet connection is required for the install. The software will check this as a pre-requisite.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><code>[ubuntu@colossus ~]$ <b>cd Downloads/orabuntu-lxc-master/anylinux/</b></code><br /><code>[ubuntu@colossus anylinux]$ <b>./anylinux-services.HUB.HOST.sh new</b></code></font></div><h3><a name="TOC-Display-LXC-Linux-Containers"></a>Display LXC Linux Containers</h3><p>After the install, display the status of the Orabuntu-LXC Linux containers as shown below when the Orabuntu-LXC installer is complete.<br /></p><div class="sites-codeblock sites-codesnippet-block"><code>[ubuntu@colossus ~]$ <b>sudo lxc-ls -f</b></code><br /><code>NAME STATE AUTOSTART GROUPS IPV4 IPV6 </code><br /><code>oel66c10 RUNNING 0 - 172.29.108.10 - </code><br /><code>ontario RUNNING 0 - 10.209.53.2, 172.29.108.2 - </code><br /><code>ontario-base STOPPED 0 - - - </code><br /><code>ora66c10 RUNNING 0 - 10.209.53.10 - </code><br /><code>ora66c11 RUNNING 0 - 10.209.53.11 - </code><br /><code>ora66c12 RUNNING 0 - 10.209.53.12 - </code><br /><code>ora66c13 RUNNING 0 - 10.209.53.13 - </code><br /><code>ora66c14 RUNNING 0 - 10.209.53.14 - </code><br /><code>ora66c15 RUNNING 0 - 10.209.53.15 - </code><br /><code>[ubuntu@colossus ~]$</code></div><h3><a name="TOC-Create-Salt-Master-OverlayFS-Snapshot"></a>Create Salt-Master OverlayFS Snapshot <br /></h3><p>Create a snapshot of one of the ora66 containers (in the example ora66c10) using overlayfs so that lxc-snapshot can be used for salt-master LXC container as shown below in case a rollback is required or other snapshotted state is required.<br /></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><code>[ubuntu@colossus logs]$ <b>cd</b></code><br /><code>[ubuntu@colossus ~]$ <b>sudo lxc-ls -f</b></code><br /><code>NAME STATE AUTOSTART GROUPS IPV4 IPV6 </code><br /><code>oel66c10 RUNNING 0 - 172.29.108.10 - </code><br /><code>ontario RUNNING 0 - 10.209.53.2, 172.29.108.2 - </code><br /><code>ontario-base STOPPED 0 - - - </code><br /><code>ora66c10 RUNNING 0 - 10.209.53.10 - </code><br /><code>ora66c11 RUNNING 0 - 10.209.53.11 - </code><br /><code>ora66c12 RUNNING 0 - 10.209.53.12 - </code><br /><code>ora66c13 RUNNING 0 - 10.209.53.13 - </code><br /><code>ora66c14 RUNNING 0 - 10.209.53.14 - </code><br /><code>ora66c15 RUNNING 0 - 10.209.53.15 - </code><br /><code>[ubuntu@colossus ~]$ <b>sudo lxc-stop -n ora66c10</b></code><br /><code>[ubuntu@colossus ~]$ <b>sudo lxc-copy -n ora66c10 -N salt-master -B overlayfs -s</b></code><br /><code>[ubuntu@colossus ~]$ <b>sudo lxc-ls -f</b></code><br /><code>NAME STATE AUTOSTART GROUPS IPV4 IPV6 </code><br /><code>oel66c10 RUNNING 0 - 172.29.108.10 - </code><br /><code>ontario RUNNING 0 - 10.209.53.2, 172.29.108.2 - </code><br /><code>ontario-base STOPPED 0 - - - </code><br /><code>ora66c10 STOPPED 0 - - - </code><br /><code>ora66c11 RUNNING 0 - 10.209.53.11 - </code><br /><code>ora66c12 RUNNING 0 - 10.209.53.12 - </code><br /><code>ora66c13 RUNNING 0 - 10.209.53.13 - </code><br /><code>ora66c14 RUNNING 0 - 10.209.53.14 - </code><br /><code>ora66c15 RUNNING 0 - 10.209.53.15 - </code><br /><code>salt-master STOPPED 0 - - - </code><br /><code>[ubuntu@colossus ~]$ <b>echo 'vanilla baseline' &gt; snap-comment</b></code><br /><code>[ubuntu@colossus ~]$ <b>sudo lxc-snapshot -n salt-master -c snap-comment</b></code><br /><code>[ubuntu@colossus ~]$ <b>sudo lxc-snapshot -n salt-master -L -C</b></code><br /><code>snap0 (/var/lib/lxc/salt-master/snaps) 2018:02:11 19:10:57</code><br /><code>vanilla baseline</code><br /><code>[ubuntu@colossus ~]$</code></font></div><h3><a name="TOC-Build-SCST-Linux-SAN-for-Blackberry-Workspaces"></a>Build SCST Linux SAN for Blackberry Workspaces</h3><p>Build the SCST Linux SAN for Blackberry Workspaces as shown below for the database, filespace, and fs_cache LUNs. The process is entirely automated.<br /></p><div class="sites-codeblock sites-codesnippet-block"><code>[ubuntu@colossus scst-files]$ <b>pwd</b></code><br /><code>/opt/olxc/home/ubuntu/Downloads/orabuntu-lxc-master/uekulele/archives/scst-files</code><br /><code>[ubuntu@colossus scst-files]$ <b>sudo su -</b></code><br /><code>Last login: Sun Feb 11 18:09:23 CST 2018 on pts/1</code><br /><code>[root@colossus ~]# <b>cd /opt/olxc/home/ubuntu/Downloads/orabuntu-lxc-master/uekulele/archives/scst-files</b></code><br /><code>[root@colossus scst-files]# <b>./create-scst.sh</b></code></div><br /></div>During the SCST Linux SAN install the installer will prompt if this is a new or add install. Take the default "new" as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><code>==============================================</code><br /><code> </code><br /><code>If installing the first SCST target </code><br /><code>then answer 'new' </code><br /><code> </code><br /><code>If adding an additional SCST target </code><br /><code>then answer 'add' </code><br /><code> </code><br /><code>==============================================</code><br /><code> </code><br /><code>Install Type New or Add [new/add] <b>new</b></code></div><div><h3><a name="TOC-Edit-File:-var-lib-lxc-salt-master-config-salt-master-"></a>Edit File: /var/lib/lxc/salt-master/config (salt-master) <br /></h3><p><font size="3">Edit the /var/lib/lxc/salt-master/config file as shown below. There are four occurrences of "ora66c10" that need to be changed to "salt-master" as shown below in <span style="color:rgb(255,0,0)"><b>bold red</b></span> below. There are also two occurrences of "lxc_luns" that need to be changed to "salt-master" shown in <span style="color:rgb(255,0,0)"><b>bold red</b></span> below. Do NOT uncomment the "lxc.mount.entry" yet. <br /></font></p><p><font size="3">Also, copy the files for the "script.up" and the "script.down" from their ora66c10 originals to their "salt-master" copies as shown below.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><code>[ubuntu@colossus anylinux]$ <b>sudo su -</b></code><br /><code>[sudo] password for ubuntu: </code><br /><code>Last login: Sun Feb 11 19:04:50 CST 2018 on pts/1</code><br /><code>[root@colossus ~]# <b>cd /var/lib/lxc/salt-master</b></code><br /><code>[root@colossus ora66c10]# <b>vi config</b></code><br /><code>[root@colossus salt-master]# <b>cat config</b></code><br /><code>#!/bin/bash</code><br /><br /><code># Copyright 2015-2018 Gilbert Standen</code><br /><code># This file is part of Orabuntu-LXC.</code><br /><br /><code># Orabuntu-LXC is free software: you can redistribute it and/or modify</code><br /><code># it under the terms of the GNU General Public License as published by</code><br /><code># the Free Software Foundation, either version 3 of the License, or</code><br /><code># (at your option) any later version.</code><br /><br /><code># Orabuntu-LXC is distributed in the hope that it will be useful,</code><br /><code># but WITHOUT ANY WARRANTY; without even the implied warranty of</code><br /><code># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</code><br /><code># GNU General Public License for more details.</code><br /><br /><code># You should have received a copy of the GNU General Public License</code><br /><code># along with Orabuntu-LXC. If not, see &lt;http://www.gnu.org/licenses/&gt;.</code><br /><br /><code># v2.4   GLS 20151224</code><br /><code># v2.8   GLS 20151231</code><br /><code># v3.0   GLS 20160710 Updates for Ubuntu 16.04</code><br /><code># v4.0   GLS 20161025 DNS DHCP services moved into an LXC container</code><br /><code># v5.0   GLS 20170909 Orabuntu-LXC Multi-Host</code><br /><code># v6.0-AMIDE-beta GLS 20180106 Orabuntu-LXC AmazonS3 Multi-Host Docker Enterprise Edition (AMIDE)</code><br /><br /><code># Note that this software builds a containerized DNS DHCP solution (bind9 / isc-dhcp-server).</code><br /><code># The nameserver should NOT be the name of an EXISTING nameserver but an arbitrary name because this software is CREATING a new LXC-containerized nameserver.</code><br /><code># The domain names can be arbitrary fictional names or they can be a domain that you actually own and operate.</code><br /><code># There are two domains and two networks because the "seed" LXC containers are on a separate network from the production LXC containers.</code><br /><code># If the domain is an actual domain, you will need to change the subnet using the subnets feature of Orabuntu-LXC</code><br /><code>#</code><br /><code># Template used to create this container: /usr/share/lxc/templates/lxc-oracle</code><br /><code># Parameters passed to the template:</code><br /><code># For additional config options, please look at lxc.container.conf(5)</code><br /><code># Networking</code><br /><code>lxc.net.0.type = veth</code><br /><code>lxc.net.0.flags = up</code><br /><code>lxc.net.0.script.up = /etc/network/if-up.d/openvswitch/<span style="color:rgb(255,0,0)"><b>salt-master</b></span>-pub-ifup-sw1</code><br /><code>lxc.net.0.script.down = /etc/network/if-down.d/openvswitch/<span style="color:rgb(255,0,0)"><b>salt-master</b></span>-pub-ifdown-sw1</code><br /><code>lxc.net.0.veth.pair = <span style="color:rgb(255,0,0)"><b>salt-master</b></span></code><br /><code>lxc.net.0.name = eth0</code><br /><code>lxc.net.0.mtu = 1500</code><br /><code>lxc.net.0.hwaddr = 00:16:3e:9e:8c:9f</code><br /><code># Common configuration</code><br /><code>lxc.include = /usr/share/lxc/config/oracle.common.conf</code><br /><code># Container configuration for Oracle Linux 6.5</code><br /><code>lxc.arch = x86_64</code><br /><code>lxc.cap.drop = sys_resource</code><br /><code>lxc.cap.drop = setfcap setpcap</code><br /><code># Devices, Filesystems, Mounts</code><br /><code>lxc.cgroup.devices.allow = a # Allow access to all devices</code><br /><code>lxc.cgroup.devices.allow = a 10:236 rwm</code><br /><code>lxc.cgroup.devices.allow = a 252:* rwm</code><br /><code>lxc.cgroup.devices.allow = a 8:* rwm</code><br /><code># Uncomment when presenting LUNs to LXC container</code><br /><code># lxc.mount.entry = /dev/<span style="color:rgb(255,0,0)"><b>salt-master</b></span> /var/lib/lxc/<span style="color:rgb(255,0,0)"><b>salt-master</b></span>/rootfs/dev/<span style="color:rgb(255,0,0)"><b>salt-master</b></span> none defaults,bind,create=dir 0 0</code><br /><code>lxc.mount.entry = shm dev/shm tmpfs size=3500m,nosuid,nodev,noexec,create=dir 0 0</code><br /><code>lxc.mount.auto = proc sys cgroup</code><br /><code>lxc.mount.auto = proc:rw sys:rw cgroup-full:rw</code><br /><code>lxc.apparmor.allow_incomplete = 1</code><br /><code># Autostart at boot</code><br /><code># lxc.start.auto = 1</code><br /><code># lxc.group = onboot</code><br /><code>lxc.rootfs.path = overlay:/var/lib/lxc/ora66c10/rootfs:/var/lib/lxc/salt-master/delta0</code><br /><code>lxc.uts.name = salt-master<br /><br /></code><code>[root@colossus salt-master]# <b>cp -p /etc/network/if-up.d/openvswitch/ora66c10-pub-ifup-sw1 /etc/network/if-up.d/openvswitch/salt-master-pub-ifup-sw1</b></code><br /><code>[root@colossus salt-master]# <b>cp -p /etc/network/if-down.d/openvswitch/ora66c10-pub-ifdown-sw1 /etc/network/if-down.d/openvswitch/salt-master-pub-ifdown-sw1</b></code><br /><code>[root@colossus salt-master]#</code></div> <h3><a name="TOC-Prepare-Filesystem-LUNs"></a>Prepare Filesystem LUNs</h3><p>Create filesystems on the Blackberry Workspaces SCST Linux SAN LUNs. In this example "xfs" is used as it is easily extended to a larger filesystem size later "on-the-fly" if necessary. However, any filesystem type compatible with Blackberry Workspaces can be used. For example, "ext4" is often used. Note that some filesystem types may typically involve creating a partition first (xfs does not).<br /></p><div class="sites-codeblock sites-codesnippet-block"><code>[root@colossus rules.d]# <b>cd /dev/salt-master/</b></code><br /><code>[root@colossus salt-master]# <b>ls -lrt</b></code><br /><code>total 0</code><br /><code>brw-rw----. 1 watchdox watchdox 249, 3 Feb 11 19:20 wdx_data1_00</code><br /><code>brw-rw----. 1 watchdox watchdox 249, 4 Feb 11 19:20 wdx_fspa1_00</code><br /><code>brw-rw----. 1 watchdox watchdox 249, 5 Feb 11 19:20 wdx_fcac1_00</code><br /><code>[root@colossus salt-master]# <b>sudo mkfs -t xfs -L lun0 wdx_data1_00 -f</b></code><br /><code>meta-data=wdx_data1_00 isize=256 agcount=4, agsize=655360 blks</code><br /><code> = sectsz=4096 attr=2, projid32bit=1</code><br /><code> = crc=0 finobt=0, sparse=0</code><br /><code>data = bsize=4096 blocks=2621440, imaxpct=25</code><br /><code> = sunit=0 swidth=0 blks</code><br /><code>naming =version 2 bsize=4096 ascii-ci=0 ftype=1</code><br /><code>log =internal log bsize=4096 blocks=2560, version=2</code><br /><code> = sectsz=4096 sunit=1 blks, lazy-count=1</code><br /><code>realtime =none extsz=4096 blocks=0, rtextents=0</code><br /><code>[root@colossus salt-master]# <b>sudo mkfs -t xfs -L lun1 wdx_fspa1_00 -f</b></code><br /><code>meta-data=wdx_fspa1_00 isize=256 agcount=4, agsize=655360 blks</code><br /><code> = sectsz=4096 attr=2, projid32bit=1</code><br /><code> = crc=0 finobt=0, sparse=0</code><br /><code>data = bsize=4096 blocks=2621440, imaxpct=25</code><br /><code> = sunit=0 swidth=0 blks</code><br /><code>naming =version 2 bsize=4096 ascii-ci=0 ftype=1</code><br /><code>log =internal log bsize=4096 blocks=2560, version=2</code><br /><code> = sectsz=4096 sunit=1 blks, lazy-count=1</code><br /><code>realtime =none extsz=4096 blocks=0, rtextents=0</code><br /><code>[root@colossus salt-master]# <b>sudo mkfs -t xfs -L lun2 wdx_fcac1_00 -f</b></code><br /><code>meta-data=wdx_fcac1_00 isize=256 agcount=4, agsize=655360 blks</code><br /><code> = sectsz=4096 attr=2, projid32bit=1</code><br /><code> = crc=0 finobt=0, sparse=0</code><br /><code>data = bsize=4096 blocks=2621440, imaxpct=25</code><br /><code> = sunit=0 swidth=0 blks</code><br /><code>naming =version 2 bsize=4096 ascii-ci=0 ftype=1</code><br /><code>log =internal log bsize=4096 blocks=2560, version=2</code><br /><code> = sectsz=4096 sunit=1 blks, lazy-count=1</code><br /><code>realtime =none extsz=4096 blocks=0, rtextents=0</code><br /><code>[root@colossus salt-master]# </code></div><h3><a name="TOC-Edit-File:-var-lib-lxc-salt-master-config-lxc.mount.entry-"></a>Edit File: /var/lib/lxc/salt-master/config (lxc.mount.entry)<br /></h3><div><p>Set the LUNs to be direct-mounted into the LXC Linux container. Uncomment the bolded "lxc.mount.entry" line as shown below.</p><div class="sites-codeblock sites-codesnippet-block"><code>[ubuntu@colossus anylinux]$ <b>sudo su -</b></code><br /><code>Last login: Sun Feb 11 19:19:52 CST 2018 on pts/2</code><br /><code>[root@colossus ~]# <b>cd /var/lib/lxc/salt-master/</b></code><br /><code>[root@colossus salt-master]# <b>vi config</b></code><br /><code>[root@colossus salt-master]# <b>cat config</b></code><br /><code>#!/bin/bash</code><br /><br /><code># Copyright 2015-2018 Gilbert Standen</code><br /><code># This file is part of Orabuntu-LXC.</code><br /><br /><code># Orabuntu-LXC is free software: you can redistribute it and/or modify</code><br /><code># it under the terms of the GNU General Public License as published by</code><br /><code># the Free Software Foundation, either version 3 of the License, or</code><br /><code># (at your option) any later version.</code><br /><br /><code># Orabuntu-LXC is distributed in the hope that it will be useful,</code><br /><code># but WITHOUT ANY WARRANTY; without even the implied warranty of</code><br /><code># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</code><br /><code># GNU General Public License for more details.</code><br /><br /><code># You should have received a copy of the GNU General Public License</code><br /><code># along with Orabuntu-LXC. If not, see &lt;http://www.gnu.org/licenses/&gt;.</code><br /><br /><code># v2.4   GLS 20151224</code><br /><code># v2.8   GLS 20151231</code><br /><code># v3.0   GLS 20160710 Updates for Ubuntu 16.04</code><br /><code># v4.0   GLS 20161025 DNS DHCP services moved into an LXC container</code><br /><code># v5.0   GLS 20170909 Orabuntu-LXC Multi-Host</code><br /><code># v6.0-AMIDE-beta GLS 20180106 Orabuntu-LXC AmazonS3 Multi-Host Docker Enterprise Edition (AMIDE)</code><br /><br /><code># Note that this software builds a containerized DNS DHCP solution (bind9 / isc-dhcp-server).</code><br /><code># The nameserver should NOT be the name of an EXISTING nameserver but an arbitrary name because this software is CREATING a new LXC-containerized nameserver.</code><br /><code># The domain names can be arbitrary fictional names or they can be a domain that you actually own and operate.</code><br /><code># There are two domains and two networks because the "seed" LXC containers are on a separate network from the production LXC containers.</code><br /><code># If the domain is an actual domain, you will need to change the subnet using the subnets feature of Orabuntu-LXC</code><br /><code>#</code><br /><code># Template used to create this container: /usr/share/lxc/templates/lxc-oracle</code><br /><code># Parameters passed to the template:</code><br /><code># For additional config options, please look at lxc.container.conf(5)</code><br /><code># Networking</code><br /><code>lxc.net.0.type = veth</code><br /><code>lxc.net.0.flags = up</code><br /><code>lxc.net.0.script.up = /etc/network/if-up.d/openvswitch/salt-master-pub-ifup-sw1</code><br /><code>lxc.net.0.script.down = /etc/network/if-down.d/openvswitch/salt-master-pub-ifdown-sw1</code><br /><code>lxc.net.0.veth.pair = salt-master</code><br /><code>lxc.net.0.name = eth0</code><br /><code>lxc.net.0.mtu = 1500</code><br /><code>lxc.net.0.hwaddr = 00:16:3e:9e:8c:9f</code><br /><code># Common configuration</code><br /><code>lxc.include = /usr/share/lxc/config/oracle.common.conf</code><br /><code># Container configuration for Oracle Linux 6.5</code><br /><code>lxc.arch = x86_64</code><br /><code>lxc.cap.drop = sys_resource</code><br /><code>lxc.cap.drop = setfcap setpcap</code><br /><code># Devices, Filesystems, Mounts</code><br /><code>lxc.cgroup.devices.allow = a # Allow access to all devices</code><br /><code>lxc.cgroup.devices.allow = a 10:236 rwm</code><br /><code>lxc.cgroup.devices.allow = a 252:* rwm</code><br /><code>lxc.cgroup.devices.allow = a 8:* rwm</code><br /><code># Uncomment when presenting LUNs to LXC container</code><br /><b><code>lxc.mount.entry = /dev/salt-master /var/lib/lxc/salt-master/rootfs/dev/salt-master none defaults,bind,create=dir 0 0</code></b><br /><code>lxc.mount.entry = shm dev/shm tmpfs size=3500m,nosuid,nodev,noexec,create=dir 0 0</code><br /><code>lxc.mount.auto = proc sys cgroup</code><br /><code>lxc.mount.auto = proc:rw sys:rw cgroup-full:rw</code><br /><code>lxc.apparmor.allow_incomplete = 1</code><br /><code># Autostart at boot</code><br /><code># lxc.start.auto = 1</code><br /><code># lxc.group = onboot</code><br /><code>lxc.rootfs.path = overlay:/var/lib/lxc/ora66c10/rootfs:/var/lib/lxc/salt-master/delta0</code><br /><code>lxc.uts.name = salt-master</code><br /><code>[root@colossus salt-master]# </code></div><h3><a name="TOC-Mount-Filesystems-in-Salt-Master-LXC-Linux-Container"></a>Mount Filesystems in Salt-Master LXC Linux Container</h3><p><font size="3">The /etc/fstab should already have been installed into the container during the Orabuntu-LXC install as part of the "workspace" product installer so the LUNs should be mounted already at boot. If the /etc/fstab was not created, then create it manually as shown below.</font><br /></p><div class="sites-codeblock sites-codesnippet-block"><code>[root@colossus salt-master]# <b>sudo lxc-stop -n salt-master<br /><br /></b></code><code>[root@colossus salt-master]# <b>sudo lxc-start -n salt-master<br /><br /></b></code><code>[root@colossus salt-master]# <b>sudo lxc-attach -n salt-master<br /><br /></b></code><code>[root@salt-master salt-master]# <b>cat /etc/fstab</b></code><br /><br /><code>[root@salt-master salt-master]# <b>ls -l /etc/fstab<br /></b></code><code>-rw-r--r--. 1 root root 1 Feb 11 18:44 /etc/fstab<br /><br /></code><code>[root@salt-master salt-master]# <b>ls -l /mnt/database</b></code><br /><code>total 0</code><br /><code>[root@salt-master salt-master]# <b>ls -lR /opt/watchdox/storage</b></code><br /><code>/opt/watchdox/storage:</code><br /><code>total 0</code><br /><code>drwxr-xr-x. 2 root root 6 Feb 11 18:47 filespace</code><br /><code>drwxr-xr-x. 2 root root 6 Feb 11 18:47 fs_cache</code><br /><br /><code>/opt/watchdox/storage/filespace:</code><br /><code>total 0</code><br /><br /><code>/opt/watchdox/storage/fs_cache:</code><br /><code>total 0</code><br /><code>[root@salt-master salt-master]# <b>mount -t xfs /dev/salt-master/wdx_data1_00 /mnt/database</b></code><br /><code>[root@salt-master salt-master]# <b>mount -t xfs /dev/salt-master/wdx_fspa1_00 /opt/watchdox/storage/filespace</b></code><br /><code>[root@salt-master salt-master]# <b>mount -t xfs /dev/salt-master/wdx_fcac1_00 /opt/watchdox/storage/fs_cache<br /><br /></b></code><code>[root@salt-master salt-master]# <b>vi /etc/fstab</b></code><br /><code>[root@salt-master salt-master]# <b>cat /etc/fstab<br /><br /></b></code><b><i><code>tmpfs /dev/shm tmpfs rw,exec,size=3500m 0 0</code><br /><code>/dev/salt-master/wdx_data1_00 /mnt/database xfs defaults 0 0 </code><br /><code>/dev/salt-master/wdx_fspa1_00 /opt/watchdox/storage/filespace xfs defaults 0 0</code><br /><code>/dev/salt-master/wdx_fcac1_00 /opt/watchdox/storage/fs_cache xfs defaults 0 0<br /><br /></code></i></b><code>[root@salt-master salt-master]# </code></div><h3><a name="TOC-Verify-Mounts-after-Salt-Master-LXC-Container-Restart"></a>Verify Mounts after Salt-Master LXC Container Restart</h3><p>Verify that the filesystems are mounted correctly across reboots as shown below.</p><div class="sites-codeblock sites-codesnippet-block"><code>[root@colossus salt-master]# <b>sudo lxc-stop -n salt-master</b></code><br /><code>[root@colossus salt-master]# <b>sudo lxc-start -n salt-master</b></code><br /><code>[root@colossus salt-master]# <b>sudo lxc-attach -n salt-master</b></code><br /><code>[root@salt-master salt-master]# <b>df -TH</b></code><br /><code>Filesystem Type Size Used Avail Use% Mounted on</code><br /><code>tmpfs tmpfs 34G 0 34G 0% /dev/shm</code><br /><code>/dev/salt-master/wdx_data1_00</code><br /><code> xfs 11G 34M 11G 1% /mnt/database</code><br /><code>/dev/salt-master/wdx_fspa1_00</code><br /><code> xfs 11G 34M 11G 1% /opt/watchdox/storage/filespace</code><br /><code>/dev/salt-master/wdx_fcac1_00</code><br /><code> xfs 11G 34M 11G 1% /opt/watchdox/storage/fs_cache</code><br /><code>[root@salt-master salt-master]# </code></div><h3><a name="TOC-Transfer-Install-Media-to-Salt-Master-LXC-Container"></a>Transfer Install Media to Salt-Master LXC Container</h3><div class="sites-codeblock sites-codesnippet-block"><code>[ubuntu@colossus ~]$ <b>sudo lxc-attach -n salt-master</b></code><br /><code>[sudo] password for ubuntu: </code><br /><code>[root@salt-master /]# <b>passwd root</b></code><br /><code>Changing password for user root.</code><br /><code>Retype new password: </code><br /><code>passwd: all authentication tokens updated successfully.</code><br /><code>[root@salt-master /]# <b>exit</b></code><br /><code>exit</code><br /><code>[ubuntu@colossus ~]$ <b>ls -lrt</b></code><br /><code>total 312</code><br /><code>drwxr-xr-x. 2 ubuntu ubuntu 4096 Feb 11 08:37 scst-files</code><br /><code>-rw-rw-r--. 1 ubuntu ubuntu 296960 Feb 11 08:46 scst-files.tar.original</code><br /><code>drwxr-xr-x. 2 ubuntu ubuntu 6 Feb 11 10:03 Videos</code><br /><code>drwxr-xr-x. 2 ubuntu ubuntu 6 Feb 11 10:03 Templates</code><br /><code>drwxr-xr-x. 2 ubuntu ubuntu 6 Feb 11 10:03 Public</code><br /><code>drwxr-xr-x. 2 ubuntu ubuntu 6 Feb 11 10:03 Pictures</code><br /><code>drwxr-xr-x. 2 ubuntu ubuntu 6 Feb 11 10:03 Music</code><br /><code>drwxr-xr-x. 2 ubuntu ubuntu 6 Feb 11 10:03 Documents</code><br /><code>drwxr-xr-x. 2 ubuntu ubuntu 6 Feb 11 10:03 Desktop</code><br /><code>drwxr-xr-x. 4 root root 56 Feb 11 18:24 rootfs</code><br /><code>-rw-rw-r--. 1 ubuntu ubuntu 509 Feb 11 18:42 nameserver.lst</code><br /><code>drwxr-xr-x. 2 root root 4096 Feb 11 18:56 Manage-Orabuntu</code><br /><code>-rw-rw-r--. 1 ubuntu ubuntu 17 Feb 11 19:10 snap-comment</code><br /><code>drwxr-xr-x. 4 ubuntu ubuntu 4096 Feb 11 19:56 Downloads</code><br /><code>[ubuntu@colossus ~]$ <b>cd Downloads</b></code><br /><code>[ubuntu@colossus Downloads]$ </code><br /><code>[ubuntu@colossus Downloads]$ <b>nslookup salt-master</b></code><br /><code>Server:  127.0.0.1</code><br /><code>Address: 127.0.0.1#53</code><br /><br /><code>Non-authoritative answer:</code><br /><code>Name: salt-master.uekulele.com</code><br /><code>Address: 10.209.53.10</code><br /><br /><code>[ubuntu@colossus Downloads]$ <b>ping -c 2 salt-master</b></code><br /><code>PING salt-master.uekulele.com (10.209.53.10) 56(84) bytes of data.</code><br /><code>64 bytes from salt-master.uekulele.com (10.209.53.10): icmp_seq=1 ttl=64 time=0.413 ms</code><br /><code>64 bytes from salt-master.uekulele.com (10.209.53.10): icmp_seq=2 ttl=64 time=0.044 ms<br /></code><code>--- salt-master.uekulele.com ping statistics ---</code><br /><code>2 packets transmitted, 2 received, 0% packet loss, time 1001ms</code><br /><code>rtt min/avg/max/mdev = 0.044/0.228/0.413/0.185 ms<br /><br /></code><code>[ubuntu@colossus Downloads]$ <b>scp watchdox-cm-v1.12.1-20171114-6757-5e8c6fc.tgz root@salt-master:/opt/watchdox/upgrade/.<br /><br /></b></code><code>The authenticity of host 'salt-master (10.209.53.10)' can't be established.</code><br /><code>RSA key fingerprint is SHA256:+QqjunDNiVsTVbDwO18opJtGvuGY0E5WWy26zodImWE.</code><br /><code>RSA key fingerprint is MD5:d9:7a:a6:d4:bd:1d:2d:4b:f1:70:13:d9:09:71:87:04.</code><br /><code>Are you sure you want to continue connecting (yes/no)? yes</code><br /><code>Warning: Permanently added 'salt-master,10.209.53.10' (RSA) to the list of known hosts.</code><br /><code>root@salt-master's password: </code><br /><code>watchdox-cm-v1.12.1-20171114-6757-5e8c6fc.tgz 100% 2436MB 203.0MB/s 00:12<br /> </code><br /><code>[ubuntu@colossus Downloads]$</code></div> <h3><a name="TOC-Untar-Install-Media"></a>Untar Install Media</h3><p>Untar the install media as shown below. Note on some kernels when using an overlayfs snapshot copy of an LXC containers the error "Directory renamed before its status could be extracted" may occur during the untar operation, with failure of the "tar -xzvf" command. In this case, append the following switch "absolute-names" to the tar command:</p><p> "tar -xzvf watchdox-cm-v1.12.1-20171114-6757-5e8c6fc.tgz<code><b> </b></code>--absolute-names"</p><p>which should prevent the error and allow the normal untar of the tgz archive. The <a href="https://github.com/moby/moby/issues/19647" target="_blank" rel="nofollow">error</a> is caused by a bug in the overlayfs code in some but not all linux kernels. Other alternatives are to use AUFS filesystem, or to simply use a regular LXC container that has not been copied with overlayfs technology, so there are readily available alternatives if needed.<br /></p><div class="sites-codeblock sites-codesnippet-block"><code>[ubuntu@colossus Downloads]$ <b>sudo lxc-attach -n salt-master</b></code><br /><code>[root@salt-master /]# <b>rpm -qa | egrep 'which|createrepo|sudo'</b></code><br /><code>sudo-1.8.6p3-15.el6.x86_64</code><br /><code>createrepo-0.9.9-22.el6.noarch</code><br /><code>which-2.19-6.el6.x86_64</code><br /><code>[root@salt-master /]# <b>cd /opt/watchdox/upgrade/</b></code><br /><code>[root@salt-master upgrade]# <b>ls -lrt</b></code><br /><code>total 2494524</code><br /><code>-rw-r--r--. 1 root root 2554389244 Feb 11 20:00 watchdox-cm-v1.12.1-20171114-6757-5e8c6fc.tgz</code><br /><code>[root@salt-master upgrade]# <b>df -TH</b></code><br /><code>Filesystem Type Size Used Avail Use% Mounted on</code><br /><code>tmpfs tmpfs 34G 0 34G 0% /dev/shm</code><br /><code>/dev/salt-master/wdx_data1_00</code><br /><code> xfs 11G 34M 11G 1% /mnt/database</code><br /><code>/dev/salt-master/wdx_fspa1_00</code><br /><code> xfs 11G 34M 11G 1% /opt/watchdox/storage/filespace</code><br /><code>/dev/salt-master/wdx_fcac1_00</code><br /><code> xfs 11G 34M 11G 1% /opt/watchdox/storage/fs_cache</code><br /><code>[root@salt-master upgrade]# <b>tar -xzvf watchdox-cm-v1.12.1-20171114-6757-5e8c6fc.tgz</b><br /><br /> </code></div></div><div><h3><a name="TOC-Verify-Python-Version-in-LXC-Container"></a>Verify Python Version in LXC Container</h3><p>The python version must be 2.6.x (2.7.x will not work). Many of the Oracle Linux LXC templates version 6.x have python 2.6.6 as the default version which works with Blackberry Workspaces.<br /></p></div><div class="sites-codeblock sites-codesnippet-block"><div><code>[ubuntu@colossus Downloads]$ </code><b><code>sudo lxc-attach -n salt-master</code></b><br /></div><div><code>[root@salt-master /]# </code><b><code>python --version</code></b><br /><code>Python 2.6.6</code><br /><code>[root@salt-master /]# </code></div></div><h3><a name="TOC-Run-Blackberry-Workspaces-Installer"></a>Run Blackberry Workspaces Installer</h3><p><font size="3">Run the workspaces installer as shown below.</font><br /></p><div class="sites-codeblock sites-codesnippet-block"><div><br /><code>[root@salt-master upgrade]# <b>python /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/salt-master/bootstrap.py</b></code><br /><code>11-02-2018 11:31:59 [appliancex-install] INFO: ######## start bootstrap salt-master ########</code><br /><code>11-02-2018 11:31:59 [appliancex-install] INFO: installing mandatory rpms</code><br /><code>11-02-2018 11:31:59 [appliancex-install] INFO: creating temp yum repository</code><br /><code>11-02-2018 11:31:59 [appliancex-install] INFO: Running shell command:</code><br /><code>['which', 'createrepo']</code><br /><code>11-02-2018 11:31:59 [appliancex-install] INFO: Result:</code><br /><code>{</code><br /><code> "exit": 0, </code><br /><code> "err": [], </code><br /><code> "out": [</code><br /><code> "/usr/bin/createrepo"</code><br /><code> ]</code><br /><code>}</code><br /><code>11-02-2018 11:31:59 [appliancex-install] INFO: Running shell command:</code><br /><code>['which', 'salt-master']</code><br /><code>11-02-2018 11:31:59 [appliancex-install] INFO: Result:</code><br /><code>{</code><br /><code> "exit": 1, </code><br /><code> "err": [</code><br /><code> "which: no salt-master in (/sbin:/bin:/usr/sbin:/usr/bin)"</code><br /><code> ], </code><br /><code> "out": []</code><br /><code>}</code><br /><code>11-02-2018 11:31:59 [appliancex-install] ERROR: Failed to execute ['which', 'salt-master']</code><br /><code>Result:</code><br /><code>{'exit': 1, 'err': ['which: no salt-master in (/sbin:/bin:/usr/sbin:/usr/bin)'], 'out': []}</code><br /><code>11-02-2018 11:31:59 [appliancex-install] INFO: Running shell command:</code><br /><code>['yum', '-y', '--disablerepo=\\*', 'install', '/opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/python-urlgrabber-3.9.1-11.el6.noarch.rpm', '/opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/yum-plugin-fastestmirror-1.1.30-40.el6.noarch.rpm', '/opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/yum-3.2.29-81.el6.centos.noarch.rpm', '/opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/yum-utils-1.1.30-40.el6.noarch.rpm']</code><br /><code>11-02-2018 11:32:00 [appliancex-install] INFO: Result:</code><br /><code>{</code><br /><code> "exit": 0, </code><br /><code> "err": [], </code><br /><code> "out": [</code><br /><code> "Loaded plugins: lxc-patch", </code><br /><code> "Setting up Install Process", </code><br /><code> "Examining /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/python-urlgrabber-3.9.1-11.el6.noarch.rpm: python-urlgrabber-3.9.1-11.el6.noarch", </code><br /><code> "Marking /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/python-urlgrabber-3.9.1-11.el6.noarch.rpm as an update to python-urlgrabber-3.9.1-9.0.1.el6.noarch", </code><br /><code> "Examining /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/yum-plugin-fastestmirror-1.1.30-40.el6.noarch.rpm: yum-plugin-fastestmirror-1.1.30-40.el6.noarch", </code><br /><code> "Marking /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/yum-plugin-fastestmirror-1.1.30-40.el6.noarch.rpm to be installed", </code><br /><code> "Examining /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/yum-3.2.29-81.el6.centos.noarch.rpm: yum-3.2.29-81.el6.centos.noarch", </code><br /><code> "Marking /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/yum-3.2.29-81.el6.centos.noarch.rpm as an update to yum-3.2.29-60.0.1.el6.noarch", </code><br /><code> "Examining /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/yum-utils-1.1.30-40.el6.noarch.rpm: yum-utils-1.1.30-40.el6.noarch", </code><br /><code> "Marking /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/yum-utils-1.1.30-40.el6.noarch.rpm to be installed", </code><br /><code> "Resolving Dependencies", </code><br /><code> "--&gt; Running transaction check", </code><br /><code> "---&gt; Package python-urlgrabber.noarch 0:3.9.1-9.0.1.el6 will be updated", </code><br /><code> "---&gt; Package python-urlgrabber.noarch 0:3.9.1-11.el6 will be an update", </code><br /><code> "---&gt; Package yum.noarch 0:3.2.29-60.0.1.el6 will be updated", </code><br /><code> "---&gt; Package yum.noarch 0:3.2.29-81.el6.centos will be an update", </code><br /><code> "---&gt; Package yum-plugin-fastestmirror.noarch 0:1.1.30-40.el6 will be installed", </code><br /><code> "---&gt; Package yum-utils.noarch 0:1.1.30-40.el6 will be installed", </code><br /><code> "--&gt; Finished Dependency Resolution", </code><br /><code> "", </code><br /><code> "Dependencies Resolved", </code><br /><code> "", </code><br /><code> "================================================================================", </code><br /><code> " Package", </code><br /><code> " Arch Version Repository Size", </code><br /><code> "================================================================================", </code><br /><code> "Installing:", </code><br /><code> " yum-plugin-fastestmirror", </code><br /><code> " noarch 1.1.30-40.el6 /yum-plugin-fastestmirror-1.1.30-40.el6.noarch 53 k", </code><br /><code> " yum-utils", </code><br /><code> " noarch 1.1.30-40.el6 /yum-utils-1.1.30-40.el6.noarch 308 k", </code><br /><code> "Updating:", </code><br /><code> " python-urlgrabber", </code><br /><code> " noarch 3.9.1-11.el6 /python-urlgrabber-3.9.1-11.el6.noarch 316 k", </code><br /><code> " yum noarch 3.2.29-81.el6.centos", </code><br /><code> " /yum-3.2.29-81.el6.centos.noarch 4.6 M", </code><br /><code> "", </code><br /><code> "Transaction Summary", </code><br /><code> "================================================================================", </code><br /><code> "Install 2 Package(s)", </code><br /><code> "Upgrade 2 Package(s)", </code><br /><code> "", </code><br /><code> "Total size: 5.3 M", </code><br /><code> "Downloading Packages:", </code><br /><code> "Running rpm_check_debug", </code><br /><code> "Running Transaction Test", </code><br /><code> "Transaction Test Succeeded", </code><br /><code> "Running Transaction", </code><br /><code> "", </code><br /><code> " Updating : python-urlgrabber-3.9.1-11.el6.noarch 1/6 ", </code><br /><code> "", </code><br /><code> " Updating : yum-3.2.29-81.el6.centos.noarch 2/6 ", </code><br /><code> "", </code><br /><code> " Installing : yum-plugin-fastestmirror-1.1.30-40.el6.noarch 3/6 ", </code><br /><code> "", </code><br /><code> " Installing : yum-utils-1.1.30-40.el6.noarch 4/6 ", </code><br /><code> "", </code><br /><code> " Cleanup : yum-3.2.29-60.0.1.el6.noarch 5/6 ", </code><br /><code> "", </code><br /><code> " Cleanup : python-urlgrabber-3.9.1-9.0.1.el6.noarch 6/6 ", </code><br /><code> "lxc-patch: checking if updated pkgs need patching...", </code><br /><code> "", </code><br /><code> " Verifying : yum-plugin-fastestmirror-1.1.30-40.el6.noarch 1/6 ", </code><br /><code> "", </code><br /><code> " Verifying : yum-utils-1.1.30-40.el6.noarch 2/6 ", </code><br /><code> "", </code><br /><code> " Verifying : yum-3.2.29-81.el6.centos.noarch 3/6 ", </code><br /><code> "", </code><br /><code> " Verifying : python-urlgrabber-3.9.1-11.el6.noarch 4/6 ", </code><br /><code> "", </code><br /><code> " Verifying : python-urlgrabber-3.9.1-9.0.1.el6.noarch 5/6 ", </code><br /><code> "", </code><br /><code> " Verifying : yum-3.2.29-60.0.1.el6.noarch 6/6 ", </code><br /><code> "", </code><br /><code> "Installed:", </code><br /><code> " yum-plugin-fastestmirror.noarch 0:1.1.30-40.el6 ", </code><br /><code> " yum-utils.noarch 0:1.1.30-40.el6 ", </code><br /><code> "", </code><br /><code> "Updated:", </code><br /><code> " python-urlgrabber.noarch 0:3.9.1-11.el6 yum.noarch 0:3.2.29-81.el6.centos ", </code><br /><code> "", </code><br /><code> "Complete!"</code><br /><code> ]</code><br /><code>}</code><br /><code>11-02-2018 11:32:00 [appliancex-install] INFO: Running shell command:</code><br /><code>['createrepo', '--update', '/opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms']</code><br /><code>11-02-2018 11:32:06 [appliancex-install] INFO: Result:</code><br /><code>{</code><br /><code> "exit": 0, </code><br /><code> "err": [], </code><br /><code> "out": [</code><br /><code> "Could not find valid repo at: /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms", </code><br /><code> "Spawning worker 0 with 530 pkgs", </code><br /><code> "Workers Finished", </code><br /><code> "Gathering worker results", </code><br /><code> "", </code><br /><code> "Saving Primary metadata", </code><br /><code> "Saving file lists metadata", </code><br /><code> "Saving other metadata", </code><br /><code> "Generating sqlite DBs", </code><br /><code> "Sqlite DBs complete"</code><br /><code> ]</code><br /><code>}</code><br /><code>11-02-2018 11:32:06 [appliancex-install] INFO: installing rpm ['salt-master', 'salt-minion', 'salt-cloud', 'dialog']</code><br /><code>11-02-2018 11:32:06 [appliancex-install] INFO: Running shell command:</code><br /><code>['yum', '--disablerepo=*', '--enablerepo=Watchdox', 'install', 'salt-master', 'salt-minion', 'salt-cloud', 'dialog', '-y']</code><br /><code>...<br /><br /></code></div><div><code>(<b><i>output redacted for brevity</i></b>...)<br /><br />...<br /></code></div><div><code>12-02-2018 05:40:24 [appliancex-install] INFO: copying salt files<br />12-02-2018 05:40:24 [appliancex-install] INFO: copying /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/version.txt --&gt; /opt/watchdox/appliancexui/utils/version.txt<br />12-02-2018 05:40:24 [appliancex-install] INFO: ######## Appliance-X bootstrap completed ! ########<br />ApplianceX-UI admin password: <br />12-02-2018 05:40:24 [appliancex-install] INFO: Running shell command:<br />['salt-call', 'pillar.get', 'keys-dec:appliancex-ui']<br />12-02-2018 05:40:34 [appliancex-install] INFO: Result:<br />{<br /> "exit": 0, <br /> "err": [], <br /> "out": [<br /> "local:", <br /> " <b>b8b6149f1f</b>" <span style="color:rgb(255,0,0)"><b><i>&lt;-- password for the web installer</i></b> <i><b>at port 5000</b></i></span><br /> ]<br />}<br />[root@salt-master upgrade]# <br /></code></div></div><div><h3><a name="TOC-Set-Port-Forward-Rule-on-EC2-if-on-AWS"></a>Set Port Forward Rule on EC2 if on AWS</h3><p>If running on AWS cloud a port forward rule will be needed to access the UI installer at port 5000 running inside an LXC container. This reference was very helpful from <a href="https://blog.mudy.info/2010/07/linux-container-on-amazon-ec2-server/" target="_blank" rel="nofollow">Mudy's Blog</a>.<br /></p><div class="sites-codeblock sites-codesnippet-block"><p><font size="2"><code>ubuntu@ip-10-0-128-219:~$ <b>sudo lxc-ls -f</b></code><br /><code>NAME STATE AUTOSTART GROUPS IPV4 IPV6 </code><br /><code>ns1 RUNNING 0 - 10.209.53.2, 172.29.108.2 - </code><br /><code>ns1-base STOPPED 0 - - - </code><br /><code>oel66c10 STOPPED 0 - - - </code><br /><code>ora66c10 STOPPED 0 - - - </code><br /><code>ora66c11 STOPPED 0 - - - </code><br /><code>ora66c12 STOPPED 0 - - - </code><br /><code>salt-master RUNNING 0 - <b><span style="color:rgb(61,133,198)">10.209.53.10</span></b> -</code></font></p><p><font size="2"><code>ubuntu@ip-10-0-128-219:~$ <b>sudo iptables -t nat -A PREROUTING -i <span style="color:rgb(255,0,0)">eth0</span> -p tcp --dport <span style="color:rgb(255,0,0)">5000</span> -j DNAT --to-destination <span style="color:rgb(111,168,220)">10.209.53.10</span></b></code><br /><br /></font></p><p><font size="2"><code>ubuntu@ip-10-0-128-219:~$ <b>ifconfig eth0</b></code><br /><code><b><span style="color:rgb(255,0,0)">eth0</span></b> Link encap:Ethernet HWaddr 0e:6a:f6:40:1b:ac </code><br /><code> inet addr:10.0.128.219 Bcast:10.0.143.255 Mask:255.255.240.0</code><br /><code> inet6 addr: fe80::c6a:f6ff:fe40:1bac/64 Scope:Link</code><br /><code> UP BROADCAST RUNNING MULTICAST MTU:9001 Metric:1</code><br /><code> RX packets:1885275 errors:0 dropped:0 overruns:0 frame:0</code><br /><code> TX packets:104055 errors:0 dropped:0 overruns:0 carrier:0</code><br /><code> collisions:0 txqueuelen:1000 </code><br /><code> RX bytes:2714233448 (2.7 GB) TX bytes:50242602 (50.2 MB)</code><br /><br /><code>ubuntu@ip-10-0-128-219:~$ </code></font></p></div><br /><h3><a name="TOC-Run-the-Installer-UI"></a>Run the Installer UI</h3><p>Run the installer UI at: https://salt-master:5000 URL. If any of the windows pre-requisites in validation_result.yaml are ignorable, then set the required parameter as shown below and re-run the installer UI.</p><div class="sites-codeblock sites-codesnippet-block"><code>[ubuntu@colossus ~]$ <b>sudo lxc-attach -n salt-master<br /><br /></b></code><code>[root@salt-master /]# <b>cd /srv/salt/custom/pillar<br /><br /></b></code><code>[root@salt-master pillar]# <b>vi upgrade.yaml <br /><br /></b></code><code>[root@salt-master pillar]# <b>cat upgrade.yaml<br /></b></code><span style="color:rgb(255,0,0)"><i><b><code>pre.validation.warn.only: <span style="color:rgb(255,0,0)">True</span> <span style="color:rgb(255,0,0)">&lt;--</span> <span style="color:rgb(255,0,0)">Set to "True" if ignoring Windows validation results<br /></span><br /></code></b></i></span><code>[root@salt-master pillar]# </code></div><h3><a name="TOC-Generate-the-Required-SSL-Files"></a>Generate the Required SSL Files</h3><p><font size="3">The reference for this procedure is <a href="https://developer-should-know.com/post/127063737582/how-to-create-your-own-pki-with-openssl" target="_blank" rel="nofollow">here</a>. Below is an example of setting up self-signed certificates for a company called "uekulele" at "uekulele.com" as shown below which is a domain that I actually own.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><code>2017 mkdir PKI</code><br /><code>2018 cd PKI</code><br /><code>2019 clear</code><br /><code>2020 openssl genrsa -out rootCA.key -aes256 -passout pass:changeit 4096<br /><br /></code><code>2021 openssl req -x509 -new -key rootCA.key -out rootCA.crt -subj '/C=UA/O=uekulele/CN=uekulele Root CA' -days 3650 -sha256 -passin pass:changeit<br /><br /></code><code>2022 openssl genrsa -out intermediateCA.key -aes256 -passout pass:changeit 4096<br /><br /></code><code>2023 openssl req -new -key intermediateCA.key -out intermediateCA.csr -subj '/C=UA/O=uekulele/CN=uekulele Intermediate CA' -passin pass:changeit<br /><br /></code><code>2024 vi x.sh<br /><br /></code><code>2025 chmod 755 x.sh<br /><br /></code><code>2026 ./x.sh<br /><br /></code><code>2027 openssl x509 -req -in intermediateCA.csr -CA rootCA.crt -CAkey rootCA.key -CAcreateserial -CAserial rootCA.srl -extfile v3_ca.ext -out intermediateCA.crt -days 365 -sha256 -passin pass:changeit<br /><br /></code><code>2028 openssl verify -CAfile rootCA.crt intermediateCA.crt<br /><br /></code><code>2029 openssl x509 -in intermediateCA.crt -text<br /><br /></code><code>2030 openssl genrsa -out server.key -aes256 -passout pass:changeit 4096</code><br /><code><br /></code><code>2032 openssl req -new -key server.key -out server.csr -subj '/C=UA/O=uekulele/CN=uekulele.com' -passin pass:changeit<br /><br /></code><code>2033 openssl x509 -req -in server.csr -CA intermediateCA.crt -CAkey intermediateCA.key -CAcreateserial -CAserial intermediateCA.srl -out server.crt -days 365 -sha256 -passin pass:changeit<br /><br /></code><code>2034 mv server.key server.key.secure<br /><br /></code><code>2035 openssl rsa -in server.key.secure -out server.key -passin pass:changeit<br /><br /></code><code>2036 openssl genrsa -out client.key -aes256 -passout pass:changeit 4096<br /><br /></code><code>2037 openssl req -new -key client.key -out client.csr -subj '/C=UA/O=uekulele/CN=Gilbert Standen/emailAddress=gil.standen@gmail.com@uekulele.com' -passin pass:changeit<br /><br /></code><code>2038 openssl x509 -req -in client.csr -CA intermediateCA.crt -CAkey intermediateCA.key -CAcreateserial -CAserial intermediateCA.srl -out client.crt -days 365 -sha256 -passin pass:changeit<br /><br /></code><code>2039 cat intermediateCA.crt rootCA.crt &gt; CAchain.pem<br /><br /></code><code>2040 openssl pkcs12 -export -passout pass:changeit -in client.crt -inkey client.key -certfile CAchain.pem -out client.p12 -passin pass:changeit<br /></code><br /><code>2042 cat server.crt<br /><br /></code><code>2043 cat CAchain.pem<br /><br /></code><code>2044 cat server.key<br /><br /></code><code>ubuntu@santorini:~/PKI$ </code></div><br /></div><div>And this results in the following 3 files that are used in the Blackberry Workspaces deployment. Examples are shown below. Normally these would not be published like this, but these are self-signed certificates so they are shown here for comparison purposes.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><code>ubuntu@santorini:~/PKI$ <b>cat server.crt <span style="color:rgb(255,0,0)">&lt;-- Use this one for "SSL Certificate"</span></b></code><br /><code>-----BEGIN CERTIFICATE-----</code><br /><code>MIIE9jCCAt4CCQDuB/jBUW+qJDANBgkqhkiG9w0BAQsFADBDMQswCQYDVQQGEwJV</code><br /><code>QTERMA8GA1UECgwIdWVrdWxlbGUxITAfBgNVBAMMGHVla3VsZWxlIEludGVybWVk</code><br /><code>aWF0ZSBDQTAeFw0xODAyMTIyMDEyNDlaFw0xOTAyMTIyMDEyNDlaMDcxCzAJBgNV</code><br /><code>BAYTAlVBMREwDwYDVQQKDAh1ZWt1bGVsZTEVMBMGA1UEAwwMdWVrdWxlbGUuY29t</code><br /><code>MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA4sy5+7F8i23JWny6ZcQk</code><br /><code>bP4lHhT+mWsZ8sB82s80BT21qJII+7LWejEzVvV6ih4LNWmOvZTq7vqhnc2q8bIC</code><br /><code>SIH0mGxoaa4Ap/wnq40+cEWw5atonqGhUQCdb3TTCcTorQBLIqF/uCFjchDTToXo</code><br /><code>YSD0D//NEb/IBDebGAS/T1E22R+HCIxqUe+83sd6FBfUFEzp8rnW7xHQFdl/O7T6</code><br /><code>G/a4fOLtYk1Sb660AtjslGr86swL4+G0V5CMoHfkOCYKlJwhwXKX3MsnX/HDKOC7</code><br /><code>6N5HafBRP9iSx6mDRLjy1a/g0fsv9Ei6vx2Yz0isMISH+JSSempZNoDg5BxDUY69</code><br /><code>DRmuePcGgdUhI0ju14WUc+Knie6nBXaIJGo5gY+pKTuqibhcM5wkGWJsJ6hZl2R7</code><br /><code>bGghe2OoZQxV+/3IG7v2jIfemhJhW2RukVflZjs8C95xrOgVKTsmFufVgEK59odc</code><br /><code>GV3XPiuor8rJhAyu7rQ6GLV4X78UHLCwuYclol75ule4iwTCotx6kq1gWzCP37ZR</code><br /><code>c3Wf6RRpkKy4eYQrcLHqizgpmjP+VCi0eqQZgMtEVVVMMBBA9FmF9WSflZrAN82W</code><br /><code>y2TOzT988YRBRBKa7bQ+rCTNJk2zFvGQJeKBuj6V426XWoUtOgb0oeMB2B2aOjZ4</code><br /><code>1AekYG3wa7nLTHrIdVIQIakCAwEAATANBgkqhkiG9w0BAQsFAAOCAgEAkfek8jed</code><br /><code>LK6QvKiZ+FtGHidtwuKX9WHTWuPSBje2mERRDf01LACLk7m9bs9imczDCBvY5eRZ</code><br /><code>bfH/ZXn7Js33jdJ7FHA2O0cApak+Je4pH9tdqiH8e25AibNCv3bsAjnWkchaOFCH</code><br /><code>fyXNConLzy14Iwl0ccGHmBT7l5Vxm/WbFc5mp+mwD1r/df4p7uJJxHKxzMfC73tA</code><br /><code>sP+eW5TRSjfAUC9IdpehPr+83D/tFY/L8nq599lu97eVFEiJ2PwRhR/Lf7GisF3N</code><br /><code>c2UUvE7Fu2tYaUdkQvZ1Pon6r72dvVqHnrn/nMKGiwGGHxuVtbJ0CCSr6TBjM2kK</code><br /><code>qtRNcWdTKsJfraulOPb/RKFbDDLkTC8GpfYuK4PuSgyPkfg9oAWfyi33lN3VKST6</code><br /><code>S5CT8Bnv5Ei8jvyqA6WPlePE/9TEsMtZdqhVQELYmjlVyKawuEU4Cspscszl66Sw</code><br /><code>WxM/fTdMHk1Mynb9TV4JF6nRvdZZAOnLVtu6fTDO4GxECZKRkUZ3vP7KeBtPs2LH</code><br /><code>57yPYCZfoQX9PfpLmQdfRdUrYNvEbbw4nPReLIuhiGg8QBgkdgHpXP27QF403++e</code><br /><code>W3/gdBKNn29R9bLOw+OwfhAHjUuWgs2C1MVIaAOOxIrSgLpZkux6hME/AdDUTYsa</code><br /><code>hY1SEUvTnF+WsxkSXQpZqF/UkScOvYPmad8=</code><br /><code>-----END CERTIFICATE-----<br /><br /></code><code>ubuntu@santorini:~/PKI$ <b>cat CAchain.pem <span style="color:rgb(255,0,0)">&lt;-- Use this one for "SSL Chain"</span></b></code><br /><code>-----BEGIN CERTIFICATE-----</code><br /><code>MIIFnzCCA4egAwIBAgIJAMTeFu72Gw3FMA0GCSqGSIb3DQEBCwUAMDsxCzAJBgNV</code><br /><code>BAYTAlVBMREwDwYDVQQKDAh1ZWt1bGVsZTEZMBcGA1UEAwwQdWVrdWxlbGUgUm9v</code><br /><code>dCBDQTAeFw0xODAyMTIyMDA5MzBaFw0xOTAyMTIyMDA5MzBaMEMxCzAJBgNVBAYT</code><br /><code>AlVBMREwDwYDVQQKDAh1ZWt1bGVsZTEhMB8GA1UEAwwYdWVrdWxlbGUgSW50ZXJt</code><br /><code>ZWRpYXRlIENBMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAvOmMzQpE</code><br /><code>tX/tnHYKmNmQRrslk2+LuublgT/O/pgpUwpppLxJHPk+1sfgDfOoR0uS9yQUizJe</code><br /><code>+Foi/ddqMvMVn81o2AOVFqsgizkUKzSv5ieBuAwclKfUFzL8jMgHsj6vXm6yNB2k</code><br /><code>Fr57DS7X7KAhmhaC4cOoBDPIe9Gn4iRvppGOpXCGOixxtp3Xv6zD0ABPOqtpdP8E</code><br /><code>WI0H6U+s5P4lI7QVa7B5foGO0h6tHEx2f+lSU2e7w1rkyxAKdSio76QMb8JEJ4SD</code><br /><code>xYkAFWZWY8VnZV+wjy/jd6uwNDjeSQESD2KufNsoaOm4QIu0M4o0w7oXBHw3Unnv</code><br /><code>CeXB3+1qvXSTpzqVJrtHjIGQ8xltQ05Tab94zCJLBsAm+JpcisZ+876VykMpMEGB</code><br /><code>fe++r8RC3wxdnwEvlrnwf4rZvIXpA8KvtIIibvsJJNN8a7qP3TQ6fMAluDniEVpl</code><br /><code>EeO87KWzeJ4laMrs2ORdAjws0CZqQpLmccG6LkNO/vQZan6as3/FePezxEdHQjWb</code><br /><code>XHxw7wezMOJokLGWZKmavTYvzjXCG8AT907POKzbN5vko+UFALebqZy/Ycm/Ft/9</code><br /><code>x6NAOBg/O9ysJEzE3XA+IxVnKg6mJOIvoWZRa3QEnwVZQtMMxCOeRkp3ulVDHZRg</code><br /><code>uMBehN8qfXMWJor+kQCl+6QVKauifTEDFgsCAwEAAaOBnTCBmjAdBgNVHQ4EFgQU</code><br /><code>lMIBXqI37rEz06bNIlHEtUTD2TcwawYDVR0jBGQwYoAUn5cWr95BW0rOM9Ql8t4U</code><br /><code>+CdZhsGhP6Q9MDsxCzAJBgNVBAYTAlVBMREwDwYDVQQKDAh1ZWt1bGVsZTEZMBcG</code><br /><code>A1UEAwwQdWVrdWxlbGUgUm9vdCBDQYIJAMxx6faWvYwxMAwGA1UdEwQFMAMBAf8w</code><br /><code>DQYJKoZIhvcNAQELBQADggIBADugYjTWkaJHcGjmld9RDO94Jy3UOI/dA1LdHoig</code><br /><code>6n4XXx+fXuC0X+ZxcnV9SPdWJSw1m6yK7fOgeBBTBs3VDOuF5tKKUAmT58ULkLhr</code><br /><code>wQiE9If7i1W8axEp9aLxIl1by7+byP6uhnGQUSXAdNgSXxY5fGu0EwIyBlY93iom</code><br /><code>TTvsdc58HnPXK/6kG2uUEXizxp55VojiyNm9maq3KN7Jz2nM+UtnoAP8Ywn04l02</code><br /><code>umreaA156KRANkWxU6xO3X9mjDwpM6gJ11KyqWMt8h6IwAc1Q+BGm7RfR20y/7rx</code><br /><code>kbBTNiJxkbO7UyjlNvABOUQe/HAzS9Lrt8EEWnKxPYGom+LsmR/9ImbM54LdM9kH</code><br /><code>o+rQ7OkRuVv0dexU/NF4jqjm5PvsPY6lrugOr38QiHSHKlIAGaUjdRwMCfk2NTL3</code><br /><code>w9/WjY3uqw/dcwXFCjQ34D6fdbw/hTCke7taCihyx8W1MZDvKFkj2KjqIJ/bNUuz</code><br /><code>GVcgiVPow7txJUysQ7ciREKZtZXowupibnNksFUKebI5mTwKuzGAKf2MJGN1k3Ck</code><br /><code>TWATQQzrDf4VIYqYv9qrIaJbh6syIRedEd9CX8OdFyulOCfZlTBt/ElXq0K+zCz+</code><br /><code>AAI8PWYNroNtuDs7M+MtkyqLNJfK6bn0hSQVKVUYDxl4bvuB7h3i0K7nAKS8Fccr</code><br /><code>YBEj</code><br /><code>-----END CERTIFICATE-----</code><br /><code>-----BEGIN CERTIFICATE-----</code><br /><code>MIIFSTCCAzGgAwIBAgIJAMxx6faWvYwxMA0GCSqGSIb3DQEBCwUAMDsxCzAJBgNV</code><br /><code>BAYTAlVBMREwDwYDVQQKDAh1ZWt1bGVsZTEZMBcGA1UEAwwQdWVrdWxlbGUgUm9v</code><br /><code>dCBDQTAeFw0xODAyMTIyMDA3MjJaFw0yODAyMTAyMDA3MjJaMDsxCzAJBgNVBAYT</code><br /><code>AlVBMREwDwYDVQQKDAh1ZWt1bGVsZTEZMBcGA1UEAwwQdWVrdWxlbGUgUm9vdCBD</code><br /><code>QTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBAMXHhiImObIaApOxQXy2</code><br /><code>9V8a88Sng8AFJ9sEaD3VWdOjXgzQSKypVQe+rUrcHzyQdusX6itxqACl9YTRrL13</code><br /><code>4hu0gXRcgR1UX1eTiFYLMTIn7Cjv2hmgXpMbx1akupeeQJimh+RJLMxsWgy8f1XA</code><br /><code>lacyrqqix/cWdUuIjv/oevBC0QfJ8Y4HsWdOKNw7W54sYEZQjwQj08qa0hpqMogY</code><br /><code>iHyabPDiqnkuJ8RTaRpe0LCF4VbyWsx7sVrbJGnRc3tHqjypFjT7q75yT1dQHw0Y</code><br /><code>hnQONSVpPYZ04dHltDKyGT1J3CjqLuMLNz3efwBTi7yuwuLnx+RVmLq20lVgcgHx</code><br /><code>9/mCSf2YZONE1JHDLK0eYl4FPGeyRW7V6pnqLyfbCqPh4B+fvpQOwFkxnuSOWb+q</code><br /><code>Ei4+bsUc8KLi93BPWef36ADk9NKimwAnx+lqVq0p57paBhNYuz1ukwv6/6WydZc9</code><br /><code>djaK7XWw3Oe1e8nXeH+vV2eAyFHpyd+77FFIRpjUJNt3YSKEt/sjrPTJrhj5CXks</code><br /><code>eheNLJk36bTmlYhjZgyDqlFImQ0xqbF1VgTL0qrfkEdV9HLguKje4Qsz6a9ltkVY</code><br /><code>KkbaPIxOE3GBUfbJ5FBQXXkmTIz/+2S8I4bUBb80BpzQOhZ3pOiGfO+cO05EpkY7</code><br /><code>0scVIxYx9/Cd+zfzaXl8oDu9AgMBAAGjUDBOMB0GA1UdDgQWBBSflxav3kFbSs4z</code><br /><code>1CXy3hT4J1mGwTAfBgNVHSMEGDAWgBSflxav3kFbSs4z1CXy3hT4J1mGwTAMBgNV</code><br /><code>HRMEBTADAQH/MA0GCSqGSIb3DQEBCwUAA4ICAQBBylYTl2PtxGW6qGxwOvOlWguO</code><br /><code>nKIUzb2N2qC4aDBCIGZaQcnVbT/Wnf7PesGpMtl8QXFhEXPd30m60qrgVrFx81sB</code><br /><code>Iy6piate/bwAb9rDVsfCs/o9Nv2gpMzPm83ELYcW6XpW0pzNPMOrsA1VFKDh3iAF</code><br /><code>I/qo8AuboUourDp3j1HXP6wr28ZMsYLt5mMQvLn0P7pwpk2clDRQ/1HiCZ/2ajt0</code><br /><code>0LnqYR2m2eB0pJh5yTGf3OI2V0nGKiEI/2SZXoq9bEja0RP9hu1VGDVODNPjPKl2</code><br /><code>enjId6aBS2g1OrCDJ3qn/gXncHcSrtjyqNqH1C24v7WX1+z0br0dc6s69fCxGIVD</code><br /><code>HqboRVU2HCkLEbuLt/5nOe5mobN7LrwGBA2e9L2XoQimYK5As5Rf0TD+D98++1zm</code><br /><code>NaCj5yB5jWvs1Z2FVgSkRwpmLq2/51jzx/Fj3UzKF8Xb4kgPtKhsYzntrYVkS+Eg</code><br /><code>mEkoEWRGfKIK9ODTtt8h6hM7VZnK7o7wiAg6eFbECojq68FUII2bz//6Vqf2c7tz</code><br /><code>Mt3VrWrqHyWL4OMfQeUJ5iFdjlbLZJquJjxon9qmQowUDxdanWUeJsusIPN6MWvb</code><br /><code>Val4DOqAm/Pa3fgmwSbd51SW/HiuMr7jcLZR4yHWYF9lcKobvQS3cp24K169uZ1y</code><br /><code>gEU58IJ/KiNibQhJWw==</code><br /><code>-----END CERTIFICATE-----<br /><br /></code><code>ubuntu@santorini:~/PKI$ <b>cat server.key <span style="color:rgb(255,0,0)">&lt;-- Use this one for SSL Private Key</span></b></code><br /><code>-----BEGIN RSA PRIVATE KEY-----</code><br /><code>MIIJKgIBAAKCAgEA4sy5+7F8i23JWny6ZcQkbP4lHhT+mWsZ8sB82s80BT21qJII</code><br /><code>+7LWejEzVvV6ih4LNWmOvZTq7vqhnc2q8bICSIH0mGxoaa4Ap/wnq40+cEWw5ato</code><br /><code>nqGhUQCdb3TTCcTorQBLIqF/uCFjchDTToXoYSD0D//NEb/IBDebGAS/T1E22R+H</code><br /><code>CIxqUe+83sd6FBfUFEzp8rnW7xHQFdl/O7T6G/a4fOLtYk1Sb660AtjslGr86swL</code><br /><code>4+G0V5CMoHfkOCYKlJwhwXKX3MsnX/HDKOC76N5HafBRP9iSx6mDRLjy1a/g0fsv</code><br /><code>9Ei6vx2Yz0isMISH+JSSempZNoDg5BxDUY69DRmuePcGgdUhI0ju14WUc+Knie6n</code><br /><code>BXaIJGo5gY+pKTuqibhcM5wkGWJsJ6hZl2R7bGghe2OoZQxV+/3IG7v2jIfemhJh</code><br /><code>W2RukVflZjs8C95xrOgVKTsmFufVgEK59odcGV3XPiuor8rJhAyu7rQ6GLV4X78U</code><br /><code>HLCwuYclol75ule4iwTCotx6kq1gWzCP37ZRc3Wf6RRpkKy4eYQrcLHqizgpmjP+</code><br /><code>VCi0eqQZgMtEVVVMMBBA9FmF9WSflZrAN82Wy2TOzT988YRBRBKa7bQ+rCTNJk2z</code><br /><code>FvGQJeKBuj6V426XWoUtOgb0oeMB2B2aOjZ41AekYG3wa7nLTHrIdVIQIakCAwEA</code><br /><code>AQKCAgEAixDPZXaSEIhz84kRXj8jurUnG0fySS4zzfabWCu/EQuirMdGvNcOzgQH</code><br /><code>H+YLik8bvleIT9TVLU3+9Vzb2bG11rHgwemPKGWqP1bNGFLWG0+QRXOSBdrDqICB</code><br /><code>CIuQr6fOp+3LJGP0hXnrmVCZ0McpEw16uai3HJAE3Bkgf1zB1afNwtqjGOnIc49V</code><br /><code>tyCHSXTG9N+of83V7ed1OUCQ1JKG3citnN4kgqc4ygRMmoZaojLr/Ci7jbKiuyKG</code><br /><code>KAr7pDYnPLJzvENAvQDQlvMOIK2UaxiIn3vcxhJNBiJ5vBTPyZk7eGXWJKrH31IN</code><br /><code>leRQuLs7CIBJRMibBWGHBDgUSxkD77GNK2lu+O5FgiXdsLzYXZgz7wl8kqceAhHk</code><br /><code>jV+h+lP4GMC6ghiRHyN+3AhynTcjb78pawiW3TZ0+juWe7n/rL4633xXbajaQMkj</code><br /><code>sAkbAFELodGxT/h3iVCT1DgVGA6OtUJVKjU58RnBolE4x1PQ0a8Xas+stlc9Va3z</code><br /><code>iMwyhPhGkSAD26nCjh+WlBnAsPCOFU8WqjeLHaetmuASVQKjhjwJ/XC7ooEIDJWL</code><br /><code>Fc6GgIlB1z1u/AqqwAfKyeUvDzPl59PtQjwEPFCv1izbZOl7nrv2hpFWOV3xX8pN</code><br /><code>hl0pr1qLgcQ3uh2Fojk0qwB8m0NXWnG43NV3ozZxX+aPZvK6J+UCggEBAP3qxqxQ</code><br /><code>zgIhUJBrOEwWgYK9kpXmKxvWNcrf46IaP8uU9V3aKSEiMBigGHisrvJFkWKHpx2T</code><br /><code>hrGch3HuCSQUbgYtC+V8GU33s20eEHcVBTwGicZKN4kELcR1/wDMmy9KMZu16NJs</code><br /><code>+U2u0VPqHe9ovXQZlXzelSU9zjRTWQakDSKzhx6qXT5spCcBx+O55PoCjt9xVb3i</code><br /><code>3xLMVkscfR/yfNPgNYKzYITj6jG2g+5jT2y61CnOxRfRS0VpjkVDRTT00HwASHf4</code><br /><code>r03Ovd0VTMqP+/k3U+AjaulQkjvMioMv2bnCcW9iiLhkq5t595XmlkgSfiY6GdLg</code><br /><code>WkGrhirwuodN4dsCggEBAOSpAQ9GzuW+uE5eiqaUlBfuDFW+F/c4pg5qmVvuknRy</code><br /><code>Bi1R8ctQJLIqZbCV4XJNQVkV8fKaSBcriNBRW+IcNrcbSfo37biQLEWu5YMnVDov</code><br /><code>Ik7h8AJQrz+WVmDFdQ7HRpB7XwD5kmUovQLWowMIEd+rzDhdAE+wYFXxDsuQGyhR</code><br /><code>12JYijsCozSCi6C+VyA62iGqPQqX9ogiXC1zMPnZkvI/DQeEe4aLgPMs8BlGrWXU</code><br /><code>SoHCHnqYj0Xk451Q8ADxde6QrCdlhmqIKnTIvl73iKtRt7K1ViTCFdQsGduLQ5gO</code><br /><code>jjRuT7PKsZFdsKeOkL/5RfQmIGsqg64Am5kNDD0O68sCggEBAJZOw1q/3qM+K13C</code><br /><code>Sqon7HSDWeGoRb6NuHwmuq570WXnALSU7yHxBf2dz76nokxCSETGPnPwn5xGJ5uW</code><br /><code>qAyWl2bKha9MHgKcbbdbQ63qYJXe3PHnfyZ5tcoFe3VyqS5+Qg2FypO99Ho60SlW</code><br /><code>fm/5VaUDfA1WCX3pL0akTB/1Pt1a3tKVUOsiDq4UjMpOgbBJkV/NzE7CnQCYu0Bt</code><br /><code>Vdhyh9g4chSzsKAZ9smE3GZinWKk2fEBuIRX3bHyQUjZAH/PqBavaDa0nLl3d8cG</code><br /><code>09VZFHS7fshAzwncKySA+UGdMsqWwuWHs51L4pX/xkMTI8T4RXrFjAHb0zHqolqK</code><br /><code>9DAiN18CggEAV/ccTUA0P/YK+Tsto7/s6PfPDv0+QwEsAMfJj7BL7zgeYDjyCAEg</code><br /><code>3NmqnTBLtqk5xofGuEnaCe/ZhiqGaonoErEQ2I3DigkMvxH1gWsT3/5Z+Ha62mkn</code><br /><code>whKX0EqmKbVH1DVh6wIX64qsi/b+ZyAnoCB7RAOjJwT3Spid1HnvuKcjcNYW93Sg</code><br /><code>TIccKA6RffimCeVv7i9fzCdLxsBVywiEm2TeIlI5Ix1v0h0rkM27zzzIHPsMtqUS</code><br /><code>GRVg6xhD/FjnwYsub0mDWGBh1OOVOPuJPD8HqFxSc3mm5CTDHc6JhmmzE0CMsOH9</code><br /><code>RasBVrRlwzSmULKKLjAA0GOzeEGov6SJ2QKCAQEAvZE81rJQHhvbNhPUc0phkpoS</code><br /><code>fNfyhuwKNqgkD0xjzMqLQpbvZPy9NEhFoGrzc+XE6LWR/6IuNHhYWBfohwEX5wjo</code><br /><code>Zsb6fCUqmTMKpZFWkdUFK2/vO/tI7WfLZhgiZtcijXoSJE2EnDjxt1QHxMkte7ru</code><br /><code>hAxH+MQqOlAUnST/cePGt6ZmgL1JGtAEis0nNT3UmggumSL/QbmsW6LwGAvn5Ptx</code><br /><code>6ejODG7xDzN4OioDtztnb+rmw0qcoyUXgqZdhcnWXbJFc+VQz9Ow5iGUg72yKxAX</code><br /><code>pyb6TRUvnMTiSteEUxlauxzrzmdWs2k/tdvw+Om9Up79o6dgFf0lCEA+EsXowA==</code><br /><code>-----END RSA PRIVATE KEY-----</code><br /><code>ubuntu@santorini:~/</code></div></div><div><h3><a name="TOC-Change-Redis-Account-to-root"></a>Change Redis Account to root<br /></h3><p>Edit redis to start under root account (or set cronjob to do it). During the install redis will fail and a manual edit to start redis as root instead of as the redis user is required as shown below.</p><p>The /etc/rc.d/init.d/redis file becomes available for edit (and prior to the redis step) when "fileserver" is deployed, so the redis file can be edited well in advance of it's calling, and a cronjob could be setup to monitor for the appearance of the "redis" file and edit it once it appears with a sed command.</p><pre><div class="sites-codeblock sites-codesnippet-block"><code>State 'fileserver' has succeeded on all machines </code></div></pre><p><font size="3">Once the above phase has begun execution (State fileserver) the redis file is available for edit.</font><br /></p><div class="sites-codeblock sites-codesnippet-block"><code>[root@salt-master rc.d]# <b>find . -name redis*</b></code><br /><code>./init.d/redis</code><br /><code>./init.d/redis-sentinel</code><br /><code>[root@salt-master rc.d]# <b>cd init.d</b></code><br /><br /><code>[root@salt-master init.d]# <b>cp -p redis redis.original</b></code><br /><code>[root@salt-master init.d]# <b>vi redis</b></code><br /><code>[root@salt-master init.d]# <b>diff redis redis.original</b></code><br /><code>33c33</code><br /><code>&lt; daemon "$exec $REDIS_CONFIG --daemonize yes --pidfile $pidfile"</code><br /><code>---</code><br /><code>&gt; daemon --user ${REDIS_USER-redis} "$exec $REDIS_CONFIG --daemonize yes --pidfile $pidfile"</code><br /><code>[root@salt-master init.d]# <b>pwd</b></code><br /><b><i><code>/etc/rc.d/init.d</code></i></b><br /><code>[root@salt-master init.d]# </code></div><br /></div><div>Now recheck that redis server will start as a service successfully as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><code>[root@salt-master init.d]# <b>service redis status</b></code><br /><code>redis-server is stopped</code><br /><code>[root@salt-master init.d]# <b>service redis start</b></code><br /><code>Starting redis-server: <i><b>[ OK ]</b></i></code><br /><code>[root@salt-master init.d]# <b>service redis status</b></code><br /><code>redis-server (pid 26674) is running...</code><br /><code>[root@salt-master init.d]# </code></div><h3><a name="TOC-Healthy-Process-Activity-on-Salt-Master"></a>Healthy Process Activity on Salt-Master</h3><p><font size="3">Healthy process activity should look something like this on salt-master machine (linux machine). Typically there should not be any defunct processes.</font></p><p><font size="3"><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><br /><code>top - 11:17:28 up 35 min, 0 users, load average: 4.63, 5.24, 4.60</code><br /><code>Tasks: 49 total, 1 running, 48 sleeping, 0 stopped, 0 zombie</code><br /><code>Cpu(s): 34.4%us, 6.5%sy, 0.0%ni, 57.1%id, 1.4%wa, 0.0%hi, 0.6%si, 0.0%st</code><br /><code>Mem: 65342732k total, 8357720k used, 56985012k free, 0k buffers</code><br /><code>Swap: 66469884k total, 2659624k used, 63810260k free, 3590916k cached</code><br /><br /><code> PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND </code><br /><code>21853 root 20 0 492m 58m 13m S 5.7 0.1 0:00.83 salt-minion </code><br /><code> 457 root 20 0 1086m 62m 7168 S 2.0 0.1 0:18.07 salt-master </code><br /><code> 460 root 20 0 1082m 62m 7164 S 2.0 0.1 0:24.15 salt-master </code><br /><code> 375 root 20 0 1713m 147m 10m S 1.7 0.2 0:19.62 python </code><br /><code>20791 watchdox 20 0 11.0g 2.9g 38m S 1.7 4.7 5:08.15 java </code><br /><code> 456 root 20 0 1080m 60m 7164 S 1.3 0.1 0:23.13 salt-master </code><br /><code> 458 root 20 0 1082m 62m 7164 S 1.0 0.1 0:24.70 salt-master </code><br /><code> 459 root 20 0 1083m 59m 7164 S 1.0 0.1 0:23.31 salt-master </code><br /><code>18317 mysql 20 0 2628m 53m 9.8m S 0.7 0.1 0:01.08 mysqld </code><br /><code> 449 root 20 0 266m 23m 4016 S 0.3 0.0 0:00.07 salt-master </code><br /><code> 461 root 20 0 554m 23m 3972 S 0.3 0.0 0:07.54 salt-master </code><br /><code> 569 root 20 0 362m 35m 6532 S 0.3 0.1 0:04.06 salt-minion </code><br /><code>20187 watchdox 20 0 6039m 866m 19m S 0.3 1.4 0:39.42 java </code><br /><code> 1 root 20 0 19292 2288 2028 S 0.0 0.0 0:00.05 init </code><br /><code> 260 root 20 0 9180 1316 832 S 0.0 0.0 0:00.00 dhclient </code><br /><code> 289 root 20 0 239m 2664 2300 S 0.0 0.0 0:00.07 rsyslogd </code><br /><code> 419 root 20 0 76212 956 16 S 0.0 0.0 0:00.00 nginx </code><br /><code> 420 nginx 20 0 76604 2888 1720 S 0.0 0.0 0:00.00 nginx </code><br /><code> 421 nginx 20 0 76604 2888 1720 S 0.0 0.0 0:00.08 nginx </code><br /><code> 430 root 20 0 20540 2428 1760 S 0.0 0.0 0:00.00 crond </code><br /><code> 447 root 20 0 186m 22m 2892 S 0.0 0.0 0:00.00 salt-master </code><br /><code> 448 root 20 0 452m 45m 7072 S 0.0 0.1 0:27.92 salt-master </code><br /><code> 450 root 20 0 269m 27m 3744 S 0.0 0.0 0:00.48 salt-master </code><br /><code> 451 root 20 0 186m 21m 2244 S 0.0 0.0 0:00.01 salt-master </code><br /><code> 580 root 20 0 4124 1432 1352 S 0.0 0.0 0:00.00 mingetty </code><br /><code> 584 root 20 0 4124 1472 1388 S 0.0 0.0 0:00.00 mingetty </code><br /><code> 587 root 20 0 4124 1360 1284 S 0.0 0.0 0:00.00 mingetty </code><br /><code> 589 root 20 0 4124 1316 1232 S 0.0 0.0 0:00.00 mingetty </code><br /><code> 591 root 20 0 4124 1316 1232 S 0.0 0.0 0:00.00 mingetty </code><br /><code>4906 root 20 0 105m 3104 2760 S 0.0 0.0 0:00.00 bash </code><br /><code>5484 named 20 0 657m 18m 5664 S 0.0 0.0 0:00.02 named </code><br /><code>5778 root 20 0 66764 2572 1820 S 0.0 0.0 0:00.00 sshd </code><br /><code>14634 root 20 0 30804 4252 3636 S 0.0 0.0 0:00.05 ntpd </code><br /><code>15271 root 20 0 81932 7024 6092 S 0.0 0.0 0:00.02 master </code><br /><code>15277 postfix 20 0 82012 7092 6168 S 0.0 0.0 0:00.01 pickup </code><br /><code>15278 postfix 20 0 82080 6960 6040 S 0.0 0.0 0:00.01 qmgr </code><br /><code>17999 root 20 0 11496 2568 2276 S 0.0 0.0 0:00.01 mysqld_safe </code><br /><code>18600 rpcuser 20 0 23416 2468 2012 S 0.0 0.0 0:00.00 rpc.statd </code><br /><code>18652 rpc 20 0 19044 1972 1704 S 0.0 0.0 0:00.02 rpcbind </code><br /><code>18740 root 20 0 21736 656 52 S 0.0 0.0 0:00.00 rpc.mountd </code><br /><code>19098 root 20 0 105m 3140 2812 S 0.0 0.0 0:00.00 bash </code><br /><code>19137 root 20 0 15056 1960 1700 R 0.0 0.0 0:00.28 top </code><br /><code>19380 watchdox 20 0 722m 65m 10m S 0.0 0.1 0:00.84 node </code><br /><code>19415 root 20 0 46924 3504 2628 S 0.0 0.0 0:00.25 redis-server </code><br /><code>19571 memcache 20 0 416m 2372 1836 S 0.0 0.0 0:00.03 memcached </code><br /><code>21412 root 20 0 80124 1772 16 S 0.0 0.0 0:00.00 nginx </code><br /><code>21413 nginx 20 0 80516 4144 1964 S 0.0 0.0 0:00.00 nginx </code><br /><code>21414 nginx 20 0 80516 4144 1964 S 0.0 0.0 0:00.00 nginx </code><br /><code>21750 root 20 0 120m 3392 2616 S 0.0 0.0 0:00.00 monit </code></font></div><br /><h3><a name="TOC-1"></a><br /></h3><h3><a name="TOC-Set-Inga-Certificate-Parameter"></a>Set Inga Certificate Parameter</h3><p><font size="3">Set inga to use self-signed certificates as shown below by setting the parameter to value "True" as shown below.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>[root@salt-master init.d]# <b>cd /opt/watchdox/inga</b></code><br /><code>[root@salt-master inga]# <b>ls -lrt</b></code><br /><code>total 48</code><br /><code>drwxr-xr-x. 2 watchdox-inga watchdox-inga 50 Feb 12 15:08 app</code><br /><code>drwxr-xr-x. 2 watchdox-inga watchdox-inga 90 Feb 12 15:08 assistants</code><br /><code>drwxr-xr-x. 2 watchdox-inga watchdox-inga 4096 Feb 12 15:08 auth</code><br /><code>drwxr-xr-x. 2 watchdox-inga watchdox-inga 4096 Feb 12 15:08 common</code><br /><code>-rwxr-x---. 1 watchdox-inga watchdox-inga 307 Feb 12 15:08 main.js</code><br /><code>-rwxr-x---. 1 watchdox-inga watchdox-inga 658 Feb 12 15:08 main.js.map</code><br /><code>drwxr-xr-x. 393 watchdox-inga watchdox-inga 12288 Feb 12 15:09 node_modules</code><br /><code>drwxr-xr-x. 2 watchdox-inga watchdox-inga 4096 Feb 12 15:09 oauth</code><br /><code>-rwxr-x---. 1 watchdox-inga watchdox-inga 26 Feb 12 15:09 revision.txt</code><br /><code>-rw-r-----. 1 watchdox-inga watchdox-inga 838 Feb 12 15:09 properties.json</code><br /><code>-rw-r--r--. 1 watchdox-inga watchdox-inga 1297 Feb 12 15:09 inga.log</code><br /><br /><code>[root@salt-master inga]# <b>cp -p properties.json properties.json.original</b></code><br /><code>[root@salt-master inga]# <b>vi properties.json </b></code><br /><code>[root@salt-master inga]# <b>diff properties.json properties.json.original </b></code><br /><code>8c8</code><br /><code>&lt; "allowUnauthorizedCertificates": <span style="color:rgb(255,0,0)"><i><b>true</b></i></span>,</code><br /><code>---</code><br /><code>&gt; "allowUnauthorizedCertificates": <span style="color:rgb(255,0,0)"><i><b>false</b></i></span>,</code><br /><code>26c26</code><br /><code>&lt; }</code><br /><code>---</code><br /><code>&gt; }</code><br /><code>\ No newline at end of file</code><br /><code>[root@salt-master inga]# service watchdox inga restart</code><br /><code>watchdox: unrecognized service</code><br /><code>[root@salt-master inga]# service watchdox-inga restart</code><br /><code>Stopping watchdox-inga: [ OK ]</code><br /><code>Starting watchdox-inga: [ OK ]</code><br /><code>[root@salt-master inga]# service watchdox-inga status</code><br /><code>watchdox-inga (pid 11634) is running...</code><br /><code>[root@salt-master inga]# </code></font></font></div><br /></div><div><h3><a name="TOC-Configure-SMTP-Email-Relay-on-Windows-2012-R2-Server"></a>Configure SMTP Email Relay on Windows 2012 R2 Server</h3><p><font size="3">The SMTP relay server for this example makes use of the Windows 2012 R2 6.0 IIS SMTP capability built in to the server. Screens showing the correct configuration are shown below. The SMTP server can be initially deployed on Windows 2012 R2 server using the article <a href="http://www.vsysad.com/2014/09/setup-and-configure-smtp-server-on-windows-server-2012/" target="_blank" rel="nofollow">here</a> and/or <a href="http://woshub.com/how-to-install-and-configure-smtp-server-on-windows-server-2012-r2/" target="_blank" rel="nofollow">here</a>.</font></p><p><font size="3"><br /></font></p><p><font size="3">Once the SMTP server is deployed and the Workspaces webpage is attempting to verify the initial user account with an email, it will likely be necessary to debug the email send pathway. There are several areas where email can be debugged and checked.</font></p><h4><a name="TOC-Tail-File:-var-log-maillog"></a>Tail File: /var/log/maillog</h4><p><font size="3">This log provides clues if the mail send is working normally. Here is example output used for this actual example to determine correct mail pathway operation as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><code>[root@salt-master inga]# <b>tail -f /var/log/maillog</b></code><br /><code>Feb 12 21:37:56 localhost postfix/smtpd[13610]: <span style="color:rgb(255,0,0)"><b>lost connection after CONNECT from localhost[127.0.0.1] &lt;-- not good</b></span></code><br /><code>Feb 12 21:37:56 localhost postfix/smtpd[13610]: disconnect from localhost[127.0.0.1]</code><br /><code>Feb 12 21:39:12 localhost postfix/smtpd[13610]: connect from localhost[127.0.0.1]</code><br /><code>Feb 12 21:39:12 localhost postfix/smtpd[13610]: 1AF26189DA51E5: client=localhost[127.0.0.1]</code><br /><code>Feb 12 21:39:12 localhost postfix/cleanup[13913]: 1AF26189DA51E5: message-id=&lt;1790142951.1.1518471552063.JavaMail.watchdox@salt-master&gt;</code><br /><code>Feb 12 21:39:12 localhost postfix/qmgr[15849]: 1AF26189DA51E5: from=&lt;messages-noreply@uekulele.com&gt;, size=34066, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:39:12 localhost postfix/smtpd[13610]: disconnect from localhost[127.0.0.1]</code><br /><code>Feb 12 21:39:12 localhost postfix/error[13914]: 1AF26189DA51E5: to=&lt;gil.standen@gmail.com&gt;, relay=none, delay=0.1, delays=0.06/0.02/0/0.02, dsn=4.4.2, status=deferred (delivery temporarily suspended: lost connection with 10.209.53.32[10.209.53.32] while receiving the initial server greeting)</code><br /><code>Feb 12 21:40:16 localhost postfix/scache[13329]: statistics: start interval Feb 12 15:36:56</code><br /><code>Feb 12 21:40:16 localhost postfix/scache[13329]: statistics: domain lookup hits=0 miss=1 success=0%</code><br /><code>tail: unrecognized file system type 0x794c7630 for `/var/log/maillog'. Reverting to polling.</code><br /><code>Feb 12 21:41:56 localhost postfix/qmgr[15849]: AF4D4189DA51DF: from=&lt;alerts@uekulele.com&gt;, size=1440, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:41:56 localhost postfix/smtp[14688]: AF4D4189DA51DF: to=&lt;appliance-alerts@watchdox.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=1103, delays=1103/0.03/0.07/0, dsn=4.4.2, status=deferred (lost connection with 10.209.53.32[10.209.53.32] while receiving the initial server greeting)</code><br /><code>Feb 12 21:42:11 localhost postfix/smtpd[14748]: connect from localhost[127.0.0.1]</code><br /><code>Feb 12 21:42:11 localhost postfix/smtpd[14748]: B3DDB189DA51E6: client=localhost[127.0.0.1]</code><br /><code>Feb 12 21:42:11 localhost postfix/cleanup[14751]: B3DDB189DA51E6: message-id=&lt;1496880455.3.1518471731670.JavaMail.watchdox@salt-master&gt;</code><br /><code>Feb 12 21:42:11 localhost postfix/qmgr[15849]: B3DDB189DA51E6: from=&lt;messages-noreply@uekulele.com&gt;, size=34047, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:42:11 localhost postfix/smtpd[14748]: disconnect from localhost[127.0.0.1]</code><br /><code>Feb 12 21:42:11 localhost postfix/smtp[14688]: B3DDB189DA51E6: to=&lt;gil.standen@gmail.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=0.11, delays=0.06/0/0.05/0, dsn=4.4.2, status=deferred (lost connection with 10.209.53.32[10.209.53.32] while receiving the initial server greeting)</code><br /><code>Feb 12 21:42:54 localhost postfix/smtpd[14748]: connect from localhost[127.0.0.1]</code><br /><code>Feb 12 21:42:54 localhost postfix/smtpd[14748]: lost connection after CONNECT from localhost[127.0.0.1]</code><br /><code>Feb 12 21:42:54 localhost postfix/smtpd[14748]: disconnect from localhost[127.0.0.1]</code><br /><code>Feb 12 21:46:34 localhost postfix/smtpd[15840]: connect from localhost[127.0.0.1]</code><br /><code>Feb 12 21:46:34 localhost postfix/smtpd[15840]: C668C189DA51E7: client=localhost[127.0.0.1]</code><br /><code>Feb 12 21:46:34 localhost postfix/cleanup[15844]: C668C189DA51E7: message-id=&lt;364223486.5.1518471994747.JavaMail.watchdox@salt-master&gt;</code><br /><code>Feb 12 21:46:34 localhost postfix/qmgr[15849]: C668C189DA51E7: from=&lt;messages-noreply@uekulele.com&gt;, size=34069, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:46:34 localhost postfix/smtpd[15840]: disconnect from localhost[127.0.0.1]</code><br /><code>Feb 12 21:46:34 localhost postfix/smtp[15845]: C668C189DA51E7: to=&lt;gil.standen@gmail.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=0.08, delays=0.06/0.02/0.01/0, dsn=4.4.2, status=deferred (lost connection with 10.209.53.32[10.209.53.32] while receiving the initial server greeting)</code><br /><code>Feb 12 21:46:56 localhost postfix/qmgr[15849]: 1AF26189DA51E5: from=&lt;messages-noreply@uekulele.com&gt;, size=34066, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:46:57 localhost postfix/smtp[15845]: 1AF26189DA51E5: to=&lt;gil.standen@gmail.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=465, delays=465/0/0.11/0, dsn=4.4.2, status=deferred (lost connection with 10.209.53.32[10.209.53.32] while receiving the initial server greeting)</code><br /><code>Feb 12 21:47:55 localhost postfix/smtpd[15840]: connect from localhost[127.0.0.1]</code><br /><code>Feb 12 21:47:55 localhost postfix/smtpd[15840]: lost connection after CONNECT from localhost[127.0.0.1]</code><br /><code>Feb 12 21:47:55 localhost postfix/smtpd[15840]: disconnect from localhost[127.0.0.1]</code><br /><code>Feb 12 21:51:50 localhost postfix/smtpd[17237]: connect from localhost[127.0.0.1]</code><br /><code>Feb 12 21:51:50 localhost postfix/smtpd[17237]: 6FF86189DA51E8: client=localhost[127.0.0.1]</code><br /><code>Feb 12 21:51:50 localhost postfix/cleanup[17240]: 6FF86189DA51E8: message-id=&lt;1327309032.7.1518472310395.JavaMail.watchdox@salt-master&gt;</code><br /><code>Feb 12 21:51:50 localhost postfix/qmgr[15849]: 6FF86189DA51E8: from=&lt;messages-noreply@uekulele.com&gt;, size=34082, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:51:50 localhost postfix/smtpd[17237]: disconnect from localhost[127.0.0.1]</code><br /><code>Feb 12 21:51:50 localhost postfix/smtp[17241]: 6FF86189DA51E8: to=&lt;gil.standen@gmail.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=0.16, delays=0.06/0.02/0.02/0.07, dsn=2.6.0, status=sent (250 2.6.0 &lt;1327309032.7.1518472310395.JavaMail.watchdox@salt-master&gt; Queued mail for delivery)</code><br /><code>Feb 12 21:51:50 localhost postfix/qmgr[15849]: 6FF86189DA51E8: removed</code><br /><code>Feb 12 21:51:56 localhost postfix/qmgr[15849]: C98F5189DA3FF1: from=&lt;alerts@uekulele.com&gt;, size=1278, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:51:56 localhost postfix/qmgr[15849]: C668C189DA51E7: from=&lt;messages-noreply@uekulele.com&gt;, size=34069, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:51:56 localhost postfix/qmgr[15849]: B3DDB189DA51E6: from=&lt;messages-noreply@uekulele.com&gt;, size=34047, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:51:56 localhost postfix/smtp[17241]: C98F5189DA3FF1: to=&lt;appliance-alerts@watchdox.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=2292, delays=2292/0.02/0.01/0.06, dsn=2.6.0, status=sent (250 2.6.0 &lt;5a820310.+VfhA+g61batF9f3%alerts@uekulele.com&gt; Queued mail for delivery)</code><br /><code>Feb 12 21:51:56 localhost postfix/qmgr[15849]: C98F5189DA3FF1: removed</code><br /><code>Feb 12 21:51:56 localhost postfix/smtp[17254]: C668C189DA51E7: to=&lt;gil.standen@gmail.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=322, delays=322/0.02/0.01/0.07, dsn=2.6.0, status=sent (250 2.6.0 &lt;364223486.5.1518471994747.JavaMail.watchdox@salt-master&gt; Queued mail for delivery)</code><br /><code>Feb 12 21:51:56 localhost postfix/qmgr[15849]: C668C189DA51E7: removed</code><br /><code>Feb 12 21:51:56 localhost postfix/smtp[17255]: B3DDB189DA51E6: to=&lt;gil.standen@gmail.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=585, delays=585/0.03/0.01/0.06, dsn=2.6.0, status=sent (250 2.6.0 &lt;1496880455.3.1518471731670.JavaMail.watchdox@salt-master&gt; Queued mail for delivery)</code><br /><code>Feb 12 21:51:56 localhost postfix/qmgr[15849]: B3DDB189DA51E6: removed</code><br /><code>Feb 12 21:52:56 localhost postfix/smtpd[17237]: connect from localhost[127.0.0.1]</code><br /><code>Feb 12 21:52:56 localhost postfix/smtpd[17237]: lost connection after CONNECT from localhost[127.0.0.1]</code><br /><code>Feb 12 21:52:56 localhost postfix/smtpd[17237]: disconnect from localhost[127.0.0.1]</code><br /><code>Feb 12 21:54:29 localhost postfix/smtpd[17237]: connect from localhost[127.0.0.1]</code><br /><code>Feb 12 21:54:29 localhost postfix/smtpd[17237]: 67FEE189DA51E6: client=localhost[127.0.0.1]</code><br /><code>Feb 12 21:54:29 localhost postfix/cleanup[17877]: 67FEE189DA51E6: message-id=b288b00f-c7f5-4875-9b26-f22a45149baa-1@watchdox.com</code><br /><code>Feb 12 21:54:29 localhost postfix/smtpd[17237]: disconnect from localhost[127.0.0.1]</code><br /><code>Feb 12 21:54:29 localhost postfix/qmgr[15849]: 67FEE189DA51E6: from=&lt;messages-noreply@uekulele.com&gt;, size=38852, nrcpt=1 (queue active) <span style="color:rgb(255,0,0)"><b>&lt;-- looking better from here on down</b></span></code><br /><code>Feb 12 21:54:29 localhost postfix/smtp[17879]: 67FEE189DA51E6: to=&lt;gil.standen@gmail.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=0.15, delays=0.07/0.02/0.01/0.05, dsn=2.6.0, status=sent (250 2.6.0 b288b00f-c7f5-4875-9b26-f22a45149baa-1@watchdox.com Queued mail for delivery)</code><br /><code>Feb 12 21:54:29 localhost postfix/qmgr[15849]: 67FEE189DA51E6: removed</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 1B6A1189DB7A5D: from=&lt;alerts@uekulele.com&gt;, size=1386, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 1FC83189DB8397: from=&lt;alerts@uekulele.com&gt;, size=1428, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 1AF26189DA51E5: from=&lt;messages-noreply@uekulele.com&gt;, size=34066, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: E61C3189DB7A66: from=&lt;alerts@uekulele.com&gt;, size=1388, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: EA086189DB7A69: from=&lt;alerts@uekulele.com&gt;, size=1419, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 027CE189DB7A6B: from=&lt;alerts@uekulele.com&gt;, size=1369, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 0ADA2189DB7A6C: from=&lt;alerts@uekulele.com&gt;, size=1403, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 21562189DB7F98: from=&lt;alerts@uekulele.com&gt;, size=1425, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 24CC5189DB87A4: from=&lt;alerts@uekulele.com&gt;, size=1278, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 28BD5189DB87A5: from=&lt;alerts@uekulele.com&gt;, size=1420, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 46328189DB87A6: from=&lt;alerts@uekulele.com&gt;, size=1431, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 40478189DB87AA: from=&lt;alerts@uekulele.com&gt;, size=1365, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 4DB58189DB87B7: from=&lt;alerts@uekulele.com&gt;, size=1421, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 3D607189DB87A9: from=&lt;alerts@uekulele.com&gt;, size=1382, nrcpt=1 (queue active)</code><br /><code>Feb 12 21:56:56 localhost postfix/smtp[18465]: 1B6A1189DB7A5D: to=&lt;appliance-alerts@watchdox.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=2378, delays=2378/0.03/0.01/0.06, dsn=2.6.0, status=sent (250 2.6.0 &lt;5a8203e6.ZlY1BJl/+sPslHYv%alerts@uekulele.com&gt; Queued mail for delivery)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 1B6A1189DB7A5D: removed</code><br /><code>Feb 12 21:56:56 localhost postfix/smtp[18466]: 1FC83189DB8397: to=&lt;appliance-alerts@watchdox.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=2266, delays=2266/0.03/0.01/0.05, dsn=2.6.0, status=sent (250 2.6.0 &lt;5a820457.R8d41UNLUCPb11CB%alerts@uekulele.com&gt; Queued mail for delivery)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 1FC83189DB8397: removed</code><br /><code>Feb 12 21:56:56 localhost postfix/smtp[18467]: 1AF26189DA51E5: to=&lt;gil.standen@gmail.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=1065, delays=1065/0.05/0.01/0.06, dsn=2.6.0, status=sent (250 2.6.0 &lt;1790142951.1.1518471552063.JavaMail.watchdox@salt-master&gt; Queued mail for delivery)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 1AF26189DA51E5: removed</code><br /><code>Feb 12 21:56:56 localhost postfix/smtp[18468]: E61C3189DB7A66: to=&lt;appliance-alerts@watchdox.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=2360, delays=2360/0.06/0.01/0.05, dsn=2.6.0, status=sent (250 2.6.0 &lt;5a8203f8.PzLdYdUI9+A/46WX%alerts@uekulele.com&gt; Queued mail for delivery)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: E61C3189DB7A66: removed</code><br /><code>Feb 12 21:56:56 localhost postfix/smtp[18469]: EA086189DB7A69: to=&lt;appliance-alerts@watchdox.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=2356, delays=2356/0.08/0.01/0.06, dsn=2.6.0, status=sent (250 2.6.0 &lt;5a8203fc.ZOWwmTGIcl8LgR9B%alerts@uekulele.com&gt; Queued mail for delivery)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: EA086189DB7A69: removed</code><br /><code>Feb 12 21:56:56 localhost postfix/smtp[18465]: 027CE189DB7A6B: to=&lt;appliance-alerts@watchdox.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=2338, delays=2338/0.08/0.04/0.06, dsn=2.6.0, status=sent (250 2.6.0 &lt;5a82040e.3XKILHiEA1Wt+AWv%alerts@uekulele.com&gt; Queued mail for delivery)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 027CE189DB7A6B: removed</code><br /><code>Feb 12 21:56:56 localhost postfix/smtp[18470]: 21562189DB7F98: to=&lt;appliance-alerts@watchdox.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=2276, delays=2276/0.11/0.02/0.06, dsn=2.6.0, status=sent (250 2.6.0 &lt;5a82044d.TSueKm483+zIxmGh%alerts@uekulele.com&gt; Queued mail for delivery)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 21562189DB7F98: removed</code><br /><code>Feb 12 21:56:56 localhost postfix/smtp[18466]: 0ADA2189DB7A6C: to=&lt;appliance-alerts@watchdox.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=2338, delays=2338/0.09/0.03/0.06, dsn=2.6.0, status=sent (250 2.6.0 &lt;5a82040e.REeMT0Tf7QnZuyuo%alerts@uekulele.com&gt; Queued mail for delivery)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 0ADA2189DB7A6C: removed</code><br /><code>Feb 12 21:56:56 localhost postfix/smtp[18467]: 24CC5189DB87A4: to=&lt;appliance-alerts@watchdox.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=2246, delays=2246/0.11/0.02/0.06, dsn=2.6.0, status=sent (250 2.6.0 &lt;5a82046b.k894IMA9DSVVygr2%alerts@uekulele.com&gt; Queued mail for delivery)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 24CC5189DB87A4: removed</code><br /><code>Feb 12 21:56:56 localhost postfix/smtp[18468]: 28BD5189DB87A5: to=&lt;appliance-alerts@watchdox.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=2238, delays=2238/0.12/0.02/0.06, dsn=2.6.0, status=sent (250 2.6.0 &lt;5a820473.3Dp3f2sjPcO0UAbD%alerts@uekulele.com&gt; Queued mail for delivery)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 28BD5189DB87A5: removed</code><br /><code>Feb 12 21:56:56 localhost postfix/smtp[18472]: 46328189DB87A6: to=&lt;appliance-alerts@watchdox.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=2190, delays=2189/0.13/0.02/0.05, dsn=2.6.0, status=sent (250 2.6.0 &lt;5a8204a3.DiFCJMplBnfR7/mT%alerts@uekulele.com&gt; Queued mail for delivery)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 46328189DB87A6: removed</code><br /><code>Feb 12 21:56:56 localhost postfix/smtp[18473]: 40478189DB87AA: to=&lt;appliance-alerts@watchdox.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=2184, delays=2183/0.14/0.01/0.05, dsn=2.6.0, status=sent (250 2.6.0 &lt;5a8204a9.I6hOpYsJJKwNhOSX%alerts@uekulele.com&gt; Queued mail for delivery)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 40478189DB87AA: removed</code><br /><code>Feb 12 21:56:56 localhost postfix/smtp[18469]: 4DB58189DB87B7: to=&lt;appliance-alerts@watchdox.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=2146, delays=2145/0.14/0.01/0.05, dsn=2.6.0, status=sent (250 2.6.0 &lt;5a8204cf.2KSN5nkY38pzUc/l%alerts@uekulele.com&gt; Queued mail for delivery)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 4DB58189DB87B7: removed</code><br /><code>Feb 12 21:56:56 localhost postfix/smtp[18474]: 3D607189DB87A9: to=&lt;appliance-alerts@watchdox.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=2186, delays=2185/0.16/0.01/0.06, dsn=2.6.0, status=sent (250 2.6.0 &lt;5a8204a7.XmG1Ix+DNVB9rABc%alerts@uekulele.com&gt; Queued mail for delivery)</code><br /><code>Feb 12 21:56:56 localhost postfix/qmgr[15849]: 3D607189DB87A9: removed</code><br /><code>Feb 12 21:57:55 localhost postfix/smtpd[18753]: connect from localhost[127.0.0.1]</code><br /><code>Feb 12 21:57:55 localhost postfix/smtpd[18753]: lost connection after CONNECT from localhost[127.0.0.1]</code><br /><code>Feb 12 21:57:55 localhost postfix/smtpd[18753]: disconnect from localhost[127.0.0.1]</code><br /><code>Feb 12 22:00:17 localhost postfix/scache[18471]: statistics: start interval Feb 12 15:56:56</code><br /><code>Feb 12 22:00:17 localhost postfix/scache[18471]: statistics: domain lookup hits=0 miss=9 success=0%</code><br /><code>Feb 12 22:00:17 localhost postfix/scache[18471]: statistics: max simultaneous domains=1 addresses=1 connection=9</code><br /><code>Feb 12 22:01:56 localhost postfix/qmgr[15849]: AF4D4189DA51DF: from=&lt;alerts@uekulele.com&gt;, size=1440, nrcpt=1 (queue active)</code><br /><code>Feb 12 22:01:56 localhost postfix/smtp[19869]: AF4D4189DA51DF: to=&lt;appliance-alerts@watchdox.com&gt;, relay=10.209.53.32[10.209.53.32]:25, delay=2303, delays=2302/0.03/0.08/0.06, dsn=2.6.0, status=sent (250 2.6.0 &lt;5a8205d5.01i2rZYi4xdtIa9X%alerts@uekulele.com&gt; Queued mail for delivery)</code><br /><code>Feb 12 22:01:56 localhost postfix/qmgr[15849]: AF4D4189DA51DF: removed</code><br /><code>Feb 12 22:02:54 localhost postfix/smtpd[20141]: connect from localhost[127.0.0.1]</code><br /><code>Feb 12 22:02:54 localhost postfix/smtpd[20141]: lost connection after CONNECT from localhost[127.0.0.1]</code><br /><code>Feb 12 22:02:54 localhost postfix/smtpd[20141]: disconnect from localhost[127.0.0.1]</code><br /><code>Feb 12 22:07:55 localhost postfix/smtpd[21372]: connect from localhost[127.0.0.1]</code><br /><code>Feb 12 22:07:55 localhost postfix/smtpd[21372]: lost connection after CONNECT from localhost[127.0.0.1]</code><br /><code>Feb 12 22:07:55 localhost postfix/smtpd[21372]: disconnect from localhost[127.0.0.1]</code></font></div><h4><a name="TOC-Check-Directories-on-Windows-2012-R2-Server"></a>Check Directories on Windows 2012 R2 Server</h4><p><font size="3">Check the directory structure as shown below in the screenshot and look for entries in "Badmail" and in "Queue" and check to see that "Pickup" is empty (it should be). If email is being sent successfully by the relay, but is failing for some reason (such as a non-existent domain, etc) then it will wind up in the "Badmail" folder. If email is not being sent, it will start to pile up in the "Queue" folder so check that too.</font></p><p><font size="3">Badmail should be empty as shown below.<br /></font></p><div style="display:block;text-align:left"><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers/badmail.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518539024041/blackberry-workspaces/blackberry-workspaces-in-lxc-linux-containers/badmail.png" /></a></div><br /></div><div style="display:block;text-align:left">Queue should be empty as shown below.<br /><br /><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers/queue.png%3Fattredirects=0" imageanchor="1"><img border="0" src="../_/rsrc/1518539024041/blackberry-workspaces/blackberry-workspaces-in-lxc-linux-containers/queue.png" /></a></div></div><h4><a name="TOC-Test-Sending-an-Email-with-Notepad"></a>Test Sending an Email with Notepad</h4><p>A test email can be send using notepad on the Windows 2012 R2 server. Open notepad and create a file as shown below. After creating the file in notepad, save it to the "Pickup" directory (e.g. "C:\inetpub\mailroot\Pickup"). The email should be picked up and delivered to the email address in the "To:" field which should be an actual internet email address. The "From:" field can be a bogus address such as shown below "blog@yourdomain.com".<br /></p><div class="sites-codeblock sites-codesnippet-block"><code>From: blog@yourdomain.com<br />To: email@yourdomain.com<br />Subject: Email test<br /><br />This is the test body of the email</code></div><br /><br /></div><div>If messages get stuck in the SMTP queue they can be deleted as shown below.<br /><div>
<ol><li><p>Set the SMTP service to disabled.</p></li><li><p>Reboot the server.</p></li><li><p>Delete the messages.</p></li><li><p>Set the SMTP service to Automatic.</p></li><li><p>Start the SMTP service.</p></li></ol>
</div></div><div><br /></div><div>Run the "packages.sh" script (this will be incorporated into the workspaces product installer for automated install) but for today is run manually. Note that the package "sendmail" takes awhile to install and the package installer seems to hang there for awhile.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><code>[root@salt-master ~]# <b>cat packages.sh <br /><br /></b></code><code>yum -y install binutils</code><br /><code>yum -y install compat-libcap1</code><br /><code>yum -y install compat-libstdc++-33</code><br /><code>yum -y install gcc</code><br /><code>yum -y install gcc-c++</code><br /><code>yum -y install glibc</code><br /><code>yum -y install glibc-devel</code><br /><code>yum -y install ksh</code><br /><code>yum -y install libgcc</code><br /><code>yum -y install libstdc++</code><br /><code>yum -y install libstdc++-devel</code><br /><code>yum -y install libaio</code><br /><code>yum -y install libaio-devel</code><br /><code>yum -y install libXext</code><br /><code>yum -y install libXtst</code><br /><code>yum -y install libX11</code><br /><code>yum -y install libXau</code><br /><code>yum -y install libxcb</code><br /><code>yum -y install libXi</code><br /><code>yum -y install make</code><br /><code>yum -y install sysstat</code><br /><code>yum -y install unixODBC</code><br /><code>yum -y install unixODBC-devel</code><br /><code>yum -y install xdpyinfo</code><br /><code>yum -y install xorg-x11-apps</code><br /><code>yum -y install pdksh</code><br /><code>yum -y install libicu</code><br /><code>yum -y install ntp</code><br /><code>yum -y install sg3-utils</code><br /><code>yum -y install xauth</code><br /><code>yum -y install xorg-x11-fonts*</code><br /><code>yum -y install unzip<br />yum -y install tar<br />yum -y install which<br /></code><code>yum -y install nfs-utils<br />yum -y install man<br />yum -y install createrepo<br />yum -y install sudo<br /></code><code><br /></code></div><br /><br /></div><div>Make sure python version is 2.6.x (not 2.7 it won't work).<br /><br /><div class="sites-codeblock sites-codesnippet-block"><code>[root@salt-master upgrade]# python --version</code><br /><code>Python 2.6.6</code></div><br /><br /></div><div>Start installer as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><code>[root@salt-master upgrade]# python /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/salt-master/bootstrap.py</code></div><br /></div><div><br /></div><div><br /></div></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-subfooter"><div class="sites-subfooter-content"><br /></div></div>
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://accounts.google.com/ServiceLogin?continue=https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/blackberry-workspaces/blackberry-workspaces-in-lxc-linux-containers&amp;service=jotspot">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com/site">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/c9c36f/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/a/orabuntu-lxc.com/brandydandyoracle/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("2bd", "Navigation", true);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_2bd');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvbsUtc3zC_LBoVbZyRGtWgFMw4Ymf-i3viiAJfdm0tZWEe7PTv_KyHHdiToDA2TYJnpLLDlmeP1nFWpP1C0-zaXPtUyYSmTe1WkSB8yQg9fB-qYIx3xhmPlEi_CTe6TxhjRp3UK2FPMB9RpaMEs0LpXWtGqQ/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([1109635200000, 1128902400000, 1130657000000, 1143333000000, 1143806400000, 1145000000000, 1146380000000, 1152489600000, 1159800000000, 1159500000000, 1162095000000, 1162075000000, 1162105500000]);
    gsites.Xhr.send('https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<script type="text/javascript">
          sites.codeembed.init();
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
