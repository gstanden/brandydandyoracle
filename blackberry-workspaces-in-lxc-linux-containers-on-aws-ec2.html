<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { /*

Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/
(function(){function e(g){this.t={};this.tick=function(h,k,f){this.t[h]=[void 0!=f?f:(new Date).getTime(),k];if(void 0==f)try{window.console.timeStamp("CSI/"+h)}catch(m){}};this.getStartTickTime=function(){return this.t.start[0]};this.tick("start",null,g)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var l=0<d?new e(d):new e;window.jstiming={Timer:e,load:l};if(a){var b=a.navigationStart;0<b&&d>=b&&(window.jstiming.srt=d-b)}if(a){var c=window.jstiming.load;0<b&&d>=
b&&(c.tick("_wtsrt",void 0,b),c.tick("wtsrt_","_wtsrt",d),c.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),c&&0<b&&(c.tick("_tbnd",void 0,window.chrome.csi().startE),c.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,c&&0<b&&(c.tick("_tbnd",void 0,window.external.startE),c.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(g){}})(); })()
</script>
<link rel="shortcut icon" href="_/rsrc/1518480252104/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/c9c36f/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { function d(a){return document.getElementById(a)}window.byId=d;function g(a){return a.replace(/^\s+|\s+$/g,"")}window.trim=g;var h=[],k=0;window.JOT_addListener=function(a,b,c){var f=new String(k++);a={eventName:a,handler:b,compId:c,key:f};h.push(a);return f};window.JOT_removeListenerByKey=function(a){for(var b=0;b<h.length;b++)if(h[b].key==a){h.splice(b,1);break}};window.JOT_removeAllListenersForName=function(a){for(var b=0;b<h.length;b++)h[b].eventName==a&&h.splice(b,1)};
window.JOT_postEvent=function(a,b,c){var f={eventName:a,eventSrc:b||{},payload:c||{}};if(window.JOT_fullyLoaded)for(b=h.length,c=0;c<b&&c<h.length;c++){var e=h[c];e&&e.eventName==a&&(f.listenerCompId=e.compId||"",(e="function"==typeof e.handler?e.handler:window[e.handler])&&e(f))}else window.JOT_delayedEvents.push({eventName:a,eventSrc:b,payload:c})};window.JOT_delayedEvents=[];window.JOT_fullyLoaded=!1;
window.JOT_formatRelativeToNow=function(a,b){a=((new Date).getTime()-a)/6E4;if(1440<=a||0>a)return null;var c=0;60<=a&&(a/=60,c=2);2<=a&&c++;return b?window.JOT_siteRelTimeStrs[c].replace("__duration__",Math.floor(a)):window.JOT_userRelTimeStrs[c].replace("__duration__",Math.floor(a))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/a/orabuntu-lxc.com/brandydandyoracle/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2","deleted":false,"title":"Blackberry Workspaces in LXC Linux Containers on AWS EC2","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/c9c36f/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"gvizGstaticVersion":"current","enableAnalytics":true,"pageSharingId":"jotspot_page","codeembeds":{"outerIframeSrc":"https://www.gstatic.com/jotspot/embeds/code/0f08d42392f2000e7e3f3daf5b427a43/outer_iframe.html","innerIframeSrc":"https://197795670-jotspot-embeds.googleusercontent.com/code/8d87fa64604b2a11fae2ed06104c58d3/inner_iframe.html"},"enableUniversalAnalytics":false,"sharingPolicy":"OPENED","siteTitle":"brandydandyoracle","experiments":{"enableSubpagesGadgetInTakeout":true,"overrideDisableDomainEditing":false,"DisableSiteEditingFeature__disable_site_editing":true,"disableDomainEditing":false},"jot2atari":{"eligibility":"INELIGIBLE"},"onepickUrl":"https://docs.google.com/picker","adsensePublisherId":null,"features":{"moreMobileStyleImprovements":null,"subscriptionDataMigrationInProgress":null,"plusBadge":false},"configProperties":{"disableSiteEditing":null},"isPublic":true,"newSitesBaseUrl":"https://sites.google.com","isConsumer":false,"serverFlags":{"jot2AtariLearnMoreUrl":"https://support.google.com/sites/answer/7035197"},"domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://accounts.google.com/AccountChooser?continue\u003dhttps://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2\u0026service\u003djotspot","analyticsAccountId":"UA-54224306-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/c9c36f/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/c9c36f/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/trogedit.css","/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1628148289000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/codeeditor.css","/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1628148289000/system/app/css/camelot/editor-jfk.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"orabuntu-lxc.com","baseUri":"/a/orabuntu-lxc.com/brandydandyoracle","name":"brandydandyoracle","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":null,"parentWuid":null,"siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"Blackberry Workspaces in LXC Linux Containers on AWS EC2","locale":"en","wuid":"wuid:gx:1529117a57ecdba8","revision":90,"path":"/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/blackberry-workspaces/blackberry-workspaces-in-lxc-linux-containers","title":"Blackberry Workspaces in LXC Linux Containers"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false,"isGoogleAdmin":false},"gadgets":{"baseUri":"/a/orabuntu-lxc.com/brandydandyoracle/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="Blackberry Workspaces in LXC Linux Containers on AWS EC2 - brandydandyoracle" />
<meta itemprop="name" content="Blackberry Workspaces in LXC Linux Containers on AWS EC2 - brandydandyoracle" />
<meta property="og:title" content="Blackberry Workspaces in LXC Linux Containers on AWS EC2 - brandydandyoracle" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/c9c36f/system/app/themes/solitudeolive/standard-css-solitudeolive-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="_/rsrc/1628148289000/system/app/css/overlay.css%3Fcb=solitudeolive93320goog-ws-leftcontentthemedefaultstandard.css" />
<link rel="stylesheet" type="text/css" href="_/rsrc/1628148289000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/a/orabuntu%2dlxc.com/brandydandyoracle/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>Blackberry Workspaces in LXC Linux Containers on AWS EC2 - brandydandyoracle</title>
<meta itemprop="image" content="https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1526315334553/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot%20from%202018-05-14%2011-12-27.png" />
<meta property="og:image" content="https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1526315334553/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot%20from%202018-05-14%2011-12-27.png" />
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner" style="height: 93px"><div class="sites-header-cell-buffer-wrapper"><h2><a href="index.html" dir="ltr" id="sites-chrome-userheader-title">brandydandyoracle</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
<div class="sites-header-nav"><ul class="sites-header-nav-container-boxes"><li class="unselected"><a class="sites-navigation-link unselected" href="system/app/pages/sitemap/hierarchy.html">Sitemap</a></li></ul><div style="clear: both;"></div></div>
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:320px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_2bd" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList" class="has-expander"><li class="topLevel nav-first parent " wuid="gx:1771d7481512b604"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="home.html" jotId="wuid:gx:1771d7481512b604" class="sites-navigation-link topLevel">Home</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="home/brother-mfc-456cn-ubuntu-driver.html" jotId="wuid:gx:687d1f16adfece4e" class="sites-navigation-link">Brother MFC-456CN Ubuntu Driver</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="home/resume-short.html" jotId="wuid:gx:7ed50173758f1f8d" class="sites-navigation-link">Resume-Short</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="aws.html" jotId="wuid:gx:513e26955ed0bab9" class="sites-navigation-link topLevel">AWS</a></div></li><li class="topLevel parent " wuid="gx:2d7d78782d5199fb"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="blackberry-workspaces.html" jotId="wuid:gx:2d7d78782d5199fb" class="sites-navigation-link topLevel">Blackberry Workspaces</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="blackberry-workspaces/blackberry-workspaces-in-lxc-linux-containers.html" jotId="wuid:gx:3cc6d6487c8feafe" class="sites-navigation-link">Blackberry Workspaces in LXC Linux Containers</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="blackberry-workspaces/blackberry-workspaces-on-aws-ec2.html" jotId="wuid:gx:11790a2b5038525c" class="sites-navigation-link">Blackberry Workspaces on AWS EC2</a></div></li></ul></li><li class="topLevel "><div class="current-bg" jotId="wuid:gx:1529117a57ecdba8" dir="ltr" style="padding-left: 19px;">Blackberry Workspaces in LXC Linux Containers on AWS EC2</div></li><li class="topLevel parent " wuid="gx:515464018f6bd717"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="centos7.html" jotId="wuid:gx:515464018f6bd717" class="sites-navigation-link topLevel">CentOS7</a></div><ul role="navigation" class="has-expander"><li class="parent closed " wuid="gx:46a7d96b1e768956"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="centos7/centos7-desktop.html" jotId="wuid:gx:46a7d96b1e768956" class="sites-navigation-link">CentOS7 Desktop</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="centos7/centos7-desktop/cisco-anyconnect-vpn-centos-7.html" jotId="wuid:gx:50d39b77de17a94c" class="sites-navigation-link">Cisco AnyConnect VPN CentOS 7 GNOME Desktop</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="centos7/centos7-desktop/cisco-anyconnect-vpn-centos-7-server-gui-with-kde.html" jotId="wuid:gx:77bba3a647193c" class="sites-navigation-link">Cisco AnyConnect VPN CentOS 7 Server GUI with KDE</a></div></li></ul></li><li class="parent closed " wuid="gx:73046cf3c3d2eaf2"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="centos7/centos7-general.html" jotId="wuid:gx:73046cf3c3d2eaf2" class="sites-navigation-link">CentOS7 General</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="centos7/centos7-general/dns-named-install-centos7-1.html" jotId="wuid:gx:3ac64e4220d3882e" class="sites-navigation-link">DNS DHCP Install CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="centos7/centos7-general/lxc-create-centos-7-2-container.html" jotId="wuid:gx:317f96357032310b" class="sites-navigation-link">LXC Create CentOS 7.2 Container</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="centos7/centos7-general/lxc-source-build-centos7.html" jotId="wuid:gx:5affb1858ab31aa9" class="sites-navigation-link">LXC Source Build CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="centos7/centos7-general/openvswitch-source-build-centos7.html" jotId="wuid:gx:156568a493298e2c" class="sites-navigation-link">OVS  (OpenvSwitch) Source Build CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="centos7/centos7-general/scst-centos-7-2-1511-core.html" jotId="wuid:gx:212b0b144e1fcb8c" class="sites-navigation-link">SCST Source Build CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="centos7/centos7-general/xfs-lvm-grow-centos7.html" jotId="wuid:gx:5e00471ebcc94e3e" class="sites-navigation-link">XFS LVM Grow CentOS7</a></div></li></ul></li></ul></li><li class="topLevel parent " wuid="gx:4184304c507d6cf0"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="kvm-and-openvswitch.html" jotId="wuid:gx:4184304c507d6cf0" class="sites-navigation-link topLevel">KVM and OpenvSwitch</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-and-openvswitch/add-pv-kvm-guest-vg.html" jotId="wuid:gx:f4ec37bc44defc6" class="sites-navigation-link">KVM Add PV Guest VG</a></div></li><li class="parent closed " wuid="gx:140bef1e880d2c0c"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="kvm-and-openvswitch/kvm-dg-migration.html" jotId="wuid:gx:140bef1e880d2c0c" class="sites-navigation-link">KVM DG Migration</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="kvm-and-openvswitch/kvm-dg-migration/rman-script.html" jotId="wuid:gx:67093dbbc93cdadc" class="sites-navigation-link">RMAN Script</a></div></li></ul></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-and-openvswitch/kvm-dns-oel-6-5.html" jotId="wuid:gx:5f50087695eef84b" class="sites-navigation-link">KVM DNS OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-and-openvswitch/kvm-dns-ul-14-04.html" jotId="wuid:gx:42ab043f5ac96f0f" class="sites-navigation-link">KVM DNS UL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-and-openvswitch/kvm-lxc-dns-ul-14-04.html" jotId="wuid:gx:2cd19b29fe55d875" class="sites-navigation-link">KVM LXC DNS UL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-and-openvswitch/kvm-mail-oel-6-5.html" jotId="wuid:gx:76072d3822550956" class="sites-navigation-link">KVM MAIL OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-and-openvswitch/kvm-oracle-clone.html" jotId="wuid:gx:152a84896b4db53b" class="sites-navigation-link">KVM Oracle Clone</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-and-openvswitch/ovs-kvm-oel-6-5.html" jotId="wuid:gx:371cf26362b6010e" class="sites-navigation-link">KVM OVS OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-and-openvswitch/kvm-ovs-oel-6-5.html" jotId="wuid:gx:75ead37952686999" class="sites-navigation-link">KVM OVS OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-and-openvswitch/kvm-openvswitch-1.html" jotId="wuid:gx:5c2152473fdc6ccc" class="sites-navigation-link">KVM OVS UEL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-and-openvswitch/resize-swap-lv.html" jotId="wuid:gx:399989aadef41fc3" class="sites-navigation-link">KVM Resize Swap LV</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-and-openvswitch/remove-kvm-disk.html" jotId="wuid:gx:707b288cc8f2b5a6" class="sites-navigation-link">Remove KVM Disk</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-and-openvswitch/remove-kvm-vbdp-disk.html" jotId="wuid:gx:33b6b83da936ce09" class="sites-navigation-link">Remove KVM VBDP Disk</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-and-openvswitch/resize-kvm-disk.html" jotId="wuid:gx:623a431aae174a92" class="sites-navigation-link">Resize KVM Disk</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-and-openvswitch/solaris-10-kvm-ovs-12c-gi-rac.html" jotId="wuid:gx:422583d75ebc70db" class="sites-navigation-link">Solaris 10 KVM OVS 12c GI RAC</a></div></li></ul></li><li class="topLevel parent " wuid="gx:4327ced0f58d8a86"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="lenovo-thinkpad-p70.html" jotId="wuid:gx:4327ced0f58d8a86" class="sites-navigation-link topLevel">Lenovo ThinkPad P70</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lenovo-thinkpad-p70/a-brief-guide-to-running-multiple-os-on-lenovo-thinkpad-p70-mobile-workstation.html" jotId="wuid:gx:48694287bced9d0a" class="sites-navigation-link">A Brief Guide to Running Multiple OS  on Lenovo ThinkPad P70 Mobile Workstation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lenovo-thinkpad-p70/booting-to-graphical-ui-oracle-uek4-kernel-on-lenovo-p70-thinkpad.html" jotId="wuid:gx:30d8c05433ca020b" class="sites-navigation-link">Booting to Graphical UI Desktop Oracle UEK4 Kernel on Lenovo P70 Thinkpad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lenovo-thinkpad-p70/configure-wired-network-uek3-lenovo-p70-thinkpad.html" jotId="wuid:gx:77458fd960e08fe6" class="sites-navigation-link">Configure Wired Network UEK3 Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lenovo-thinkpad-p70/configure-wireless-network-uek3-lenovo-p70-thinkpad.html" jotId="wuid:gx:784425a052a48fc4" class="sites-navigation-link">Configure Wireless Network UEK3 Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lenovo-thinkpad-p70/configuring-external-monitors-on-oracle-linux-uek4-kernel-on-lenovo-p70-thinkpad.html" jotId="wuid:gx:6d22a62e4b021a82" class="sites-navigation-link">Configuring External Monitors on Oracle Linux UEK4 Kernel on Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lenovo-thinkpad-p70/configuring-wifi-on-oracle-linux-uek4-kernel.html" jotId="wuid:gx:2491259c2c6fb6e7" class="sites-navigation-link">Configuring WIFI on Oracle Linux UEK4 Kernel on Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lenovo-thinkpad-p70/advantages-of-running-multiple-linux-distros-on-lenovo-p70-thinkpad-mobile-workstation.html" jotId="wuid:gx:3e26fa7db9c8ec5d" class="sites-navigation-link">Fixing BooBoos with Multiple Linux Distros on Lenovo P70 ThinkPad Mobile Workstation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lenovo-thinkpad-p70/flash-installation-oracle-linux-uek4-lenovo-p70-mobile-workstation.html" jotId="wuid:gx:206da7bba5eb893d" class="sites-navigation-link">Flash Installation Oracle Linux UEK4 Lenovo P70 Mobile Workstation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lenovo-thinkpad-p70/lenovo-thinkpad-p70-bios-flash-upgrade.html" jotId="wuid:gx:13c9853fd6822c1e" class="sites-navigation-link">Lenovo ThinkPad P70 BIOS Flash Upgrade</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lenovo-thinkpad-p70/samsung-256-gb-m-2-950-pro-nvme.html" jotId="wuid:gx:4cf81fe1594a405c" class="sites-navigation-link">Samsung 256 Gb M.2 950 Pro NVME</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lenovo-thinkpad-p70/samsung-evo-950-pro-256gb-m-2-ssd-vs-pm951-512gb-m-2-ssd.html" jotId="wuid:gx:5ea2a361cb8c66c8" class="sites-navigation-link">Samsung [(evo950 nvme) vs (pm951 nvme)] vs. Toshiba [OCZ RD400 1Tb nvme] M.2</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lenovo-thinkpad-p70/ubuntu-17-10-artful-aardvark-lenovo-p70-mobile-workstation.html" jotId="wuid:gx:6fcad2f1dc0cfefc" class="sites-navigation-link">Ubuntu 17.10 Artful Aardvark Lenovo P70 Mobile Workstation</a></div></li></ul></li><li class="topLevel parent " wuid="gx:2a65617e5bca4df7"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="lenovo-p72.html" jotId="wuid:gx:2a65617e5bca4df7" class="sites-navigation-link topLevel">Lenovo ThinkPad P72</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lenovo-p72/lenovo-part-40an0230us-thinkpad-thunderbolt-3-workstation-dock.html" jotId="wuid:gx:3b289d1da9ec8d8" class="sites-navigation-link">Lenovo Part #40AN0230US ThinkPad Thunderbolt 3 Workstation Dock</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lenovo-p72/lenovo-part-gx90m61235-thinkpad-usb-c-travel-hub.html" jotId="wuid:gx:62e9dde894d17ff7" class="sites-navigation-link">Lenovo Part #GX90M61235 ThinkPad USB-C Travel Hub</a></div></li></ul></li><li class="topLevel parent " wuid="gx:3c0bb513eca76dd7"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="lxc-linux-containers.html" jotId="wuid:gx:3c0bb513eca76dd7" class="sites-navigation-link topLevel">LXC Linux Containers</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lxc-linux-containers/install-oracle-supported-lxc-version-on-oracle-linux-uek4.html" jotId="wuid:gx:2803b780a785d633" class="sites-navigation-link">Install Oracle-Supported LXC Version on Oracle Linux 7 UEK4</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lxc-linux-containers/lxc-3-0-1-oracle-8-source-build.html" jotId="wuid:gx:6d97bc40356b5b00" class="sites-navigation-link">LXC 3.0.1 Oracle 8 Source Build</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lxc-linux-containers/lxc-environment-oel6.html" jotId="wuid:gx:498ae875c3ff8712" class="sites-navigation-link">LXC Environment OEL6</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lxc-linux-containers/lxc-in-windows-10-bash-shell.html" jotId="wuid:gx:6b5a1e6d23bf1535" class="sites-navigation-link">LXC in Windows 10 Bash Shell</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lxc-linux-containers/lxc-iproute2.html" jotId="wuid:gx:4770b5dee1c84e5d" class="sites-navigation-link">LXC iproute2</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lxc-linux-containers/lxc-oracle-rdbms.html" jotId="wuid:gx:66170fca9aaf9bdb" class="sites-navigation-link">LXC Oracle RDBMS</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lxc-linux-containers/lxc-ovs-bind-dns.html" jotId="wuid:gx:5ba336cc440e699a" class="sites-navigation-link">LXC OVS BIND DNS</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lxc-linux-containers/lxc-vlc-oel6-5.html" jotId="wuid:gx:4e0871c894b402f5" class="sites-navigation-link">LXC VLC OEL6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lxc-linux-containers/nvme-in-lxc.html" jotId="wuid:gx:344f13d75997f6ef" class="sites-navigation-link">NVME in LXC</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lxc-linux-containers/source-build-lxc-ubuntu-16-04.html" jotId="wuid:gx:3668e93ca6fd3ec7" class="sites-navigation-link">Source Build LXC Ubuntu 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="lxc-linux-containers/veth-pair-cleanup-lxc.html" jotId="wuid:gx:eb4a3c8e75f750" class="sites-navigation-link">Veth Pair Cleanup LXC</a></div></li></ul></li><li class="topLevel parent " wuid="gx:904bf1e1a964cfa"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="oracle-in-lxd-1.html" jotId="wuid:gx:904bf1e1a964cfa" class="sites-navigation-link topLevel">LXD the Lighter-visor</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-in-lxd-1/building-oracle-enteprise-in-lxd.html" jotId="wuid:gx:3385e4f2498c1f97" class="sites-navigation-link">Building Oracle Enteprise in LXD</a></div></li></ul></li><li class="topLevel parent " wuid="gx:141aad64735ed8a7"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="openvswitch-ovs.html" jotId="wuid:gx:141aad64735ed8a7" class="sites-navigation-link topLevel">OpenvSwitch (OVS)</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="openvswitch-ovs/build-networkmanager-1-11-1-on-ubuntu-17-10.html" jotId="wuid:gx:4cd3336e7866b65e" class="sites-navigation-link">Build NetworkManager 1.11.1 on Ubuntu 17.10</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="openvswitch-ovs/configuring-virtualbox-vms-for-openvswitch-networking.html" jotId="wuid:gx:102f61a047f4fe27" class="sites-navigation-link">Configuring VirtualBox VMs for OpenvSwitch Networking</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="openvswitch-ovs/install-openvswitch-oel-uek3.html" jotId="wuid:gx:2603341f63b9d97a" class="sites-navigation-link">Install OpenvSwitch OEL UEK3</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="openvswitch-ovs/networking-problem-1.html" jotId="wuid:gx:65a0bbff837cdb64" class="sites-navigation-link">Networking Problem:  "The Lawnmower Man"</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="openvswitch-ovs/openvswitch-patch-ports.html" jotId="wuid:gx:9eac33f7488f9a0" class="sites-navigation-link">OpenvSwitch Patch Ports</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="openvswitch-ovs/build-openvswitch-from-source-on-oracle-linux-uek.html" jotId="wuid:gx:5d8addb931f09666" class="sites-navigation-link">OVS Source Build Oracle Linux 6 UEK3 Kernel</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="openvswitch-ovs/openvswitch-source-build-oracle-linux-7-uek4.html" jotId="wuid:gx:9f9da13c419a4e6" class="sites-navigation-link">OVS Source Build Oracle Linux 7 UEK4 Kernel</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="openvswitch-ovs/ovs-source-build-ubuntu-linux-16-04.html" jotId="wuid:gx:cc6b77eb34b437c" class="sites-navigation-link">OVS Source Build Ubuntu Linux 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="openvswitch-ovs/ovs-switch-as-a-service.html" jotId="wuid:gx:657c023b7927b1fa" class="sites-navigation-link">OVS Switch-As-A-Service Oracle Linux 7 UEK4</a></div></li></ul></li><li class="topLevel parent " wuid="gx:2a47e1cfadbf417d"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="orabuntu-lxc.html" jotId="wuid:gx:2a47e1cfadbf417d" class="sites-navigation-link topLevel">Orabuntu-LXC</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="orabuntu-lxc/using-systemd-resolved-in-a-networkmanager-environment.html" jotId="wuid:gx:87f2aaaf2ecb31b" class="sites-navigation-link">Configuring systemd-resolved in a NetworkManager Environment</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="orabuntu-lxc/lxc-containerized-dns-dhcp-configurations.html" jotId="wuid:gx:3d12f3317c481ea" class="sites-navigation-link">LXC Containerized DNS-DHCP Configurations (Ubuntu dnsmasq bind9)</a></div></li></ul></li><li class="topLevel parent " wuid="gx:56211f056f6b1e69"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="oracle-asmlib.html" jotId="wuid:gx:56211f056f6b1e69" class="sites-navigation-link topLevel">Oracle ASM and ASMLib</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-asmlib/build-asmlib-from-source.html" jotId="wuid:gx:37a420222f203d29" class="sites-navigation-link">ASMLib Source Build RHEL5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-asmlib/build-asmlib-from-source-on-rhel6.html" jotId="wuid:gx:258e6072b6403dc3" class="sites-navigation-link">ASMLib Source Build RHEL6</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-asmlib/rename-asm-sysdg.html" jotId="wuid:gx:44112e6c154428fe" class="sites-navigation-link">Rename ASM SYSDG</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="oracle-in-lxd.html" jotId="wuid:gx:1e2c0c88ac7cfde3" class="sites-navigation-link topLevel">Oracle in LXD</a></div></li><li class="topLevel parent " wuid="gx:7024699ef06b6856"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="oracle-linux-uek-kernel.html" jotId="wuid:gx:7024699ef06b6856" class="sites-navigation-link topLevel">Oracle Linux UEK Kernel</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-linux-uek-kernel/configuring-ipmi-console-redirection.html" jotId="wuid:gx:323acc64d4abf9a4" class="sites-navigation-link">Configuring IPMI Console Redirection</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-linux-uek-kernel/getting-kernel-headers-for-oracle-linux-uek-kernels.html" jotId="wuid:gx:264700ca67aa6f51" class="sites-navigation-link">Getting Kernel Headers Oracle Linux 7 UEK</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-linux-uek-kernel/lxc-source-build-oracle-linux-uek4.html" jotId="wuid:gx:65f6caada28e4879" class="sites-navigation-link">LXC Source Build Oracle Linux 7 UEK4</a></div></li></ul></li><li class="topLevel parent " wuid="gx:392e9c328d805127"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="oracle-rac.html" jotId="wuid:gx:392e9c328d805127" class="sites-navigation-link topLevel">Oracle RAC</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-rac/re-ip-rac.html" jotId="wuid:gx:60fa56c8049956b9" class="sites-navigation-link">Re-IP RAC</a></div></li></ul></li><li class="topLevel parent " wuid="gx:49aa6ea0c073802a"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="oracle-rac-in-lxc-linux-containers.html" jotId="wuid:gx:49aa6ea0c073802a" class="sites-navigation-link topLevel">Oracle RAC in LXC Linux Containers</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-rac-in-lxc-linux-containers/12c-asm-flex-cluster-on-violin-memory-array.html" jotId="wuid:gx:2d93d5e8d118918d" class="sites-navigation-link">12c ASM Flex Cluster on Violin Memory Array</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-rac-in-lxc-linux-containers/oracle-12c-6-node-asm-gns-flex-rac-on-lxc-linux-containers-ubuntu-15-04.html" jotId="wuid:gx:31b7a6e9df077adf" class="sites-navigation-link">Oracle 12c 6-node ASM GNS Flex RAC on LXC Linux Containers Ubuntu 15.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-rac-in-lxc-linux-containers/oracle-12c-rac-asm-flex-cluster-on-ubuntu-14-10.html" jotId="wuid:gx:6d52027c26f6bd96" class="sites-navigation-link">Oracle 12c RAC ASM Flex Cluster on LXC Linux Containers Ubuntu 14.10</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-rac-in-lxc-linux-containers/oracle-12c-rac-asm-flex-cluster-on-lxc-linux-containers-ubuntu-14-10.html" jotId="wuid:gx:7cf2aebcf0bd8b4a" class="sites-navigation-link">Oracle 12c RAC ASM Flex Cluster on LXC Linux Containers Ubuntu 14.10</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-rac-in-lxc-linux-containers/oracle-12c-rac-asm-flex-cluster-on-lxc-linux-containers-ubuntu-15-04.html" jotId="wuid:gx:e7aeed695cf1a4a" class="sites-navigation-link">Oracle 12c RAC ASM Flex Cluster on LXC Linux Containers Ubuntu 15.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-rac-in-lxc-linux-containers/oracle-12c-rac-in-gce-on-ubuntu-14-04-1.html" jotId="wuid:gx:ed0be0d284c02f0" class="sites-navigation-link">Oracle 12c RAC in GCE on Ubuntu 14.04.1</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-rac-in-lxc-linux-containers/oracle-lxc-vlc.html" jotId="wuid:gx:3ecee06d4a4b2ffe" class="sites-navigation-link">Oracle EE ASM 12c LXC Ubuntu 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-rac-in-lxc-linux-containers/docker-11gr2-ee-ul.html" jotId="wuid:gx:2863b8f1b8a0ae5d" class="sites-navigation-link">Oracle EE DB 11gR2 Docker Ubuntu 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-rac-in-lxc-linux-containers/oracle-rac-6-node-12c-gns-asm-flex-cluster-ubuntu-15-04-automated.html" jotId="wuid:gx:1360b78ff726d213" class="sites-navigation-link">Oracle RAC 6-node 12c GNS ASM Flex Cluster Ubuntu 15.04 Automated</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-rac-in-lxc-linux-containers/oracle-rac-6-node-12c-gns-asm-flex-cluster-ubuntu-15-04-install.html" jotId="wuid:gx:d6f61d65bebb324" class="sites-navigation-link">Oracle RAC 6-node 12c GNS ASM Flex Cluster Ubuntu 15.04 Install</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html" jotId="wuid:gx:55d12384bf11a4ac" class="sites-navigation-link">Ubuntu 14.04.1 Oracle GI 12c ASM Flex Cluster on LXC Containers</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-rac-in-lxc-linux-containers/lxc-ovs-rac-gns.html" jotId="wuid:gx:3a38a5c143561a9b" class="sites-navigation-link">Ubuntu LXC OEL OVS ASM GNS RAC (12c)</a></div></li></ul></li><li class="topLevel parent " wuid="gx:b42a27877981be1"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="oracle-rman.html" jotId="wuid:gx:b42a27877981be1" class="sites-navigation-link topLevel">Oracle RMAN</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="oracle-rman/rman-active-duplicate-script.html" jotId="wuid:gx:51524327d66ae40f" class="sites-navigation-link">RMAN Active Duplicate Script</a></div></li></ul></li><li class="topLevel parent " wuid="gx:89ec64364eab694"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="engineering-docs.html" jotId="wuid:gx:89ec64364eab694" class="sites-navigation-link topLevel">Projects</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="engineering-docs/11gr2---12cr2-dataguard-upgrade-in-ol-lxc-on-ubuntu-17-04.html" jotId="wuid:gx:1da20af09381ca55" class="sites-navigation-link">11gR2 -&gt; 12cR2 Dataguard Upgrade in OL LXC on Ubuntu 17.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="engineering-docs/vmos6-oracle-snapshots.html" jotId="wuid:gx:1ea7e4c3c5ca52d" class="sites-navigation-link">VMOS6 Oracle Snapshots</a></div></li></ul></li><li class="topLevel parent " wuid="gx:204d0c728c285380"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="robin-systems.html" jotId="wuid:gx:204d0c728c285380" class="sites-navigation-link topLevel">Robin Systems</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="robin-systems/configuring-hugepages-for-oracle.html" jotId="wuid:gx:52999571538d8ca7" class="sites-navigation-link">Configuring HugePages for Oracle on CentOS 7 Robin Hosts</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="robin-systems/robin-12c-rac-asm-flex-cluster.html" jotId="wuid:gx:4460573d54662758" class="sites-navigation-link">Robin 12c RAC ASM Flex Cluster</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="robin-systems/robin-server-install-centos-7-vm.html" jotId="wuid:gx:573c9ade4fca5871" class="sites-navigation-link">Robin Server Install CentOS 7 VM</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="robin-systems/robin-slob2-pdb-protocols.html" jotId="wuid:gx:4f404578ed53bc1" class="sites-navigation-link">Robin SLOB2 PDB Protocols</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="robin-systems/robin-slob2-testing-notes.html" jotId="wuid:gx:653c530a0894e054" class="sites-navigation-link">Robin SLOB2 Testing Notes</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="robin-systems/robin-virtualbox-ovs.html" jotId="wuid:gx:3ede1bee391dc4db" class="sites-navigation-link">Robin VirtualBox OVS</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="robin-systems/the-surfing-life.html" jotId="wuid:gx:1f2b8b97c48d346a" class="sites-navigation-link">The Surfing Life</a></div></li></ul></li><li class="topLevel parent " wuid="gx:42a5103bbab0903f"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="scst.html" jotId="wuid:gx:42a5103bbab0903f" class="sites-navigation-link topLevel">SCST</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst/reset-lun-read-only-attributes.html" jotId="wuid:gx:19d5a823bab350d4" class="sites-navigation-link">Reset LUN Read-Only Attributes</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst/scst-create-deb-package-and-install-fpm.html" jotId="wuid:gx:2f9a5abb765dc8ab" class="sites-navigation-link">SCST Create Deb Package and Install</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst/scst-debian-dkms-package-build-from-source-ubuntu-17-04.html" jotId="wuid:gx:263b273ada4b1198" class="sites-navigation-link">SCST Debian (DKMS) Package Build from Source (Ubuntu  15.04-17.04+)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst/scst-debian-dkms-package-build-from-source-ubuntu-14-04.html" jotId="wuid:gx:37519387aa0d7b34" class="sites-navigation-link">SCST Debian (DKMS) Package Build from Source (Ubuntu 14.04)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst/scst-debian-package-build-from-source-ubuntu-15-04-17-04.html" jotId="wuid:gx:376a668b36e2458e" class="sites-navigation-link">SCST Debian Package Build from Source (Ubuntu 15.04-17.04+)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst/scst-debian-package-build-from-source-ubuntu-17-04.html" jotId="wuid:gx:23e3728da5d7b341" class="sites-navigation-link">SCST Debian Package Build from Source (Ubuntu 17.04)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst/kvm-scst-oel-6-5.html" jotId="wuid:gx:35aca0b4a22810be" class="sites-navigation-link">SCST KVM OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst/kvm-scst-uek-3-8.html" jotId="wuid:gx:727a09d4af2e0cb6" class="sites-navigation-link">SCST KVM UEK 3.8</a></div></li><li class="parent closed " wuid="gx:22f557a9fc2e1e25"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="scst/scst-linux-san.html" jotId="wuid:gx:22f557a9fc2e1e25" class="sites-navigation-link">SCST Linux SAN</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="scst/scst-linux-san/add-asm-dg.html" jotId="wuid:gx:2bc6ef8def1e36c9" class="sites-navigation-link">Add ASM DG</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="scst/scst-linux-san/add-asm-dg-4k.html" jotId="wuid:gx:242dab2dbfad9ac5" class="sites-navigation-link">Add ASM DG (4K)</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="scst/scst-linux-san/add-asm-lun.html" jotId="wuid:gx:2fedfac6897719" class="sites-navigation-link">Add ASM LUN</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="scst/scst-linux-san/add-lun.html" jotId="wuid:gx:4b7b14970b8123cc" class="sites-navigation-link">Add LUN</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="scst/scst-linux-san/resize-asm-lun.html" jotId="wuid:gx:546bc643a9b955fd" class="sites-navigation-link">Resize ASM LUN</a></div></li></ul></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst/lxc-scst-ul-14-04.html" jotId="wuid:gx:56ede6a9ffa466a3" class="sites-navigation-link">SCST LXC UL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst/scst-ol-uek-3.html" jotId="wuid:gx:775819e6573c1127" class="sites-navigation-link">SCST OL UEK 3</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst/scst-package-build-and-install-ubuntu-17-04---14-04.html" jotId="wuid:gx:94e286580e7f53a" class="sites-navigation-link">SCST Package Build Install (Ubuntu 14.x-17.x)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst/build-scst-from-source-on-oracle-linux-uek.html" jotId="wuid:gx:11bdab641c7da34" class="sites-navigation-link">SCST Source Build Oracle UEK</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst/scst-ubuntu-15-04.html" jotId="wuid:gx:7ac9dfabcffec63d" class="sites-navigation-link">SCST Ubuntu 15.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst/scst-ubuntu-16-04.html" jotId="wuid:gx:3dd6f13e96e8fcdf" class="sites-navigation-link">SCST Ubuntu 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="scst/update-gpg-key-email-address-for-signing-debian-packages.html" jotId="wuid:gx:69975edf103e1292" class="sites-navigation-link">Update GPG1 Key Email Address, Add UID, Secret Key</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="the-surfing-life.html" jotId="wuid:gx:6260f278e385cf3d" class="sites-navigation-link topLevel">The Surfing Life</a></div></li><li class="topLevel parent " wuid="gx:3feac623e97563f8"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="tools.html" jotId="wuid:gx:3feac623e97563f8" class="sites-navigation-link topLevel">Tools</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="tools/awr-analyzer-v3-02.html" jotId="wuid:gx:77df010a1161688f" class="sites-navigation-link">AWR Analyzer v3.02</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="tools/cisco-anyconnect-vpn-centos-7.html" jotId="wuid:gx:1d46650a5d12d8f8" class="sites-navigation-link">Cisco AnyConnect VPN CentOS 7</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="tools/dtrace-linux.html" jotId="wuid:gx:8cdf7bdd75524d8" class="sites-navigation-link">DTrace Linux</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="tools/iotop.html" jotId="wuid:gx:638d81a1909fcba9" class="sites-navigation-link">iotop</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="tools/iscsiadm.html" jotId="wuid:gx:5d490b3b5ae2b18b" class="sites-navigation-link">iscsiadm</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="tools/lynx-html-cli.html" jotId="wuid:gx:3c44570e4d9e5dbe" class="sites-navigation-link">lynx HTML CLI</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="tools/nsupdate.html" jotId="wuid:gx:3dd2f364ba8d97c3" class="sites-navigation-link">nsupdate</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="tools/orion.html" jotId="wuid:gx:5e1bc1ac2b426298" class="sites-navigation-link">Orion</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="tools/perf_stat.html" jotId="wuid:gx:17c3dad58ddee2ec" class="sites-navigation-link">perf_stat</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="tools/qemu-monitor-command.html" jotId="wuid:gx:332a02f511ef9aa0" class="sites-navigation-link">QEMU Monitor Command</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="tools/sflow.html" jotId="wuid:gx:51f13dca17c0f452" class="sites-navigation-link">sflow</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="tools/slob.html" jotId="wuid:gx:6fb549ba8af63cc8" class="sites-navigation-link">SLOB2</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="tools/slob2-12c-rac-pdb-version.html" jotId="wuid:gx:7370bb97c3458d1c" class="sites-navigation-link">SLOB2 (12c RAC PDB Version)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="tools/tunnels.html" jotId="wuid:gx:67c0050b2d97d566" class="sites-navigation-link">Tunnels</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="tools/vdbench.html" jotId="wuid:gx:5a058833aa18c315" class="sites-navigation-link">VDBench</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="tools/virt-alignment-scan.html" jotId="wuid:gx:7ef6511f7ec6d8fc" class="sites-navigation-link">virt-alignment-scan</a></div></li></ul></li><li class="topLevel parent " wuid="gx:a688388e2cf1712"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="ubuntu-16-04.html" jotId="wuid:gx:a688388e2cf1712" class="sites-navigation-link topLevel">Ubuntu 16.04</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="ubuntu-16-04/canonical-ubuntu-16-04-livepatch-service.html" jotId="wuid:gx:36531436c1ed4a17" class="sites-navigation-link">Canonical Ubuntu 16.04 Livepatch Service</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="ubuntu-16-04/cisco-anyconnect-vpn-ubunty-16-04.html" jotId="wuid:gx:1f1f8e214e889787" class="sites-navigation-link">Cisco AnyConnect VPN Ubuntu 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="ubuntu-16-04/systemd-to-manage-network-interfaces.html" jotId="wuid:gx:182e7ebf6d20564f" class="sites-navigation-link">Systemd to Manage Network Interfaces</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="zero-downtime-asm-lun-add.html" jotId="wuid:gx:6d5fc0b6a3941475" class="sites-navigation-link topLevel">Zero-Downtime ASM LUN Add</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:5b81d66bdd7a72b7" class="sites-navigation-link topLevel">Sitemap</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_35309087585577514" class="sites-sidebar-plusone-wrapper"><div class="g-plusone" data-count="true" data-size="standard" data-source="google:sites"></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
</div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">Blackberry Workspaces in LXC Linux Containers on AWS EC2</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><div><div dir="ltr"><div class="sites-codeblock sites-codesnippet-block"><div><div><div class="sites-embed-align-left-wrapping-off"><div class="sites-embed-border-off sites-embed" style="width:500px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-6"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Summary"><strong>1 </strong>Summary</a><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Required-Knowledge-Level"><strong>1.1 </strong>Required Knowledge Level</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Estimated-Monthly-AWS-Cost"><strong>1.2 </strong>Estimated Monthly AWS Cost</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-LXC-Containerization-Design-Advantages"><strong>1.3 </strong>LXC Containerization Design Advantages</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Required-Open-Source-Technology-Stacks"><strong>1.4 </strong>Required Open-Source Technology Stacks</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Required-AWS-Services"><strong>1.5 </strong>Required AWS Services</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Required-Blackberry-Software"><strong>1.6 </strong>Required Blackberry Software</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Hardware-and-Software-Pre-Requisites"><strong>1.7 </strong>Hardware and Software Pre-Requisites</a></li></ol></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Configure-AWS-Route-53-Domain"><strong>2 </strong>Configure AWS Route 53 Domain</a><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Navigate-to-AWS-Route-53-Service"><strong>2.1 </strong>Navigate to AWS Route 53 Service</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Check-Domain-Availability-and-Pricing"><strong>2.2 </strong>Check Domain Availability and Pricing</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Select-Domain-Name"><strong>2.3 </strong>Select Domain Name</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Provide-Domain-Contact-Information"><strong>2.4 </strong>Provide Domain Contact Information</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Confirm-Contacts-for-Domain"><strong>2.5 </strong>Confirm Contacts for Domain</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Purchase-Domain"><strong>2.6 </strong>Purchase Domain</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Check-Domain-Status-Route-53-"><strong>2.7 </strong>Check Domain Status (Route 53)</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Check-Domain-Status-email-"><strong>2.8 </strong>Check Domain Status (email)</a></li></ol></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Configure-AWS-VPC"><strong>3 </strong>Configure AWS VPC</a><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Create-Key-Pair"><strong>3.1 </strong>Create Key Pair</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Create-a-VPC"><strong>3.2 </strong>Create a VPC</a><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Launch-AWS-CloudFormation-Template"><strong>3.2.1 </strong>Launch AWS CloudFormation Template</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Verify-Successful-Creation-of-VPC"><strong>3.2.2 </strong>Verify Successful Creation of VPC</a></li></ol></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Create-Security-Group"><strong>3.3 </strong>Create Security Group</a><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Navigate-to-VPC-Console-Security-Groups"><strong>3.3.1 </strong>Navigate to VPC Console Security Groups</a></li></ol></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Create-AWS-Managed-Microsoft-AD-Directory"><strong>3.4 </strong>Create AWS Managed Microsoft AD Directory</a><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Open-AWS-Directory-Service-Console"><strong>3.4.1 </strong>Open AWS Directory Service Console</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Create-AWS-Microsoft-AD-Directory-Service"><strong>3.4.2 </strong>Create AWS Microsoft AD Directory Service</a></li></ol></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Deploy-Windows-EC2-Management-Instance-for-Microsoft-AD-Directory"><strong>3.5 </strong>Deploy Windows EC2 Management Instance for Microsoft AD Directory</a><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Create-DHCP-Options-Set-for-Directory"><strong>3.5.1 </strong>Create DHCP Options Set for Directory</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Complete-DHCP-Options-Set-Dialog"><strong>3.5.2 </strong>Complete DHCP Options Set Dialog</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Associate-the-DHCP-Options-Set-with-VPC"><strong>3.5.3 </strong>Associate the DHCP Options Set with VPC</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Create-EC2-Domain-Join-Role"><strong>3.5.4 </strong>Create EC2 Domain Join Role</a></li></ol></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Create-Windows-2012-R2-Base-EC2-Management-Instance"><strong>3.6 </strong>Create Windows 2012 R2 Base EC2 Management Instance</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Install-AD-Tools-on-Windows-2012-EC2-Management-Instance"><strong>3.7 </strong>Install AD Tools on Windows 2012 EC2 Management Instance</a><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Get-Instance-Connection-Information"><strong>3.7.1 </strong>Get Instance Connection Information</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Configure-RDP-Connection-to-Instance"><strong>3.7.2 </strong>Configure RDP Connection to Instance</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Connect-to-Windows-2012-EC2-Management-Instance"><strong>3.7.3 </strong>Connect to Windows 2012 EC2 Management Instance</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Verify-Windows-EC2-Management-Instance"><strong>3.7.4 </strong>Verify Windows EC2 Management Instance</a></li></ol></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Launch-RedHat-7.5-or-latest-version-Linux-EC2-Instance"><strong>3.8 </strong>Launch RedHat 7.5 (or latest version) Linux EC2 Instance</a><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Choose-Amazon-Machine-Image-AMI-"><strong>3.8.1 </strong>Choose Amazon Machine Image (AMI)</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Choose-Instance-Type"><strong>3.8.2 </strong>Choose Instance Type</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Configure-Instance-Details"><strong>3.8.3 </strong>Configure Instance Details</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Configure-Instance-Storage-Add-Storage-"><strong>3.8.4 </strong>Configure Instance Storage (Add Storage)</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Configure-Instance-Tags-Add-Tags-"><strong>3.8.5 </strong>Configure Instance Tags (Add Tags)</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Configure-Security-Group"><strong>3.8.6 </strong>Configure Security Group</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Review-and-Launch-Instance"><strong>3.8.7 </strong>Review and Launch Instance</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Choose-Key-Pair"><strong>3.8.8 </strong>Choose Key Pair</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-View-Launch-Status"><strong>3.8.9 </strong>View Launch Status</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Monitor-Linux-Instance-Status"><strong>3.8.10 </strong>Monitor Linux Instance Status</a></li></ol></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Connect-to-Linux-EC2-Instance"><strong>3.9 </strong>Connect to Linux EC2 Instance</a><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Display-EC2-Linux-Instance-Connection-Information"><strong>3.9.1 </strong>Display EC2 Linux Instance Connection Information</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Connect-to-Linux-EC2-Instance1"><strong>3.9.2 </strong>Connect to Linux EC2 Instance</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Update-Linux-EC2-Instance"><strong>3.9.3 </strong>Update Linux EC2 Instance</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Reboot-Linux-EC2-Instance"><strong>3.9.4 </strong>Reboot Linux EC2 Instance</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Install-Required-Package-to-Linux-EC2-Instance"><strong>3.9.5 </strong>Install Required Package to Linux EC2 Instance</a></li></ol></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Install-Orabuntu-LXC"><strong>3.10 </strong>Install Orabuntu-LXC</a><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Download-Orabuntu-LXC-Software-ec2-user-"><strong>3.10.1 </strong>Download Orabuntu-LXC Software (ec2-user)</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Create-Orabuntu-Linux-User"><strong>3.10.2 </strong>Create Orabuntu Linux User</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Download-the-Orabuntu-LXC-Software-orabuntu-user-"><strong>3.10.3 </strong>Download the Orabuntu-LXC Software (orabuntu user)</a></li></ol></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Configure-Orabuntu-LXC"><strong>3.11 </strong>Configure Orabuntu-LXC</a><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Configure-pgroup1"><strong>3.11.1 </strong>Configure pgroup1</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Configure-pgroup2"><strong>3.11.2 </strong>Configure pgroup2</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Configure-pgroup3"><strong>3.11.3 </strong>Configure pgroup3</a></li></ol></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Install-Orabuntu-LXC1"><strong>3.12 </strong>Install Orabuntu-LXC</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Display-LXC-Linux-Containers"><strong>3.13 </strong>Display LXC Linux Containers</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Install-Package:-wget"><strong>3.14 </strong>Install Package: wget</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Configure-SCST-SAN-for-BlackBerry-Workspaces-Storage-LUNs"><strong>3.15 </strong>Configure SCST SAN for BlackBerry Workspaces Storage LUNs</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Download-Blackberry-Workspaces-Install-Media"><strong>3.16 </strong>Download Blackberry Workspaces Install Media</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Untar-Install-Media"><strong>3.17 </strong>Untar Install Media</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Verify-Python-Version-in-LXC-Container"><strong>3.18 </strong>Verify Python Version in LXC Container</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Run-Blackberry-Workspaces-Installer"><strong>3.19 </strong>Run Blackberry Workspaces Installer</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Set-Port-Forward-Rule-on-EC2-if-on-AWS"><strong>3.20 </strong>Set Port Forward Rule on EC2 if on AWS</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Configure-SMTP-Email-Relay-on-Windows-2012-R2-Management-Instance"><strong>3.21 </strong>Configure SMTP Email Relay on Windows 2012 R2 Management Instance</a><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Connect-to-Windows-2012-R2-Base-EC2-Management-Instance"><strong>3.21.1 </strong>Connect to Windows 2012 R2 Base EC2 Management Instance</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Start-Server-Manager"><strong>3.21.2 </strong>Start Server Manager</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Launch-Add-Roles-and-Features-"><strong>3.21.3 </strong>Launch "Add Roles and Features"</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Configure-SMTP-Server"><strong>3.21.4 </strong>Configure SMTP Server</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Configure-SMTP-General-Tab"><strong>3.21.5 </strong>Configure SMTP General Tab</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Configure-SMTP-Access-Tab"><strong>3.21.6 </strong>Configure SMTP Access Tab</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Configure-SMTP-Server-Service"><strong>3.21.7 </strong>Configure SMTP Server Service</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Test-SMTP-Service"><strong>3.21.8 </strong>Test SMTP Service</a></li></ol></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Launch-Windows-Conversion-EC2-Instance"><strong>3.22 </strong>Launch Windows Conversion EC2 Instance</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Configure-Windows-Conversion-EC2-Instance"><strong>3.23 </strong>Configure Windows Conversion EC2 Instance</a><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Download-and-Install-Blackberry-Cygwin"><strong>3.23.1 </strong>Download and Install Blackberry Cygwin</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Create-Folder:-D:-Temp"><strong>3.23.2 </strong>Create Folder:  D:\Temp</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Set-System-Variables-for-Temp-and-Tmp"><strong>3.23.3 </strong>Set System Variables for Temp and Tmp</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Disable-Windows-Firewall"><strong>3.23.4 </strong>Disable Windows Firewall</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Establish-Connectivity-to-LXC-Containers"><strong>3.23.5 </strong>Establish Connectivity to LXC Containers</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Test-Connectivity-Between-Windows-Conversion-and-LXC-Containers"><strong>3.23.6 </strong>Test Connectivity Between Windows Conversion and LXC Containers</a></li></ol></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Prepare-to-Run-the-Installer-UI"><strong>3.24 </strong>Prepare to Run the Installer UI</a><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Edit-File:-srv-salt-custom-pillar-upgrade.yaml"><strong>3.24.1 </strong>Edit File:  /srv/salt/custom/pillar/upgrade.yaml</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Start-Service:-workspaces-ports"><strong>3.24.2 </strong>Start Service:  workspaces-ports</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Generate-the-Required-SSL-Files"><strong>3.24.3 </strong>Generate the Required SSL Files</a></li></ol></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Run-Appliance-X-UI-Installer"><strong>3.25 </strong>Run Appliance-X UI Installer</a><ol class="goog-toc"><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Obtain-Appliance-X-UI-Password"><strong>3.25.1 </strong>Obtain Appliance-X UI Password</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Connect-to-Appliance-X-Installer"><strong>3.25.2 </strong>Connect to Appliance-X Installer</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Accept-Blackberry-License-Agreement"><strong>3.25.3 </strong>Accept Blackberry License Agreement</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Select-Workspaces-Install-Type"><strong>3.25.4 </strong>Select Workspaces Install Type</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Complete-Deploy-Machines-Information"><strong>3.25.5 </strong>Complete Deploy Machines Information</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Recheck-Pre-requisites-and-Connectivity"><strong>3.25.6 </strong>Recheck Pre-requisites and Connectivity</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Launch-the-Workspaces-Installer"><strong>3.25.7 </strong>Launch the Workspaces Installer</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Installer:-Configure-System"><strong>3.25.8 </strong>Installer:  Configure System</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Check-Validation-Dialog"><strong>3.25.9 </strong>Check Validation Dialog</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Edit-redis-to-use-root-account"><strong>3.25.10 </strong>Edit redis to use root account</a></li></ol></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Healthy-Process-Activity-on-Salt-Master"><strong>3.26 </strong>Healthy Process Activity on Salt-Master</a></li><li class="goog-toc"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Post-Install-Configuration"><strong>3.27 </strong>Post-Install Configuration</a></li></ol></li></ol></div></div></div></div></div><br /><h2><a name="TOC-Summary"></a>Summary</h2><p><font size="3">This is a guide on how to install Blackberry Workspaces in LXC Linux containers on Amazon AWS EC2 using <a href="https://github.com/gstanden/orabuntu-lxc" target="_blank" rel="nofollow">Orabuntu-LXC</a>.  The guide includes building a basic AWS infrastructure to support deployment of multiple Blackberry software products on Amazon AWS.</font></p><p><font size="3">This is version 1.0 of this guide.  This is a living document and may be updated frequently.  If all steps are followed, this guide will produce a Blackberry Workspaces deployment in a VPC on EC2.</font></p><h3><a name="TOC-Required-Knowledge-Level"></a>Required Knowledge Level</h3><p><font size="3">No prior knowledge of Linux or AWS is required, although it is helpful.  This guide provides all the steps to build Blackberry Workspaces on AWS EC2 using LXC Linux containers and OpenvSwitch network.  The AWS steps are menu-driven via the AWS Console GUI, and the Orabuntu-LXC steps are almost entirely automated and only require a few pre-configuration steps.</font><br /></p><h3><a name="TOC-Estimated-Monthly-AWS-Cost"></a>Estimated Monthly AWS Cost</h3><p><font size="3">The current estimated cost for running the entire environment described below is estimated between $150 and $300 per month, depending on whether the system is operated 24/7, how much data is transferred monthly, how much AWS EBS (Elastic Block Storage) is required for document storage, and some other unspecified variable costs.  <br /></font></p><p><font size="3">This base cost estimate is for the as-described system before any instance resizing or expanded EBS capacity has been added to match systems capacity with actual production workload requirements.</font></p><h3><a name="TOC-LXC-Containerization-Design-Advantages"></a>LXC Containerization Design Advantages</h3><p><font size="3">Because this deployment uses LXC Linux container technology, it has several advantages over traditional Appliance-X deployment.</font></p><ul><li><font size="3">Only 1 Linux EC2 instance is needed (instead of 4) for Workspaces Advanced, reducing operating costs significantly<br /></font></li><li><font size="3">The latest version of Red Hat EC2 instance can be used (Red Hat 7.5) with the latest Linux kernel</font></li><li><font size="3">The requirement of python 2.6.x for Linux no longer limits version choice; the most recent base Linux editions can be used.<br /></font></li><li><font size="3">The Blackberry Workspaces app1, main1, frontend1, and salt-master are LXC containerized in Oracle Linux 6.6 containers</font></li><li><font size="3">Containerization provides the required python version and runtime environment for Blackberry Workspaces</font></li><li><font size="3">Containerization provides the latest Red Hat 7.5 kernel to the Oracle Linux 6.6 containers for more up-to-date operations</font></li><li><font size="3">Containerization allows app1, main1, frontend1, and salt-master to share available EC2 host memory efficiently<br /></font></li><li><font size="3">All I/O operations for app1, main1, frontend1 and salt-master occur in the process space of a single Linux EC2 instance<br /></font></li><li><font size="3">Other Linux EC2 distributions can be used, such as Ubuntu 16.04, to suit customer support and staffing preferences.<br /></font></li></ul><h3><a name="TOC-Required-Open-Source-Technology-Stacks"></a>Required Open-Source Technology Stacks</h3><p><font size="3">The following open-source technologies are required for this example.</font></p><table border="1" bordercolor="#888" cellspacing="0" style="border-collapse:collapse;border-color:rgb(136,136,136);border-width:1px"><tbody><tr><td style="width:110.25px;height:19.25px"> Name</td><td style="width:258.25px;height:19.25px"> Description</td><td style="width:269.25px;height:19.25px">Licensing</td><td style="width:250.25px;height:19.25px"> Remarks</td></tr><tr><td style="width:110.25px;height:19.25px"> <a href="https://linuxcontainers.org/lxc/introduction/" target="_blank" rel="nofollow">LXC</a><br /></td><td style="width:258.25px;height:19.25px"> Linux containers<br /></td><td style="width:269.25px;height:19.25px"><a href="https://linuxcontainers.org/lxc/introduction/" target="_blank" rel="nofollow">GNU LGPLv2.1+</a></td><td style="width:250.25px;height:19.25px"> Free, modifiable, redistributable<br /></td></tr><tr><td style="width:110.25px;height:16.25px"> <a href="http://www.openvswitch.org/" target="_blank" rel="nofollow">OpenvSwitch</a></td><td style="width:258.25px;height:16.25px"><a href="https://en.wikipedia.org/wiki/Software-defined_networking" target="_blank" rel="nofollow"> Software Defined Networks (SDN)</a><br /></td><td style="width:269.25px;height:16.25px"><a href="http://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="nofollow">Apache 2.0</a><br /></td><td style="width:250.25px;height:16.25px"> Free, modifiable, redistributable<br /></td></tr><tr><td><a href="https://github.com/gstanden/orabuntu-lxc" target="_blank" rel="nofollow"> Orabuntu-LXC</a></td><td> <a href="https://github.com/gstanden/orabuntu-lxc/wiki" target="_blank" rel="nofollow">LXC on OpenvSwitch Deployer</a><br /></td><td><a href="https://github.com/gstanden/orabuntu-lxc/blob/master/COPYING" target="_blank" rel="nofollow">GPL 3.0</a><br /></td><td> Free, modifiable, redistributable<br /></td></tr></tbody></table><ul><li><font size="3">LXC Linux Containers<br /></font></li><li><font size="3">OpenvSwitch Software Defined Networks (SDNs)</font></li><li><font size="3">Orabuntu-LXC OpenvSwitch and LXC deployer<br /></font></li></ul><h3><a name="TOC-Required-AWS-Services"></a>Required AWS Services<br /></h3><p><font size="3">On AWS, the following components are used for this solution:</font></p><ul><li><font size="3">Amazon Route 53</font></li><li><font size="3">Amazon Application Load Balancer (ALB)</font></li><li><font size="3">Amazon Virtual Private Cloud (VPC)</font></li><li><font size="3">Amazon EC2<br /></font></li></ul><h3><a name="TOC-Required-Blackberry-Software"></a>Required Blackberry Software</h3><p><font size="3">Contact Blackberry to obtain the Blackberry Workspaces software.</font><br /></p><h3><a name="TOC-Hardware-and-Software-Pre-Requisites"></a>Hardware and Software Pre-Requisites</h3><p><font size="3">If you do not currently have an Amazon AWS account, then first create a <a href="https://aws.amazon.com/free/" target="_blank" rel="nofollow">one-year free-trial AWS account</a>.  Note that some of the AWS products and services used in this tutorial will <b><i>not</i></b> qualify for free usage; however, the one-year free trial will help to reduce cost because some (but not all) AWS resources used in this trial will qualify for free trial usage.<br /></font></p><p><font size="3"><font size="3">For this example, complete the tutorial "<a href="https://docs.aws.amazon.com/directoryservice/latest/admin-guide/ms_ad_tutorial_test_lab_base.html" target="_blank" rel="nofollow">Setting Up Your Base AWS Managed Microsoft AD Test Lab</a>"
 first, which is used to create an AWS active directory and virtual 
private cloud environment for installing Blackberry Workspaces, and, 
optionally, to provide the required environment to add-on other Blackberry software products on AWS such as for example Blackberry UEM and other Blackberry software products.  <br /></font></font></p><p><font size="3"><font size="3">This tutorial creates the following items enumerated below.  </font></font></p><ul><li><font size="3">Key Pair</font></li><li><a href="https://aws.amazon.com/quickstart/architecture/vpc/" target="_blank" rel="nofollow"><font size="3">Amazon "Quick Start" Basic VPC</font></a></li><li><a href="https://aws.amazon.com/directoryservice/" target="_blank" rel="nofollow"><font size="3">Microsoft AD directory service</font></a></li><li><font size="3">EC2 Windows instance to manage the AWS Microsoft AD directory service</font></li></ul><p><font size="3">Notes:</font></p><ol><li><font size="3">This example uses the AWS AD directory service.  Alternatively an EC2 Windows instance could be used for that purpose.<br /></font></li><li><font size="3">This example uses a Windows 2012 R2 base as the EC2 Management instance instead of Windows 2016 server base.</font></li></ol><p><font size="3">The following table provides additional detail on the instance sizes used for this Blackberry Workspaces on AWS example build.  Note that instance sizes can be upgraded after the system is built, using standard instance resizing functionality of AWS EC2, if more CPU and/or more memory are needed for specific use cases and workloads.  <br /></font></p><p><font size="3">The sizes below have been tested to support build, install, and deploy adequately, but for actual production use, EC2 instance sizes for the Workspaces EC2 instances would likely need to be increased.  These minimal sizes for build and deployment are used to minimize AWS spend during installation phases, while also minimizing time required to install all components.</font></p><p><font size="3"><i><u>Note in the below table that this can also be done on an Ubuntu 16.04 EC2 instance instead of a Red Hat Enterprise Linux 7.5 instance</u>. </i><br /></font></p><table border="1" bordercolor="#888" cellspacing="0" style="border-collapse:collapse;border-color:rgb(136,136,136);border-width:1px"><tbody><tr><td style="text-align:center;width:60.25px;height:31.25px"><b> AWS Service</b><br /></td><td style="text-align:left;width:195.25px;height:31.25px"><b>Description<br /></b></td><td style="width:84.25px;height:31.25px"><b> Purpose</b></td><td style="text-align:left;width:103.25px;height:31.25px"><b> AMI</b></td><td style="text-align:left;width:75.25px;height:31.25px"><b> Size</b></td><td style="text-align:center;width:47.25px;height:31.25px"><b> vCPUs</b></td><td style="text-align:center;width:55.25px;height:31.25px"><b> Memory</b></td><td style="text-align:center;width:39.25px;height:31.25px"><b> EBS1 (Gb)<br /></b></td><td style="text-align:center;width:39.25px;height:31.25px"><b> EBS2 (Gb)<br /></b></td></tr><tr><td style="text-align:center;width:60.25px;height:31.25px"> EC2</td><td style="text-align:left;width:195.25px;height:31.25px">Red Hat Enterprise Linux 7.5 (HVM), SSD Volume Type</td><td style="width:84.25px;height:31.25px">Workspaces Linux <br /></td><td style="text-align:left;width:103.25px;height:31.25px"> <span>ami-6871a115</span></td><td style="text-align:left;width:75.25px;height:31.25px"> t2.large</td><td style="text-align:center;width:47.25px;height:31.25px"> 2</td><td style="text-align:center;width:55.25px;height:31.25px"> 8</td><td style="text-align:center;width:39.25px;height:31.25px">30<br /></td><td style="text-align:center;width:39.25px;height:31.25px">--</td></tr><tr><td style="text-align:center;width:60.25px;height:31.25px"> EC2</td><td style="text-align:left;width:195.25px;height:31.25px">Microsoft Windows Server 2012 R2 Base</td><td style="width:84.25px;height:31.25px">Workspaces Windows <br /></td><td style="text-align:left;width:103.25px;height:31.25px"> <span>ami-bf934bc0</span></td><td style="text-align:left;width:75.25px;height:31.25px"> t2.medium</td><td style="text-align:center;width:47.25px;height:31.25px"> 2</td><td style="text-align:center;width:55.25px;height:31.25px"> 4</td><td style="text-align:center;width:39.25px;height:31.25px">30 <br /></td><td style="text-align:center;width:39.25px;height:31.25px"> 50</td></tr><tr><td style="text-align:center;width:60.25px;height:31.25px"> EC2</td><td style="width:195.25px;height:31.25px">Microsoft Windows Server 2012 R2 Base<br /></td><td style="width:84.25px;height:31.25px">AWS AD Management<br /></td><td style="width:103.25px;height:31.25px"> <span>ami-bf934bc0</span></td><td style="width:75.25px;height:31.25px"> t2.micro</td><td style="width:47.25px;height:31.25px;text-align:center"> 1</td><td style="width:55.25px;height:31.25px;text-align:center"> 1</td><td style="width:39.25px;height:31.25px;text-align:center"> 30</td><td style="width:39.25px;height:31.25px;text-align:center"> --</td></tr><tr><td style="text-align:center;width:60.25px;height:16.25px"> Directory</td><td style="text-align:left;width:195.25px;height:16.25px">Microsoft AD<br /></td><td style="width:84.25px;height:16.25px">AD Domain Controller<br /></td><td style="text-align:left;width:103.25px;height:16.25px"> --<span>    </span></td><td style="text-align:left;width:75.25px;height:16.25px"> --</td><td style="text-align:center;width:47.25px;height:16.25px">-- <br /></td><td style="text-align:center;width:55.25px;height:16.25px"> --</td><td style="text-align:center;width:39.25px;height:16.25px"> --</td><td style="text-align:center;width:39.25px;height:16.25px"> --</td></tr><tr><td style="width:60.25px;height:16.25px;text-align:center"> VPC</td><td style="width:195.25px;height:16.25px">Virtual Private Cloud<br /></td><td style="width:84.25px;height:16.25px"> VPC</td><td style="width:103.25px;height:16.25px"> --<span>    </span></td><td style="width:75.25px;height:16.25px"> --</td><td style="width:47.25px;height:16.25px;text-align:center"> --</td><td style="width:55.25px;height:16.25px;text-align:center"> --</td><td style="width:39.25px;height:16.25px;text-align:center"> --</td><td style="width:39.25px;height:16.25px;text-align:center"> --</td></tr></tbody></table></div><div><h2><a name="TOC-Configure-AWS-Route-53-Domain"></a>Configure AWS Route 53 Domain</h2><p><font size="3">This build and design is based on a domain that is managed and hosted at the Amazon Route 53 service.  Deployment of Blackberry Workspaces on AWS does not require a domain be hosted at Amazon Route 53;  however, there are advantages to managing and hosting the domain at AWS Route 53, including:<br /></font></p><ul><li><font size="3">High degree of convenient integrations with other AWS services</font></li><li><font size="3">AWS Certificate Manager (ACM) providing free SSL certificates</font></li></ul><h3><a name="TOC-Navigate-to-AWS-Route-53-Service"></a>Navigate to AWS Route 53 Service<br /></h3><p><font size="3">A domain can be purchased for a nominal amount such as $10-$25 per year at <a href="https://console.aws.amazon.com/route53/home" target="_blank" rel="nofollow">AWS Route 53</a> as shown below.</font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;11-12-27.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526315334553/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;11-12-27.png" style="width:100%" /></a></font></div><h3><a name="TOC-Check-Domain-Availability-and-Pricing"></a>Check Domain Availability and Pricing<br /></h3><p><font size="3">In this example, we check various possible domains availability for Blackberry Workspaces on AWS example deployment in order to give a detailed example of all the steps required for setup from start to finish including purchase and deployment of the domain name as shown below.</font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;11-26-24.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526315356396/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;11-26-24.png" style="width:100%" /></a></font></div><font size="3"><br /></font><h3><a name="TOC-Select-Domain-Name"></a>Select Domain Name<br /></h3><p><font size="3">The domain "blackberry.systems" is relatively expensive, and so since this is an example demo system, any domain can be used, so we will use "getblackberry.com" which is relatively inexpensive and aptly named for this work as shown below.</font></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;11-37-09.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526315848459/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;11-37-09.png" style="width:100%" /></a></div><h3><a name="TOC-Provide-Domain-Contact-Information"></a>Provide Domain Contact Information<br /></h3><font size="3">After adding the domain to the cart, click the blue "Continue" button at the bottom to continue with the purchase of the domain name to be hosted at AWS Route 53.  Add the contact details for the domain ownership with your relevant information such as name, address, phone number, etc., as shown below and then press the blue "Continue" button.<br /><br /></font><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;11-44-43.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526316301475/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;11-44-43.png" style="width:100%" /></a></div><br /><h3><a name="TOC-Confirm-Contacts-for-Domain"></a>Confirm Contacts for Domain<br /></h3>On the next screen, confirm the "Registrant Contact", "Administrative Contact", and "Technical Contact" information is correct, and then check the box <br />"<span><span>I have read and agree to the AWS Domain Name Registration Agreement".  You may also wish to review the link </span></span><span><span><span><a href="http://aws.amazon.com/route53/pricing/" target="_blank" rel="nofollow">Amazon Route 53 Pricing</a></span> to understand the Route 53 pricing, and then click the blue "Complete Purchase" button as shown below.<br /><br /><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;11-56-45.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526317023280/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;11-56-45.png" style="width:100%" /></a></div></span></span><h3><a name="TOC-Purchase-Domain"></a>Purchase Domain<br /></h3></div><div><span><span>On the next screen after completing purchase, Route 53 confirms successful submit of the domain purchase as shown below. Route 53 service will advise as shown below that it may take up to three days to complete successful registration of the newly-purchased domain name, and that the registrant contact will get an email when the domain is ready for use at AWS Route 53.  Press the blue "Go To Domains" button to view current status of the domain request.<br /><br /><br /><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;11-58-14.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526317141413/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;11-58-14.png" style="width:100%" /></a></div></span></span></div><div><h3><a name="TOC-Check-Domain-Status-Route-53-"></a>Check Domain Status (Route 53)<br /></h3><p><font size="3">When domain registration is complete, then continue with the Blackberry Workspaces on AWS deployment.  The status of the domain request can be checked manually by clicking on the blue "Go To Domains" button which displays the "Pending Requests" section of the page as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;12-02-01.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526317425215/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;12-02-01.png" style="width:100%" /></a></font></div><p><font size="3">In this case, the domain "getblackberry.com" was ready in about 30 minutes as shown below.</font><br /></p><h3><a name="TOC-1"></a><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;13-14-12.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526321670491/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;13-14-12.png" style="width:100%" /></a></div></h3><h3><a name="TOC-Check-Domain-Status-email-"></a>Check Domain Status (email)<br /></h3><p><font size="3">Also, an email will arrive notifying that the domain is ready.  An example of that email is shown below.</font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;13-52-49.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526323985816/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;13-52-49.png" style="width:100%" /></a></font></div><font size="3">This completes the steps to register a domain with Amazon Route 53 for use with Blackberry Workspaces on AWS EC2.</font><br /><h2><a name="TOC-Configure-AWS-VPC"></a>Configure AWS VPC<br /></h2><p><font size="3">These steps are based on the AWS tutorial <a href="https://docs.aws.amazon.com/directoryservice/latest/admin-guide/ms_ad_tutorial_test_lab_base.html" target="_blank" rel="nofollow">here</a>.  Some small naming changes are made to correspond with the actual domain being used for this example "getblackberry.com".  For this example, the AWS console UI will be used.  Alternatively, an IAM user and AWS CLI commands can be used, in which case then complete the optional steps <a href="https://docs.aws.amazon.com/directoryservice/latest/admin-guide/microsoftadbaseprereq.html" target="_blank" rel="nofollow">here</a>.</font></p><h3><a name="TOC-Create-Key-Pair"></a>Create Key Pair</h3><p><font size="3">Create a key pair if necessary using the <a href="https://docs.aws.amazon.com/directoryservice/latest/admin-guide/microsoftadbasestep1.html" target="_blank" rel="nofollow">instructions for creating a key pair here</a>. The name of the key pair is arbitrary.  When creating a key pair be sure to note or copy the ACCESS KEY, and, especially, the <b>SECRET KEY</b> at the time the key pair is created, because the SECRET KEY is only accessible once and cannot be retrieved after being displayed on creation.  Keep your secret key information in a place where you can find it where it is also secure from data theft.</font></p><h3><a name="TOC-Create-a-VPC"></a>Create a VPC</h3><p><font size="3">Create a VPC according to the instructions <a href="https://docs.aws.amazon.com/directoryservice/latest/admin-guide/microsoftadbasestep1.html" target="_blank" rel="nofollow">here</a>.  A public or a private VPC can be used for Blackberry Workspaces.  If a private VPC is used, additional AWS services will be needed such as Amazon Direct Connect and/or a VPN connection.  For this example, a public, default, non-private VPC is used that relies on SSL and password protection to limit access to authorized users of Blackberry Workspaces on AWS EC2.  More <a href="https://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Introduction.html#what-is-default-nondefault" target="_blank" rel="nofollow">information on AWS VPC is here</a>.</font></p><h4><a name="TOC-Launch-AWS-CloudFormation-Template"></a>Launch AWS CloudFormation Template</h4><p><font size="3">Launch the AWS CloudFormation template into the AWS account that will be used for this Blackberry Workspaces deployment.  The template is launched in the US West (Oregon) region by default.  To change the region, use the region selector in the upper right hand corner of the AWS console UI to change the region to the desired value as shown below.  In this example, 'US East (N. Virginia)" is selected but any geographically convenient region can be chosen.<br /></font></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;14-37-22.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526326658037/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;14-37-22.png" style="width:100%" /></a></div><font size="3">Once the region has been selected, click on the blue "Next" button at the lower right corner to continue as shown below.<br /><br /></font><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;14-41-07.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526326882828/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;14-41-07.png" style="width:100%" /></a></font></div><p><font size="3">On the next screen, set the following:</font></p><ul><li><font size="3">In "Specify Details" section, change the "<i>Stack Name</i>" to "<b>AWS-BB-VPC</b>"</font></li><li><font size="3">In "Parameters" section, <b>select two</b> "<i>Availability Zones</i>"<br /></font></li><li><font size="3">In "Parameters section" set "<i>Number of Availability Zones</i>" to "<b>2</b>"</font></li></ul><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;14-57-51.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526327887164/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;14-57-51.png" style="width:100%" /></a></div><ul><li><font size="3">In "Network Configuration" section set "<i>Create Private Subnets</i>" to "<b>False</b>"</font></li><li><font size="3">In "Network Configuration" section set "<i>Create Additional Private Subnets with Dedicated Network ACLs</i>" to "<b>False</b>"</font></li></ul><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;14-59-04.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526327959511/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;14-59-04.png" style="width:100%" /></a></div><ul><li><font size="3">In "Amazon EC2 Configuration" set "<i>Key Pair Name</i>" to an existing key pair</font></li><li><font size="3">In "Amazon EC2 Configuration" set "<i>NAT Instance Type</i>" to "<b>t2.micro</b>" (optional reduced sizing for free-tier savings)</font></li></ul><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;15-00-14.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526328026474/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;15-00-14.png" style="width:100%" /></a></div><p><font size="3">For all other values, accept defaults no changes.  Review the settings for accuracy and then click on the blue "Next" button as shown in the above screenshot.</font></p><p><font size="3">On the "Options" page accept default no changes.  Click on the blue "Next" button.<br /></font></p><p><font size="3">On the "Review" page review the settings for the AWS-BB-VPC as shown below.</font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;15-11-19.png%3Fattredirects=0" imageanchor="1"><img border="0" height="400" src="_/rsrc/1526328708751/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;15-11-19.png%3Fheight=400&amp;width=262" width="262" /></a></font></div><p><font size="3">and if all is correct accept all defaults no changes and click on the blue "Create" button as shown below.<br /></font></p><h3><a name="TOC-2"></a><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;15-12-32.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526328771523/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;15-12-32.png" style="width:100%" /></a></div></h3><h4><a name="TOC-Verify-Successful-Creation-of-VPC"></a>Verify Successful Creation of VPC</h4><p>Check the Status column of the CloudFormation console screen as shown below.</p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;15-19-19.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526329171579/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;15-19-19.png" style="width:100%" /></a></div><p><br /></p><p>Also, check the status of the VPC in the VPC dashboard as shown below.  Be sure that all VPC creation is completed as shown below.</p><p><br /></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;15-21-00.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526329278379/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;15-21-00.png" style="width:100%" /></a></div><h3><a name="TOC-3"></a><br /></h3><h3><a name="TOC-Create-Security-Group"></a>Create Security Group</h3><p><font size="3"><a href="https://docs.aws.amazon.com/directoryservice/latest/admin-guide/microsoftadbasestep1.html" target="_blank" rel="nofollow">Follow the instructions here</a> to create a security group for the AWS EC2 instances that will host the Blackberry Workspaces application components. In addition to the instructions in the tutorial, the security group for Blackberry Workspaces on AWS EC2 requires some additional rules as shown below.</font></p><h4><a name="TOC-Navigate-to-VPC-Console-Security-Groups"></a>Navigate to VPC Console Security Groups <br /></h4><p><font size="3">Navigate to the VPC page in the AWS console and navigate "Security Groups" in the left-hand navigation bar and then click on the blue "Create Security Group" button near the upper right corner of the page as shown below.<br /></font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;15-29-41.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526329793883/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;15-29-41.png" style="width:100%" /></a></font></div><p><font size="3"><br /></font></p><p><font size="3">Create the security group "AWS BB RDP" as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;15-40-43.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526330491766/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;15-40-43.png" style="width:100%" /></a></font></div><font size="3"><br /></font><p><font size="3">Create the security group with the following "Inbound Rules" set as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;15-33-03.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526329997521/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;15-33-03.png" style="width:100%" /></a></font></div><font size="3"><br /></font><p><font size="3">Note that the SSL rules for port 443 are open to all ipv4 and ipv6 traffic, but can be locked down to permit traffic <br /></font></p><ul><li><font size="3">only from a specific IP (e.g. 24.178.248.3/32)</font></li><li><font size="3">only from a specific IP range (e.g. 10.209.53.0/24)</font></li></ul><p><font size="3">In this example, all SSL traffic inbound to the VPC will be allowed over SSL port 443. Authentication to the Blackberry Workspaces application will require a username and password.  However, for additional security, incoming IP addresses can be restricted as mentioned.</font></p><p><font size="3">Creation of the required "AWS BB RDP" security group is complete.<br /></font></p><h3><a name="TOC-Create-AWS-Managed-Microsoft-AD-Directory"></a>Create AWS Managed Microsoft AD Directory</h3><p><font size="3">There are three different way to create the required AWS Managed Microsoft AD directory and <a href="https://docs.aws.amazon.com/directoryservice/latest/admin-guide/microsoftadbasestep2.html" target="_blank" rel="nofollow">those methods are discussed here</a>.  This example will use the AWS Management Console UI method.</font></p><p><font size="3">Also, note that an AWS EC2 instance can be used to create a Microsoft AD EC2 domain controller as an alternative to using AWS Directory Services.  In this example, AWS Directory Services option is used for the domain controller.<br /></font></p><h4><a name="TOC-Open-AWS-Directory-Service-Console"></a>Open AWS Directory Service Console</h4><p><font size="3">Open the AWS Directory Service console as shown below.  In this screenshot, there is already a pre-existing Microsoft AD Directory Service from another deployment.  Now a second additional AWS Microsoft AD Directory Service will be created.<br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;15-55-40.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526331358757/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;15-55-40.png" style="width:100%" /></a></font></div><h4><a name="TOC-Create-AWS-Microsoft-AD-Directory-Service"></a>Create AWS Microsoft AD Directory Service</h4><p><font size="3">Click on the white "Set Up Directory" button in the upper left corner of the Directories console as shown below.  Choose the third option in the dialog box "Microsoft AD".   The "Enter Directory Info" page is displayed as shown below.  Enter the "Directory Details" as shown below.  <br /></font></p><p><font size="3">The "Admin password" is an arbitrary password that is set now which later will be used to login as a Domain Admin to all EC2 Windows instances joined to the AWS AD Directory service.<br /></font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;16-03-28.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526331821181/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;16-03-28.png" style="width:100%" /></a></font></div><font size="3"><br /></font><p><font size="3">Next enter the "VPC Details" as shown below.  Once the VPC is chosen correctly, there should only be two subnets available for the subnets field, so choose those also as shown below.<br /></font></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;16-06-00.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526331974390/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;16-06-00.png" style="width:100%" /></a></div><font size="3">Click on the white "Next Step" button in the lower right corner as shown below.</font><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;16-09-03.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526332158319/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;16-09-03.png" style="width:100%" /></a></font></div><font size="3"><br /></font><p><font size="3">Review the details of the Microsoft AD Directory service and click on the blue "Create Microsoft AD" button as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;16-10-40.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526332309443/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;16-10-40.png" style="width:100%" /></a></div><font size="3"><br />The Microsoft AD Directory service can take 25-30 minutes to create as shown below.<br /><br /><br /><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;16-15-29.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526332557562/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;16-15-29.png" style="width:100%" /></a></div><br /></font></div><div><font size="3">Clicking on the blue "Done" button in the lower right corner of the page navigates back to the "Directories" main page where the status of the directory can be checked as shown below.<br /><br /><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;16-20-53.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526332868384/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;16-20-53.png" style="width:100%" /></a></div><br /></font></div><div><font size="3">As soon as the status for the directory turns to "<span style="color:rgb(106,168,79)">Active</span>" it is ready for use, as shown below.<br /><br /><br /><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;16-51-20.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526334695277/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;16-51-20.png" style="width:100%" /></a></div><br /></font><br /><h3><a name="TOC-Deploy-Windows-EC2-Management-Instance-for-Microsoft-AD-Directory"></a>Deploy Windows EC2 Management Instance for Microsoft AD Directory</h3><p><font size="3">Because AWS Microsoft AD service is not directly accessible, a Windows EC2 instance is needed to manage the AWS Microsoft AD service.  Instruction here are <a href="https://docs.aws.amazon.com/directoryservice/latest/admin-guide/microsoftadbasestep3.html" target="_blank" rel="nofollow">based on the tutorial here</a> for creating the Windows EC2 management instance.</font></p><h4><a name="TOC-Create-DHCP-Options-Set-for-Directory"></a>Create DHCP Options Set for Directory</h4><p><font size="3">In this procedure, a DHCP option scope is created so that EC2 instances in the VPC automatically use the AWS Managed Microsoft AD for DNS resolution.  To do this, open the AWS VPC console and choose "DHCP Options Sets" in the left-side navigation pane as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-02-15.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526335348361/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-02-15.png" style="width:100%" /></a></div><h4><a name="TOC-Complete-DHCP-Options-Set-Dialog"></a>Complete DHCP Options Set Dialog</h4><p><font size="3">Enter values into the "Create DHCP options set" dialog as shown below.</font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-04-27.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526335702210/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-04-27.png" style="width:100%" /></a></font></div><font size="3"><br /></font><p><font size="3">For "Name Tag" use "AWS BB DHCP"</font></p><p><font size="3">For "Domain name" use "corp.getblackberry.com"</font></p><p><font size="3">For "Domain name servers" use the value obtained from the Directory Services page as shown below.  In this example, the values are "10.0.128.179, 10.0.151.248".  Values for your deployment will be different and area obtained, as mentioned from the Directory Services page as shown below.  Get the value there, copy them to the clipboard, and paste them, comma-separated, into the "Create DHCP options set" dialog box "Domain name servers" field.</font></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-09-15.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526335776009/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-09-15.png" style="width:100%" /></a></div><p><font size="3">Once all the correct values have been typed into the "Create DHCP options set" dialog box, click on the blue "Yes, Create" button in the lower right corner.  Note that "NTP Servers", "NetBIOS name servers", and "NetBIOS node type" are left blank for this example.</font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-11-52.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526335924441/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-11-52.png" style="width:100%" /></a></font></div><p><br /></p><p><font size="3">Make a note of the DHCP options set ID.  In this example it is "dopt-84e32fff" as shown below.  Your value will be different. This value is needed to associate the new options set with the new VPC.</font></p><h4><a name="TOC-Associate-the-DHCP-Options-Set-with-VPC"></a>Associate the DHCP Options Set with VPC</h4><p><font size="3">Navigate to "Your VPCs" in the AWS console, and select the AWS-BB-VPC, then click on the white "Actions" button along the top left of the page, and select "Edit DHCP Options Set", and then select the options set ID that was noted in the previous example, as shown below.</font><br /></p><h4><a name="TOC-4"></a><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-17-43.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526336276615/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-17-43.png" style="width:100%" /></a></div></h4><h4><a name="TOC-Create-EC2-Domain-Join-Role"></a>Create EC2 Domain Join Role</h4><p><font size="3">Create a role to join Windows EC2 instances to the AWS Microsoft AD domain service.  The procedure to create the EC2 Domain Join role <a href="https://docs.aws.amazon.com/directoryservice/latest/admin-guide/microsoftadbasestep3.html" target="_blank" rel="nofollow">is described here</a>.  Follow the instructions to create the EC2DomainJoin role.  When completed, the role should look like this in the Roles AWS console page as shown below.</font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-23-07.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526336600388/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-23-07.png" style="width:100%" /></a></font></div><h3><a name="TOC-Create-Windows-2012-R2-Base-EC2-Management-Instance"></a>Create Windows 2012 R2 Base EC2 Management Instance</h3><p><font size="3">The procedure for creating the Windows 2012 R2 Base EC2 AD management instance <a href="https://docs.aws.amazon.com/directoryservice/latest/admin-guide/microsoftadbasestep3.html" target="_blank" rel="nofollow">are described here</a>. However, for this guide, a change is made to the instructions:  Instead of a Windows Server 2016 Base, this example substitutes a Windows Server 2012 R2 Base EC2 management instance.  This is because Blackberry Workspaces Windows Conversion server required Windows 2012 R2 Base, and so that the Windows deployment will be consistent, Windows 2012 R2 Base is used throughout the deployment.</font><br /></p><p><font size="3">Follow the <a href="https://docs.aws.amazon.com/directoryservice/latest/admin-guide/microsoftadbasestep3.html" target="_blank" rel="nofollow">instructions here</a> to create the Windows 2012 R2 Base EC2 AD management instance, substituting Windows 2012 R2 Base where the guide has Windows Server 2016 Base.  As shown below, choose "Microsoft Windows Server 2012 R2 Base" with AMI code "ami-bf934bc0".</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-36-57.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526337467185/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-36-57.png" style="width:100%" /></a></font></div><br /><p><font size="3">Select "t2.micro" instance type as shown below and then click "Next: Configure Instance Details".<br /></font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-40-52.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526337666907/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-40-52.png" style="width:100%" /></a></font></div><font size="3"><br /></font><p><font size="3">Configure the instance details as shown below. Be sure to select the values for Network, Subnet, Auto-assign Public IP, Domain join directory, and IAM role as shown below.   Leave all other settings at defaults.  <br /></font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-42-54.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526337839533/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-42-54.png" style="width:100%" /></a></font></div><br /></div><div><p><font size="3">When values are set, click on the the button "Next: Add Storage" and leave storage values at default settings as shown below.  Click on the "Next: Add Tags" button.<br /></font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-50-14.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526338262702/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-50-14.png" style="width:100%" /></a></font></div><font size="3"><br /></font><p><font size="3">Next tag the instances as shown below, or use your own tagging scheme to identify this as the EC2 Windows AD management instance.  Click on "Next: Configure Security Group".<br /></font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-52-31.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526338405438/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-52-31.png" style="width:100%" /></a></font></div><font size="3"><br /></font><p><font size="3">Choose the security group "AWS BB RDP" and ignore warnings, if any, about "</font><font size="3"><i>Rules with source of 0.0.0.0/0 allow all IP addresses to access your instance</i>" as this example allows all SSL traffic on port 443 to connect to Blackberry Workspaces on AWS EC2, as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-57-54.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526338689141/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-57-54.png" style="width:100%" /></a></font></div><p><font size="3">Click the blue button "Review and Launch".  On the next page, review the settings, and if all looks correct, click the blue "Launch" button in the lower right corner, as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-59-08.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526338802601/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;17-59-08.png" style="width:100%" /></a></font></div><font size="3">Select a key pair and check the acknowledgement button, then click the blue "Launch Instances" button. <br /></font><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;18-01-11.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526338907002/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;18-01-11.png" style="width:100%" /></a></font></div><font size="3"><br /></font><p><font size="3">When the instance launches, some information messages will briefly be displayed indicating the Domain Join and other steps taking place, and then a few seconds later the "Launch Status" page will be displayed as shown below.</font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;18-04-33.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526339086108/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-14&#32;18-04-33.png" style="width:100%" /></a></font></div><font size="3">Click on the blue "View Instances" button to check the status of the instance launch as shown below.  Wait for the "Instance State" and "Status Checks" column to both show green light status before proceeding to the next steps as shown below.<br /><br /></font><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-06-06.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526393182036/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-06-06.png" style="width:100%" /></a></font></div><font size="3"><br /></font><h3><a name="TOC-Install-AD-Tools-on-Windows-2012-EC2-Management-Instance"></a>Install AD Tools on Windows 2012 EC2 Management Instance<br /></h3><p><font size="3">The directions for this are <a href="https://docs.aws.amazon.com/directoryservice/latest/admin-guide/microsoftadbasestep3.html" target="_blank" rel="nofollow">here</a>.  Depending on what desktop platform you are using, RDP into the Windows instance using your preferred Windows RDP tool.  In my case, I'm on Ubuntu 17.10 desktop, and I use Remmina RDP client.  <br /></font></p><h4><a name="TOC-Get-Instance-Connection-Information"></a><font size="3">Get Instance Connection Information</font></h4><p><font size="3">Using the *.pem key file that was set up earlier, obtain the local Administrator password to the Windows EC2 instance by selecting the instance in the EC2 instance list, and then clicking on the white "Connect" button above the instance list, as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-20-17.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526394031737/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-20-17.png" style="width:100%" /></a></font></div><font size="3"><br /></font><h4><a name="TOC-Configure-RDP-Connection-to-Instance"></a><font size="3">Configure RDP Connection to Instance<br /></font></h4><p><font size="3">Next click on the white "Download Remote Desktop File" button and choose "Save File" as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-23-01.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526394222173/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-23-01.png" style="width:100%" /></a></font></div><font size="3"><br /></font><p>Open the downloaded RDP connection file with your preferred RDP client.  In this case, I am using Remmina Linux RDP client, as shown below.</p><p><br /></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-25-43.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526394357328/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-25-43.png" style="width:100%" /></a></div><br /><p><br /></p><p>Edit the connection file and add the Local Administrator password, and (optionally) rename the connection file to a meaningful friendly name.  The password is obtained from the "Connect To Your Instance" dialog box as shown below.  Click on the white "Get Password" button.</p><p><br /></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-30-32.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526394645740/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-30-32.png" style="width:100%" /></a></div><br /><p>Next, click on the white button "Browse" to the right of "Key Pair Path" and navigate to your EC2 key pair *.pem file as shown below.</p><p><br /></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-32-52.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526394787134/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-32-52.png" style="width:100%" /></a></div><br /><p>Select your *.pem key file, the same one referenced when the instance was created, as shown below.</p><p><br /></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-34-05.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526394862618/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-34-05.png" style="width:100%" /></a></div><br /><p><font size="3">The password is displayed in encrypted format as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-36-46.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526395022573/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-36-46.png" style="width:100%" /></a></font></div><font size="3"><br /></font><p><font size="3">Next click on the white "Decrypt Password" button as shown below to display the password in readable format.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-37-54.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526395090158/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-37-54.png" style="width:100%" /></a></font></div><p><br /></p><p><font size="3">Copy and paste the password into the required filed on the Windows RDP client as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-40-40.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526395253023/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-40-40.png" style="width:100%" /></a></font></div><h4><a name="TOC-Connect-to-Windows-2012-EC2-Management-Instance"></a>Connect to Windows 2012 EC2 Management Instance<br /></h4><p><font size="3">Save the file and connect to the Windows 2012 EC2 management instance as shown below.  If prompted, click "Yes" to accept the certificate as shown below.</font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-42-34.png%3Fattredirects=0" imageanchor="1"><img border="0" height="200" src="_/rsrc/1526395386874/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-42-34.png%3Fheight=200&amp;width=400" width="400" /></a></font></div><font size="3">Once connected to the EC2 management instance, <a href="https://docs.aws.amazon.com/directoryservice/latest/admin-guide/microsoftadbasestep3.html" target="_blank" rel="nofollow">follow the steps here</a> to install the AD Tools on the EC2 instance using the Server Manager UI as shown below.  Select "Server Manager" from the "Start" menu, or select the shortcut to server manager in the desktop ribbon, as shown below.<br /><br /><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-51-43.png%3Fattredirects=0" imageanchor="1"><img border="0" height="400" src="_/rsrc/1526395956096/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-51-43.png%3Fheight=400&amp;width=245" width="245" /></a></div><br /></font><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-53-55.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526396087899/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-53-55.png" /></a></font></div><font size="3"><br /></font><p><font size="3">In the Dashboard that opens, click on <b>Add Roles and Features</b> under <b>Configure this local server</b> as shown below.<br /></font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-56-46.png%3Fattredirects=0" imageanchor="1"><img border="0" height="101" src="_/rsrc/1526396218359/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-56-46.png%3Fheight=101&amp;width=400" width="400" /></a></font></div><font size="3"><br /></font><p><font size="3">In the <b>Add Roles and Features Wizard</b>, choose <b>Next</b> as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-59-03.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526396356050/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;09-59-03.png" /></a></font></div><p><br /></p><p>On the Select installation type page, choose "<b>Role-based or feature-based installation</b>" and then click on "<b>Next</b>" as shown below.</p><p><br /></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-01-43.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526396520078/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-01-43.png" /></a></div><br /><p>On the "<b>Select destination server</b>" page, make sure that the local server is selected, and then choose "<b>Next</b>" as shown below.</p><p><br /></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-04-10.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526396662397/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-04-10.png" /></a></div><br /><p>On the "<b>Select server roles</b>" page, make no changes, and click "<b>Next</b>" as shown below.</p><p><br /></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-06-13.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526396788495/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-06-13.png" /></a></div><br /><p><font size="3">On the "<b>Select features</b>" page, do the following:</font></p><ul><li><font size="3">Select the <b>"Group Policy Management</b>" check box</font></li><li><font size="3">Expand <b>"Remote Server Administration Tools"</b>, and then expand <b>"Role Administration Tools"</b></font></li><li><font size="3">Select the <b>"AD DS</b> <b>and</b> <b>AD LDS Tools"</b> check box</font></li><li><font size="3">Select the <b>"DNS Server Tools</b>" check box</font></li></ul><p><font size="3">and then click on "<b>Next</b>" as shown below.</font></p><p><br /></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-12-44.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526397177746/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-12-44.png" /></a></div><br /><p><font size="3">On the "<b>Confirm installation selections</b>" page, review the selections and then choose "<b>Install</b>" as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-14-45.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526397296915/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-14-45.png" /></a></font></div><br /><p><font size="3">Monitor install progress as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-15-47.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526397466661/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-15-47.png" /></a></div><br /><p><font size="3">When the "Installation succeeded ... " message appears below the progress bar, click on "Close" as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-19-05.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526397557071/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-19-05.png" /></a></font></div><br /><p><font size="3">Verify that the tools were installed by opening the Windows Administrative Tools folder from the Start menu and checking that the following tools are now installed and available as shown below.</font></p><ul><li><font size="3">Active Directory Administrative Center </font></li><li><font size="3"> Active Directory Domains and Trusts </font></li><li><font size="3"> Active Directory Module for Windows PowerShell </font></li><li><font size="3"> Active Directory Sites and Services </font></li><li><font size="3"> Active Directory Users and Computers </font></li><li><font size="3"> ADSI Edit </font></li><li><font size="3"> DNS </font></li><li><font size="3"> Group Policy Management</font></li></ul><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-22-15.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526397828850/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-22-15.png" /></a></font></div><br /><h4><a name="TOC-Verify-Windows-EC2-Management-Instance"></a>Verify Windows EC2 Management Instance</h4><p><font size="3">Verify the operation and configuration of the Windows EC2 management instance <a href="https://docs.aws.amazon.com/directoryservice/latest/admin-guide/microsoftadbasestep4.html" target="_blank" rel="nofollow">based on the procedures described here</a>. If using Remmina Linux RDP client, a copy can be made of the Local Administration connection file which can be used to create a "Domain Admin" connection configuration file.  Make a copy of the Remmina Local Administrator connection file by hovering over the "Management 2 (Local Admin)" Remmina connection file, right-clicking, and choosing "Copy" from the context menu.  This will bring up a copy of the configuration file which can be edited and saved as a new connection file, as shown below.</font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-33-23.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526398415903/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-33-23.png" style="width:100%" /></a></font></div><font size="3"><br /></font><p><font size="3">Edit the connection file<br /></font></p><ul><li><font size="3">Change "Name" field to  "<b>Management 2 (Domain Admin)</b>"<br /></font></li><li><font size="3">Change "User name" field from "Administrator" to "<b>admin</b>"</font></li><li><font size="3">Change "Password" to the AWS Microsoft AD Service corp.getblackberry.com password (<a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Create-AWS-Microsoft-AD-Directory-Service" target="_blank">step 3.4.2 above</a>)<br /></font></li><li><font size="3">Change "Domain" from blank to "<b>corp.getblackberry.com</b>"<br /></font></li></ul><p><font size="3">as shown below.</font></p><p><br /></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-53-06.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526399599149/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;10-53-06.png" /></a></div><p><br /></p><p><font size="3">Test the new Domain Admin connection to be sure it works.  It should connect in automatically to the EC2 Windows AD management instance.  Check that it is connected successfully to the domain <a href="https://docs.aws.amazon.com/directoryservice/latest/admin-guide/microsoftadbasestep4.html" target="_blank" rel="nofollow">using the procedures described here</a>.</font></p><p><font size="3">In the Start menu choose "<b>Windows Administrative Tools</b>" and then choose "<b>Active Directory Users and Computers</b>". You should see <b>corp.yourdomain.com</b> displayed (in this example, <b>corp.getblackberry.com</b>) with all the default OUs and accounts associated with a new domain.  Under Domain Controllers, notice the names of the domain controllers that were automatically created when you created your AWS Managed Microsoft AD previously in this tutorial.</font></p><p><font size="3">The Microsoft AD environment has been successfully created and is ready for deployment of Blackberry software products for AWS such as Blackberry Workspaces.</font><br /></p><h3><a name="TOC-Launch-RedHat-7.5-or-latest-version-Linux-EC2-Instance"></a>Launch RedHat 7.5 (or latest version) Linux EC2 Instance</h3><p><font size="3">Launch one instance of</font><span style="font-weight:bold"> </span><font size="3"><b>Red Hat Enterprise Linux 7.5</b> (HVM), SSD Volume Type<b> ami-6871a115 </b>which will host the LXC Linux containers for the app1, main1, frontend1, and salt-master LXC containers.</font></p><h4><a name="TOC-Choose-Amazon-Machine-Image-AMI-"></a>Choose Amazon Machine Image (AMI)</h4><p><font size="3">Choose the above-referenced AMI </font><font size="3"><font size="3"><b>ami-6871a115 </b></font>as shown below.</font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;11-26-48.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526401697410/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;11-26-48.png" style="width:100%" /></a></font></div><h4><a name="TOC-Choose-Instance-Type"></a>Choose Instance Type</h4><p>Choose <b>t2.large</b> instance type as shown below.</p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;11-32-11.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526401944159/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;11-32-11.png" /></a></div><br /><p><br /></p><h4><a name="TOC-Configure-Instance-Details"></a>Configure Instance Details</h4><p><font size="3">Configure instance details, being sure to check the "Protect against accidental termination" checkbox, as shown below.<br /></font></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;11-34-32.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526402085140/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;11-34-32.png" style="width:100%" /></a></div><br /><h4><a name="TOC-Configure-Instance-Storage-Add-Storage-"></a>Configure Instance Storage (Add Storage)</h4><p><font size="3">Increase the size of the "Root" volume from the default value to <b>30 Gb </b>as shown below.</font></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;11-40-45.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526402457613/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;11-40-45.png" style="width:100%" /></a></div><h4><a name="TOC-Configure-Instance-Tags-Add-Tags-"></a>Configure Instance Tags (Add Tags)</h4><p><font size="3">Add Tag "Workspaces" with Value "Linux RedHat 7" as shown below.</font></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;11-43-55.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526402649908/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;11-43-55.png" style="width:100%" /></a></div><br /><h4><a name="TOC-Configure-Security-Group"></a>Configure Security Group</h4><p><font size="3">Click on "Select an existing security group" and then choose "AWS BB RDP" security group, as shown below, then click on "Review and Launch" blue button at bottom right.<br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;11-46-07.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526402808346/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;11-46-07.png" style="width:100%" /></a></font></div><h4><a name="TOC-Review-and-Launch-Instance"></a>Review and Launch Instance<br /></h4><p><font size="3">Review instance settings and launch instance as shown below.  Note the warning that this instance is not eligible for the free tier because it is larger than t2.micro and is using non-default amount of EBS storage.</font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;11-48-44.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526403017268/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;11-48-44.png" style="width:100%" /></a></font></div><h4><a name="TOC-Choose-Key-Pair"></a>Choose Key Pair</h4><p><font size="3">Choose the same key pair that has been used for all the other instances of this deployment, as shown below, and then click in "Launch Instances" button.<br /></font></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;11-51-53.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526403127574/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;11-51-53.png" style="width:100%" /></a></div><br /><h4><a name="TOC-View-Launch-Status"></a>View Launch Status</h4><p><font size="3">After clicking the "Launch Instances" button, the "Launch Status" window is displayed.  Review any information of interest on the Launch Status page, and then click the blue "View Instances" button, as shown below.</font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;11-56-26.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526403401072/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;11-56-26.png" style="width:100%" /></a></font></div><h4><a name="TOC-Monitor-Linux-Instance-Status"></a>Monitor Linux Instance Status<br /></h4><p><font size="3">When both the "Instance State" and the "Status Checks" are both showing green, then the Linux instance is ready for use.  During deployment, the "Status Checks" will show an hourglass while the instance is finishing startup, and will turn to a green checkmark icon showing "2/2 checks passed" when the Linux instance is ready for use, as shown below.</font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;12-00-32.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526403646004/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;12-00-32.png" style="width:100%" /></a></font></div><br /><h3><a name="TOC-Connect-to-Linux-EC2-Instance"></a>Connect to Linux EC2 Instance</h3><h4><a name="TOC-Display-EC2-Linux-Instance-Connection-Information"></a>Display EC2 Linux Instance Connection Information<br /></h4><p><font size="3">In the EC2 dashboard of the AWS console, select the Linux EC2 instance that was just created, and click the white "Connect" button in the area above the instances list, to bring up the Linux connection information, as shown below.</font></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;12-04-16.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526403870717/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;12-04-16.png" style="width:100%" /></a></div><h4><a name="TOC-Connect-to-Linux-EC2-Instance1"></a>Connect to Linux EC2 Instance</h4><p><font size="3">To connect to the Linux EC2 instance, copy the line under "Example" that starts with "ssh -i ..." using your preferred SSH client.  If you are on a Linux client, for example, such as Ubuntu desktop, then change to a directory where your *.pem key file is located (or provide the full path to it's location) and connect to the Linux EC2 instance, as shown below.</font></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;12-09-23.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526404176018/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;12-09-23.png" style="width:100%" /></a></div><br /><h4><a name="TOC-Update-Linux-EC2-Instance"></a>Update Linux EC2 Instance</h4><p>Update the Linux EC2 Instance using the command "<b>sudo yum -y update</b>" and then reboot the Linux EC2 instance, as shown below.  Output will be similar, but not identical to, that shown below.  Output has been redacted for brevity.<br /></p><div class="sites-codeblock sites-codesnippet-block"><font size="1"><code>[ec2-user@ip-10-0-134-13 ~]$ <b>sudo yum -y update</b></code><br /><code>Loaded plugins: amazon-id, rhui-lb, search-disabled-repos</code><br /><br /><code>(1/7): rhui-REGION-client-config-server-7/x86_64.</code><code>..                                                                                                                |  51 MB  00:00:00     </code><br /><code>Resolving Dependencies</code><br /><code>--&gt; Running transaction check</code><br /><code>---&gt; Package NetworkManager.x86_64 1:1.10.2-13.el7 will be updated</code><br />...<br /><code>Dependencies Resolved</code><br /><br /><code>=====================================================================================================================================================================================================================================</code><br /><code> Package                                                             Arch                                Version                                                 Repository                                                     Size</code><br /><code>=====================================================================================================================================================================================================================================</code><br /><code>Installing:</code><br /><code> kernel                                                              x86_64                             <b> 3.10.0-862.2.3.el7   </b>                                   rhui-REGION-</code><br /><code> subscription-manager-rhsm-certificates                              x86_64                              1.20.11-1.el7_5                                         rhui-REGION-<br />...<br /></code><code>Transaction Summary</code><br /><code>=====================================================================================================================================================================================================================================</code><br /><code>Install   1 Package  (+1 Dependent package)</code><br /><code>Upgrade  33 Packages</code><br /><br /><code>Total download size: 140 M</code><br /><code>Downloading packages:</code><br />...<br /><code>  Verifying  : selinux-policy-targeted-3.13.1-192.el7.noarch                                                                                                                                                                   68/68 </code><br /><br /><code>Installed:</code><br /><code>  kernel.x86_64 0:3.10.0-862.2.3.el7                                                                                                                                                                                                 </code><br /><br /><code>Dependency Installed:</code><br /><code>  linux-firmware.noarch 0:20180220-62.git6d51311.el7                                                                                                                                                                                 </code><br /><br /><code>Updated:</code><br /><code> ...</code><br /><code>  tzdata.noarch 0:2018e-3.el7                         </code><br /><br /><code>Complete!</code><br /><code>[ec2-user@ip-10-0-134-13 ~]$ </code></font></div><br /><h4><a name="TOC-Reboot-Linux-EC2-Instance"></a>Reboot Linux EC2 Instance</h4><p><font size="3">Reboot the Linux EC2 instance to ensure all updates, including kernel update, are implemented successfully.  Check the kernel version after reboot and check that it matches with the kernel updates applied, as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><p><font size="3"><code>[ec2-user@ip-10-0-134-13 ~]$ <b>sudo reboot</b></code><br /><code>Connection to ec2-34-239-186-19.compute-1.amazonaws.com closed by remote host.</code><br /><code>Connection to ec2-34-239-186-19.compute-1.amazonaws.com closed.</code><br /><br /><code>orabuntu@pasadena1:~/Downloads/pem$ <b>ssh -i "gilkey1.pem" ec2-user@ec2-34-239-186-19.compute-1.amazonaws.com</b></code><br /><code>Last login: Tue May 15 17:08:36 2018 from 24-178-248-3.dhcp.stls.mo.charter.com</code></font></p><p><font size="3"><code>[ec2-user@ip-10-0-134-13 ~]$<b> uname -a</b></code><br /><code>Linux ip-10-0-134-13.corp.getblackberry.com <b>3.10.0-862.2.3.el7.x86_64</b> #1 SMP Mon Apr 30 12:37:51 EDT 2018 x86_64 x86_64 x86_64 GNU/Linux</code></font></p><p><font size="3"><code>[ec2-user@ip-10-0-134-13 ~]$ </code></font></p></div><br /><h4><a name="TOC-Install-Required-Package-to-Linux-EC2-Instance"></a>Install Required Package to Linux EC2 Instance</h4><p><font size="3">Install the packages as shown below.  Output redacted for brevity.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="1"><code>[ec2-user@ip-10-0-134-13 ~]$ sudo yum -y install wget unzip net-tools bind-utils</code><br /><code>Loaded plugins: amazon-id, rhui-lb, search-disabled-repos</code><br /><code>Package net-tools-2.0-0.22.20131004git.el7.x86_64 already installed and latest version</code><br /><code>Resolving Dependencies</code><br /><code>--&gt; Running transaction check</code><br /><code>---&gt; Package bind-utils.x86_64 32:9.9.4-61.el7 will be installed</code><br /><code>--&gt; Processing Dependency: bind-libs = 32:9.9.4-61.el7 for package: 32:bind-utils-9.9.4-61.el7.x86_64</code><br /><code>...</code><br /><code>--&gt; Finished Dependency Resolution</code><br /><br /><code>Dependencies Resolved</code><br /><br /><code>=====================================================================================================================================================================================================================================</code><br /><code> Package                                          Arch                                         Version                                                  Repository                                                              Size</code><br /><code>=====================================================================================================================================================================================================================================</code><br /><code>Installing:</code><br /><code> bind-utils                                       x86_64                                       32:9.9.4-61.el7                                         rhui-REGION-rhel-server-releases                                       204 k</code><br /><code> unzip                                            x86_64                                       6.0-19.el7                                               rhui-REGION-rhel-server-releases                                       170 k</code><br /><code> wget                                             x86_64                                       1.14-15.el7_4.1                                          rhui-REGION-rhel-server-releases                                       547 k</code><br /><code>Installing for dependencies:</code><br /><code> bind-libs                                        x86_64                                       32:9.9.4-61.el7                                          rhui-REGION-rhel-server-releases                                       1.0 M</code><br /><br /><code>Transaction Summary</code><br /><code>=====================================================================================================================================================================================================================================</code><br /><code>Install  3 Packages (+1 Dependent package)</code><br /><br /><code>Total download size: 1.9 M</code><br /><code>Installed size: 5.3 M</code><br /><code>Downloading packages:</code><br /><br /><br /><code>Installed:</code><br /><code>  bind-utils.x86_64 32:9.9.4-61.el7                                               unzip.x86_64 0:6.0-19.el7                                               wget.x86_64 0:1.14-15.el7_4.1                                              </code><br /><br /><code>Dependency Installed:</code><br /><code>  bind-libs.x86_64 32:9.9.4-61.el7                                                                                                                                                                                                   </code><br /><br /><code>Complete!</code><br /><code>[ec2-user@ip-10-0-134-13 ~]$ </code></font></div><br /><h3><a name="TOC-Install-Orabuntu-LXC"></a>Install Orabuntu-LXC</h3><p><font size="3"><a href="https://github.com/gstanden/orabuntu-lxc" target="_blank" rel="nofollow">Orabuntu-LXC</a> is a production-grade <a href="https://github.com/gstanden/orabuntu-lxc/blob/master/COPYING" target="_blank" rel="nofollow">GNU3-licensed</a> open-source fully-automated <a href="https://github.com/" target="_blank" rel="nofollow">github</a> software project developed and copyrighted by <a href="https://www.linkedin.com/in/gilbertstanden/" target="_blank" rel="nofollow">Gilbert Standen</a> that builds production-grade <a href="http://www.openvswitch.org/" target="_blank" rel="nofollow">OpenvSwitch</a> Software Defined Networks (SDNs) and attaches <a href="https://en.wikipedia.org/wiki/Oracle_Linux" target="_blank" rel="nofollow">Oracle Linux</a> <a href="https://linuxcontainers.org/" target="_blank" rel="nofollow">LXC Linux containers</a> to those networks with fully-configured VLANs across multiple Linux physical hosts, and includes a production-grade <a href="http://scst.sourceforge.net/users.html" target="_blank" rel="nofollow">SCST Linux SAN</a> for with custom UDEV rules for presenting LUNs to LXC Linux containers. Orabuntu-LXC provides the entire container infrastructure for installing Blackberry Workspaces in LXC Linux containers.  Under the GNU3 license, users of the software are free to download, modify, and redistribute the Orabuntu-LXC software.<br /></font></p><h4><a name="TOC-Download-Orabuntu-LXC-Software-ec2-user-"></a><font size="3">Download Orabuntu-LXC Software (ec2-user)<br /></font></h4><p><font size="3">Download version 6.11.3-beta or higher version from <a href="https://github.com/gstanden/orabuntu-lxc/releases" target="_blank" rel="nofollow">here</a> onto the Linux Server using wget, and then unzip the software distribution, as shown below.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="1"><code>[ec2-user@ip-10-0-134-13 ~]$ <b>wget https://github.com/gstanden/orabuntu-lxc/archive/6.11.3-beta.zip</b></code><br /><code>--2018-05-15 17:32:01--  https://github.com/gstanden/orabuntu-lxc/archive/6.11.3-beta.zip</code><br /><code>Resolving github.com (github.com)... 192.30.253.112, 192.30.253.113</code><br /><code>Connecting to github.com (github.com)|192.30.253.112|:443... connected.</code><br /><code>HTTP request sent, awaiting response... 302 Found</code><br /><code>Location: https://codeload.github.com/gstanden/orabuntu-lxc/zip/6.11.3-beta [following]</code><br /><code>--2018-05-15 17:32:01--  https://codeload.github.com/gstanden/orabuntu-lxc/zip/6.11.3-beta</code><br /><code>Resolving codeload.github.com (codeload.github.com)... 192.30.253.121, 192.30.253.120</code><br /><code>Connecting to codeload.github.com (codeload.github.com)|192.30.253.121|:443... connected.</code><br /><code>HTTP request sent, awaiting response... 200 OK</code><br /><code>Length: unspecified [application/zip]</code><br /><code>Saving to: ‘6.11.3-beta.zip’</code><br /><br /><code>    [ &lt;=&gt;                                                                                                                                                                                        ] 577,989     --.-K/s   in 0.02s   </code><br /><br /><code>2018-05-15 17:32:02 (26.6 MB/s) - ‘6.11.3-beta.zip’ saved [577989]</code><br /><br /><code>[ec2-user@ip-10-0-134-13 ~]$ <b>ls -lrt</b></code> <br /><code>total 568</code><br /><code>-rw-rw-r--. 1 ec2-user ec2-user 577989 May 15 17:32 6.11.3-beta.zip</code><br /><code>[ec2-user@ip-10-0-134-13 ~]$ <b>unzip 6.11.3-beta.zip </b></code></font></font></div><h4><a name="TOC-Create-Orabuntu-Linux-User"></a>Create Orabuntu Linux User</h4><p><font size="3">Navigate to the uekulele-services-0.sh script to create the "orabuntu" linux user account.  In this step, the downloaded Orabuntu-LXC software is used to create a new user "orabuntu" with SUDO ALL privileges.  After the user is created, the Orabuntu-LXC software is deleted from the home directory of the default ec2-user, and the orabuntu user is logged in, as shown below.  The "cat" of the "uekulele-services-0.sh" script is optional and is just to review what the script does when it creates the "orabuntu" user.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><code>[ec2-user@ip-10-0-134-13 ~]$ <b>pwd</b></code><br /><code>/home/ec2-user</code><br /><code>[ec2-user@ip-10-0-134-13 ~]$ <b>cd orabuntu-lxc-6.11.3-beta/uekulele/</b></code><br /><code>[ec2-user@ip-10-0-134-13 uekulele]$ <b>cat uekulele-services-0.sh</b></code><br /><code>#!/bin/bash</code><br /><br /><code>#    Copyright 2015-2018 Gilbert Standen</code><br /><code>#    This file is part of Orabuntu-LXC.</code><br /><br /><code>#    Orabuntu-LXC is free software: you can redistribute it and/or modify</code><br /><code>#    it under the terms of the GNU General Public License as published by</code><br /><code>#    the Free Software Foundation, either version 3 of the License, or</code><br /><code>#    (at your option) any later version.</code><br /><br /><code>#    Orabuntu-LXC is distributed in the hope that it will be useful,</code><br /><code>#    but WITHOUT ANY WARRANTY; without even the implied warranty of</code><br /><code>#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</code><br /><code>#    GNU General Public License for more details.</code><br /><br /><code>#    You should have received a copy of the GNU General Public License</code><br /><code>#    along with Orabuntu-LXC.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</code><br /><br /><code>#    v2.4         GLS 20151224</code><br /><code>#    v2.8         GLS 20151231</code><br /><code>#    v3.0         GLS 20160710 Updates for Ubuntu 16.04</code><br /><code>#    v4.0         GLS 20161025 DNS DHCP services moved into an LXC container</code><br /><code>#    v5.0         GLS 20170909 Orabuntu-LXC Multi-Host</code><br /><code>#    v6.0-AMIDE-beta    GLS 20180106 Orabuntu-LXC AmazonS3 Multi-Host Docker Enterprise Edition (AMIDE)</code><br /><br /><code>#    Note that this software builds a containerized DNS DHCP solution (bind9 / isc-dhcp-server).</code><br /><code>#    The nameserver should NOT be the name of an EXISTING nameserver but an arbitrary name because this software is CREATING a new LXC-containerized nameserver.</code><br /><code>#    The domain names can be arbitrary fictional names or they can be a domain that you actually own and operate.</code><br /><code>#    There are two domains and two networks because the "seed" LXC containers are on a separate network from the production LXC containers.</code><br /><code>#    If the domain is an actual domain, you will need to change the subnet using the subnets feature of Orabuntu-LXC</code><br /><code>#</code><br /><code>#    You can change the name of the username in this script from 'ubuntu' to whatever username is preferred.</code><br /><br /><code>genpasswd() {</code><br /><code>        local l=$1</code><br /><code>        [ "$l" == "" ] &amp;&amp; l=8</code><br /><code>        tr -dc A-Za-z0-9_ &lt; /dev/urandom | head -c ${l} | xargs</code><br /><code>}</code><br /><code>password=$(genpasswd)</code><br /><code>echo $password &gt; ../installs/logs/orabuntu-password.txt</code><br /><br /><code>USERNAME=orabuntu</code><br /><code>PASSWORD=orabuntu</code><br /><code># PASSWORD=$password</code><br /><br /><code>sudo useradd -m -p $(openssl passwd -1 ${PASSWORD}) -s /bin/bash -G wheel ${USERNAME}</code><br /><code>sudo mkdir -p  /home/${USERNAME}/Downloads /home/${USERNAME}/Manage-Orabuntu</code><br /><code>sudo chown ${USERNAME}:${USERNAME} /home/${USERNAME}/Downloads /home/${USERNAME}/Manage-Orabuntu<br /><br /></code><code>[ec2-user@ip-10-0-134-13 uekulele]$ <b>./uekulele-services-0.sh</b></code><br /><code>[ec2-user@ip-10-0-134-13 uekulele]$ <b>cd ../..</b></code><br /><code>[ec2-user@ip-10-0-134-13 ~]$ <b>ls -lrt</b></code><br /><code>total 568</code><br /><code>drwxrwxr-x. 7 ec2-user ec2-user    149 Apr 25 22:17 orabuntu-lxc-6.11.3-beta</code><br /><code>-rw-rw-r--. 1 ec2-user ec2-user 577989 May 15 17:32 6.11.3-beta.zip</code><br /><code>[ec2-user@ip-10-0-134-13 ~]$ <b>rm -rf orabuntu-lxc-6.11.3-beta/ 6.11.3-beta.zip </b></code><br /><code>[ec2-user@ip-10-0-134-13 ~]$ <b>sudo su - orabuntu</b></code><br /><code>[orabuntu@ip-10-0-134-13 ~]$ </code></font></div><h4><a name="TOC-Download-the-Orabuntu-LXC-Software-orabuntu-user-"></a>Download the Orabuntu-LXC Software (orabuntu user)<br /></h4><p><font size="3">Download the Orabuntu-LXC software and unzip it in the home directory of the orabuntu user while connected as the orabuntu user and then navigate to the "anylinux" directory, as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><code>[orabuntu@ip-10-0-134-13 ~]$ <b>wget https://github.com/gstanden/orabuntu-lxc/archive/6.11.3-beta.zip<br /><br /></b></code><code>--2018-05-15 17:42:27--  https://github.com/gstanden/orabuntu-lxc/archive/6.11.3-beta.zip</code><br /><code>Resolving github.com (github.com)... 192.30.253.113, 192.30.253.112</code><br /><code>Connecting to github.com (github.com)|192.30.253.113|:443... connected.</code><br /><code>HTTP request sent, awaiting response... 302 Found</code><br /><code>Location: https://codeload.github.com/gstanden/orabuntu-lxc/zip/6.11.3-beta [following]</code><br /><code>--2018-05-15 17:42:27--  https://codeload.github.com/gstanden/orabuntu-lxc/zip/6.11.3-beta</code><br /><code>Resolving codeload.github.com (codeload.github.com)... 192.30.253.121, 192.30.253.120</code><br /><code>Connecting to codeload.github.com (codeload.github.com)|192.30.253.121|:443... connected.</code><br /><code>HTTP request sent, awaiting response... 200 OK</code><br /><code>Length: 577989 (564K) [application/zip]</code><br /><code>Saving to: ‘6.11.3-beta.zip’</code><br /><br /><code>100%[===========================================================================================================================================================================================&gt;] 577,989     --.-K/s   in 0.02s   </code><br /><br /><code>2018-05-15 17:42:27 (27.4 MB/s) - ‘6.11.3-beta.zip’ saved [577989/577989]</code><br /><br /><code>[orabuntu@ip-10-0-134-13 ~]$ <b>unzip 6.11.3-beta.zip <br /><br /></b></code><code>Archive:  6.11.3-beta.zip</code><br /><code>339e1dee1561e4012858e18c600a3d6e805e3bc9</code><br /><code>   creating: orabuntu-lxc-6.11.3-beta/</code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/COPYING  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/GNU3  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/README.md  </code><br /><code>   creating: orabuntu-lxc-6.11.3-beta/anylinux/</code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/anylinux/COPYING  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/anylinux/GNU3  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/anylinux/anylinux-services-0.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/anylinux/anylinux-services-1.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/anylinux/anylinux-services.ADD.CLONES.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/anylinux/anylinux-services.ADD.RELEASE.ON.GRE.HOST.1420.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/anylinux/anylinux-services.ADD.RELEASE.ON.HUB.HOST.1500.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/anylinux/anylinux-services.GRE.HOST.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/anylinux/anylinux-services.HUB.HOST.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/anylinux/anylinux-services.VM.ON.GRE.HOST.1420.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/anylinux/anylinux-services.VM.ON.HUB.HOST.1500.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/anylinux/anylinux-services.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/anylinux/anylinux.lst  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/anylinux/dnf2yum  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/anylinux/vercomp  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/description  </code><br /><code>   creating: orabuntu-lxc-6.11.3-beta/installs/</code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/installs/COPYING  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/installs/GNU3  </code><br /><code>   creating: orabuntu-lxc-6.11.3-beta/installs/logs/</code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/installs/logs/COPYING  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/installs/logs/GNU3  </code><br /><code>   creating: orabuntu-lxc-6.11.3-beta/orabuntu/</code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/COPYING  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/GNU3  </code><br /><code>   creating: orabuntu-lxc-6.11.3-beta/orabuntu/archives/</code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/archives/COPYING  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/archives/GNU3  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/archives/dns-dhcp-cont.lst  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/archives/dns-dhcp-cont.tar  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/archives/dns-dhcp-host.lst  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/archives/dns-dhcp-host.tar  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/archives/docker_install_orabuntu.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/archives/file-exceptions.txt  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/archives/lxc-oracle-files.lst  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/archives/lxc-oracle-files.tar  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/archives/nameserver_copy.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/archives/scst-files.lst  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/archives/scst-files.tar  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/archives/tgt-files.lst  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/archives/tgt-files.tar  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/archives/ubuntu-host.lst  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/archives/ubuntu-host.tar  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/orabuntu-services-0.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/orabuntu-services-1.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/orabuntu-services-2.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/orabuntu-services-3.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/orabuntu-services-4.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/orabuntu/orabuntu-services-5.sh  </code><br /><code>   creating: orabuntu-lxc-6.11.3-beta/products/</code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/products/no-product  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/products/no-product.lst  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/products/no-product.tar  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/products/oracle-db  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/products/oracle-db.lst  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/products/oracle-db.tar  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/products/workspaces  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/products/workspaces.lst  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/products/workspaces.tar  </code><br /><code>   creating: orabuntu-lxc-6.11.3-beta/uekulele/</code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/COPYING  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/GNU3  </code><br /><code>   creating: orabuntu-lxc-6.11.3-beta/uekulele/archives/</code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/archives/COPYING  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/archives/GNU3  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/archives/dns-dhcp-cont.lst  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/archives/dns-dhcp-cont.tar  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/archives/dns-dhcp-host.lst  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/archives/dns-dhcp-host.tar  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/archives/docker_install_uekulele.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/archives/file-exceptions.txt  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/archives/lxc-oracle-files.lst  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/archives/lxc-oracle-files.tar  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/archives/nameserver_copy.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/archives/scst-files.lst  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/archives/scst-files.tar  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/archives/tgt-files.lst  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/archives/tgt-files.tar  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/archives/ubuntu-host.lst  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/archives/ubuntu-host.tar  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/uekulele-services-0.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/uekulele-services-1.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/uekulele-services-2.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/uekulele-services-3.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/uekulele-services-4.sh  </code><br /><code>  inflating: orabuntu-lxc-6.11.3-beta/uekulele/uekulele-services-5.sh <br /> </code><br /><code>[orabuntu@ip-10-0-134-13 ~]$ <b>cd orabuntu-lxc-6.11.3-beta/anylinux/<br /><br /></b></code><code>[orabuntu@ip-10-0-134-13 anylinux]$ </code></div><h3><a name="TOC-Configure-Orabuntu-LXC"></a>Configure Orabuntu-LXC</h3><p><font size="3">Orabuntu-LXC is highly-flexible configurable software.  The configurations are done primarily in the file "anylinux-services.sh".  In the anylinux-services.sh file there are three groups of parameter setting areas identified by "pgroup1, pgroup2, pgroup3".  The settings that will be used for this installation are shown below.</font></p><h4><a name="TOC-Configure-pgroup1"></a><font size="3">Configure pgroup1</font></h4><p>The pgroup1 settings configure the subnets that the OpenvSwitches will use.  Any vaild routable or non-routable subnet combos can be used but there are some caveats:  <br /></p><ul><li>Not all possible subnet combinations have been tested</li><li>LAN internal private network deployments typically should use only non-routable <a href="https://en.wikipedia.org/wiki/Private_network" target="_blank" rel="nofollow">private network</a> subnet ranges.</li><li>Public-facing WAN deployments should typically use ONLY subnets associated with domains that are OWNED BY YOU or your organization</li><li>Using routable subnets and domains that you do NOT own could have unexpected results and is strongly discouraged<br /></li><li>The SeedNet1 and BaseNet1 are the main networks that are used by the Orabuntu-LXC deployer</li><li>The ExtrNets are not used by Orabuntu-LXC but are deployed to provide out-of-the-box extra networks if needed.</li><li>The ExtrNets can be easily re-assigned to other networks after install with just a change to a single config file</li></ul><p>Typical pgroup1 settings in the anylinux-services.sh file are shown below.  The Seed and Base nets are the main setting here.  The StorNets and ExtrNets can be left as is or optionally also set to custom subnet ranges.<br /></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code># pgroup1 begin</code><br /><code># user-settable parameters group 1 begin</code><br /><code># set the values for the subnet triplets (e.g. 172.29.108)</code><br /><br /><code>    SeedNet1='SeedNet1Fwd:<b>172.27.109</b>'   </code><br /><code>    BaseNet1='BaseNet1Fwd:<b>10.205.49</b>'    </code><br /><code>    StorNet1='StorNet1Fwd:10.210.107'  </code><br /><code>    StorNet2='StorNet2Fwd:10.211.107'  </code><br /><br /><code>    ExtrNet1='172.26.11'            </code><br /><code>    ExtrNet2='172.27.11'            </code><br /><code>    ExtrNet3='192.168.19'           </code><br /><code>    ExtrNet4='192.168.20'            </code><br /><code>    ExtrNet5='192.168.21'            </code><br /><code>    ExtrNet6='192.168.22'            </code><br /><br /><code># pgroup1 end</code></font></div><h4><a name="TOC-Configure-pgroup2"></a>Configure pgroup2</h4><p><font size="3">The pgroup2 settings configure the version of Oracle Linux LXC Linux container that will be deployed (MajorRelease and MinorRelease), the number of LXC Linux containers that will be cloned and created (NumCon), and the domains for the production network and the seed network (Domain1 and Domain2 variables, respectively).  As before with pgroup1, there are some caveats:</font></p><p><b><font size="3">Any domain name can be used:</font></b></p><ul><li><font size="3"> Domain1=getblackberry.com (owned by you or your organization)<br /></font></li><li><font size="3">Domain2=urdomain2.com (available, not owned by anybody or any organization yet)</font></li></ul><p><font size="3">Deployments whether on LAN or WAN should typically use only domains owned by your or your organization, or that are available and not owned by any entity yet.  However, the software will install with any provided domain.  Under some circumstances for certain types of customer demos with the permission of the person or persons who are the <a href="https://whois.icann.org/en/lookup?name=available.com" target="_blank" rel="nofollow">authorized domain contact</a> or there established delegate for that entity domain owner it would be ok under those circumstances to use that domain name.</font></p><p><font size="3">For Blackberry Workspaces it is advisable to use an owned domain name, not an available name.  This is because the SMTP server will send out account activation emails for Blackberry Workspaces and if the domain is an available non-owned domain, the SMTP email server of your broadband host will likely reject Blackberry Workspaces activation emails from your internal SMTP relay due to the domain not being a valid domain lookup.<br /></font></p><p><b><font size="3">Releases of Oracle Linux 5, 6 and 7 can be configured for the LXC container version, for example:</font></b></p><ul><li><font size="3">MajorRelease=6</font></li><li><font size="3">PointRelease=6</font></li></ul><p><font size="3">will deploy a seed container of Oracle Linux 6.6.<br /></font></p><p><font size="3"><b>The parameter NumCon determines the number of identical Oracle Linux clones that will be created from the LXC seed container.  </b><br /></font></p><p><font size="3">For example, a NumCon setting of "3" would create 3 Oracle Linux 6.6 LXC Linux Containers on an Orabuntu-LXC blackberry.com private LAN from the Oracle Linux 6.6 LXC Linux container on the Orabuntu-LXC watchdoxc.com private LAN.  In this case, watchdoxc.com is an available domain not owned by anybody or any organization yet.<br /></font></p><p><font size="3">Typical pgroup2 settings are shown below.  The <b>bolded</b> lines are where the values are set.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code># pgroup2 begin</code><br /><code># user-settable parameters group 2 begin</code><br /><code># set the value between 'then' and 'fi'</code><br /><br /><code>    MajorRelease=$8</code><br /><code>    if [ -z $8 ]</code><br /><code>    then</code><br /><code>        <b>MajorRelease=6</b></code><br /><code>    fi</code><br /><code>    # echo 'Oracle Container Release  = '$MajorRelease</code><br /><br /><code>    PointRelease=$2</code><br /><code>    if [ -z $2 ]</code><br /><code>    then</code><br /><code>        <b>PointRelease=6</b></code><br /><code>    fi</code><br /><code>    echo 'Oracle Container Version  = '$MajorRelease.$PointRelease</code><br /><br /><code>    NumCon=$3</code><br /><code>    if [ -z $3 ]</code><br /><code>    then</code><br /><code>        <b>NumCon=4</b></code><br /><code>    fi</code><br /><code>    echo 'Oracle Container Count    = '$NumCon</code><br /><br /><code>    Domain1=$4</code><br /><code>    if [ -z $4 ]</code><br /><code>    then</code><br /><code>        <b>Domain1=getblackberry.com</b></code><br /><code>    fi</code><br /><code>    echo 'Domain1                   = '$Domain1</code><br /><br /><code>    Domain2=$5</code><br /><code>    if [ -z $5 ]</code><br /><code>    then</code><br /><code>        <b>Domain2=urdomain2.com</b></code><br /><code>    fi</code><br /><code>    echo 'Domain2                   = '$Domain2</code><br /><br /><code>    NameServer=$6</code><br /><code>    if [ -z $6 ]</code><br /><code>--</code><br /><code># pgroup2 end</code><br /><code># user-settable parameters group 2 end</code></font></font></div></div><h4><a name="TOC-Configure-pgroup3"></a>Configure pgroup3</h4><p><font size="3">The last group to configure is pgroup3.  This is where available versions of LXC and OpenSwitch are set.  Not all versions of OpenvSwitch and/or LXC are supported for all Linux distros that Orabuntu-LXC supports.  From the below logic it can be seen that Orabuntu-LXC supports only LXC 2.0.9 for Fedora 27.  This is because the source build capability for LXC for Fedora 27 has not yet been coded into Orabuntu-LXC so it only supports the package repo version of LXC for Fedora 27 which happens to be LXC 2.0.9 which is the terminal release of the 2.0.x LXC series.<br /></font></p><p><font size="3">For distros other than Fedora that are supported by Orabuntu-LXC (Ubuntu, CentOS, RedHat, and Oracle Linux) any LXC version can be used, and most* OpenvSwitch versions can be used, although there is some issue with the source build for OpenvSwitch 2.8.0+ that has not yet been addressed in the build-from-source functionality in Orabuntu-LXC.</font></p><p><font size="3">For a first run, the below settings are good. <br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code># pgroup3 begin</code><br /><code># user-settable parameter group 3 begin</code><br /><code># set the value between 'then' and 'fi'</code><br /><br /><code>    LxcOvsVersion=$9</code><br /><code>    if [ -z $9 ] &amp;&amp; [ $LinuxFlavor != 'Fedora' ]</code><br /><code>    then</code><br /><code>                    <b>LxcOvsVersion="2.1.1:2.5.4"</b></code><br /><code>    fi</code><br /><br /><code>    # Fedora MUST leave Lxc version at 2.0.9 but can change Ovs version.</code><br /><br /><code>    if [ -z $9 ] &amp;&amp; [ $LinuxFlavor = 'Fedora' ]</code><br /><code>    then</code><br /><code>        if [ $RedHatVersion -eq 27 ]</code><br /><code>        then</code><br /><code>            LxcOvsVersion="2.0.9:2.5.4"  # Do NOT change 2.0.9 version of LXC here.  Must use 2.0.9 for now.</code><br /><code>        fi</code><br /><code>    fi</code><br /><br /><code># pgroup3 end</code></font></font><br /></div><h3><a name="TOC-Install-Orabuntu-LXC1"></a>Install Orabuntu-LXC</h3><p><font size="3">The Orabuntu-LXC installer is run on the first Orabuntu-LXC host as shown below.  The entire installation is automated.   The first install is always a "HUB" host.  The "anylinux" directories has scripts that are used to launch other install cases, such as GRE-connected physical hosts and VM's on either HUB or GRE hosts.  Note that an active WAN internet connection is required for the install.  The software will check this as a pre-requisite.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><code>[orabuntu@ip-10-0-134-13 anylinux]$<b> pwd<br /></b>/home/orabuntu/orabuntu-lxc-6.11.3-beta/anylinux<b><br /><br /></b>[orabuntu@ip-10-0-134-13 anylinux]$ <b>./anylinux-services.HUB.HOST.sh new<br /><br /></b></code></font></div><h3><a name="TOC-Display-LXC-Linux-Containers"></a>Display LXC Linux Containers</h3><p>After the install, display the status of the Orabuntu-LXC Linux containers as shown below when the Orabuntu-LXC installer is complete.<br /></p><div class="sites-codeblock sites-codesnippet-block"><code>==============================================<br />Orabuntu-LXC for RedHat Linux 7 complete.    <br />==============================================<br /><br />[orabuntu@ip-10-0-134-13 anylinux]$ <b>sudo lxc-ls -f</b><br />NAME       STATE   AUTOSTART GROUPS IPV4                      IPV6 <br />afns1      RUNNING 0         -      10.205.49.2, 172.27.109.2 -    <br />afns1-base STOPPED 0         -      -                         -    <br />oel66c10   RUNNING 0         -      172.27.109.10             -    <br />ora66c10   RUNNING 0         -      10.205.49.10              -    <br />ora66c11   RUNNING 0         -      10.205.49.11              -    <br />ora66c12   RUNNING 0         -      10.205.49.12              -    <br />ora66c13   RUNNING 0         -      10.205.49.13              -    <br />[orabuntu@ip-10-0-134-13 anylinux]$ <br /></code></div></div><div><div><h3><a name="TOC-Install-Package:-wget"></a>Install Package: wget</h3><p><font size="3">Check all four containers to be sure the package "wget" is installed, and if not installed, install it, as shown below, for each container (ora66c10, ora66c11, ora66c12, ora66c13).</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><code>[orabuntu@ip-10-0-134-13 anylinux]$ <b>sudo lxc-attach -n ora66c10</b></code><br /><code>[root@ora66c10 /]# <b>cd /opt/watchdox/upgrade/</b></code><br /><code>[root@ora66c10 upgrade]# <b>yum -y install wget</b></code><br /><code>Loaded plugins: lxc-patch</code><br /><code>Setting up Install Process</code><br /><code>Resolving Dependencies</code><br /><code>--&gt; Running transaction check</code><br /><code>---&gt; Package wget.x86_64 0:1.12-5.el6 will be installed</code><br /><code>--&gt; Finished Dependency Resolution</code><br /><br /><code>Dependencies Resolved</code><br /><br /><code>==============================================================================================================================================================================================================================================</code><br /><code> Package                                               Arch                                                    Version                                                     Repository                                                    Size</code><br /><code>==============================================================================================================================================================================================================================================</code><br /><code>Installing:</code><br /><code> wget                                                  x86_64                                                  1.12-5.el6                                                  ol6_u6_base                                                  482 k</code><br /><br /><code>Transaction Summary</code><br /><code>==============================================================================================================================================================================================================================================</code><br /><code>Install       1 Package(s)</code><br /><br /><code>Total download size: 482 k</code><br /><code>Installed size: 1.8 M</code><br /><code>Downloading Packages:</code><br /><code>wget-1.12-5.el6.x86_64.rpm                                                                                                                                                                                             | 482 kB     00:00     </code><br /><code>Running rpm_check_debug</code><br /><code>Running Transaction Test</code><br /><code>Transaction Test Succeeded</code><br /><code>Running Transaction</code><br /><code>  Installing : wget-1.12-5.el6.x86_64                                                                                                                                                                                                     1/1 </code><br /><code>lxc-patch: checking if updated pkgs need patching...</code><br /><code>  Verifying  : wget-1.12-5.el6.x86_64                                                                                                                                                                                                     1/1 </code><br /><br /><code>Installed:</code><br /><code>  wget.x86_64 0:1.12-5.el6                                                                                                                                                                                                                    </code><br /><br /><code>Complete!</code><br /><code>[root@ora66c10 upgrade]# </code></font></div><h3><a name="TOC-5"></a><br /></h3><div><h3><a name="TOC-Configure-SCST-SAN-for-BlackBerry-Workspaces-Storage-LUNs"></a>Configure SCST SAN for BlackBerry Workspaces Storage LUNs</h3><div><font size="3">This is draft content that will be updated shortly, but this is the procedure to present xfs filesystem LUNs to the LXC Linux container ora66c11 which will be the "main1" server.</font><br /></div></div><div><br /></div><div><br /></div><div></div><div class="sites-codeblock sites-codesnippet-block"><div><br /></div><div><font size="3"><code>[ec2-user@ip-10-0-129-45 ~]$ sudo lxc-attach -n ora66c11</code><br /><code>[root@ora66c11 /]# df -TH</code><br /><code>Filesystem     Type   Size  Used Avail Use% Mounted on</code><br /><code>tmpfs          tmpfs  4.2G     0  4.2G   0% /dev/shm</code><br /><code>[root@ora66c11 /]# vi /etc/fstab</code><br /><code>[root@ora66c11 /]# exit</code><br /><code>exit</code><br /><code>[ec2-user@ip-10-0-129-45 ~]$ sudo lxc-stop -n ora66c11</code><br /><code>[ec2-user@ip-10-0-129-45 ~]$ cd /dev/wdx_luns</code><br /><code>[ec2-user@ip-10-0-129-45 wdx_luns]$ ls -lrt</code><br /><code>total 0</code><br /><code>brw-rw----. 1 watchdox watchdox 253, 1 May 28 18:16 wdx_data_1_00</code><br /><code>brw-rw----. 1 watchdox watchdox 253, 0 May 28 18:16 wdx_fspa_1_00</code><br /><code>brw-rw----. 1 watchdox watchdox 253, 2 May 28 18:16 wdx_fcac_1_00</code><br /><code>[ec2-user@ip-10-0-129-45 wdx_luns]$ sudo mkfs -t xfs -L lun0 wdx_data_1_00 -f</code><br /><code>meta-data=wdx_data_1_00          isize=512    agcount=4, agsize=65536 blks</code><br /><code>         =                       sectsz=4096  attr=2, projid32bit=1</code><br /><code>         =                       crc=1        finobt=0, sparse=0</code><br /><code>data     =                       bsize=4096   blocks=262144, imaxpct=25</code><br /><code>         =                       sunit=0      swidth=0 blks</code><br /><code>naming   =version 2              bsize=4096   ascii-ci=0 ftype=1</code><br /><code>log      =internal log           bsize=4096   blocks=2560, version=2</code><br /><code>         =                       sectsz=4096  sunit=1 blks, lazy-count=1</code><br /><code>realtime =none                   extsz=4096   blocks=0, rtextents=0</code><br /><code>[ec2-user@ip-10-0-129-45 wdx_luns]$ sudo mkfs -t xfs -L lun1 wdx_fspa_1_00 -f</code><br /><code>meta-data=wdx_fspa_1_00          isize=512    agcount=4, agsize=65536 blks</code><br /><code>         =                       sectsz=4096  attr=2, projid32bit=1</code><br /><code>         =                       crc=1        finobt=0, sparse=0</code><br /><code>data     =                       bsize=4096   blocks=262144, imaxpct=25</code><br /><code>         =                       sunit=0      swidth=0 blks</code><br /><code>naming   =version 2              bsize=4096   ascii-ci=0 ftype=1</code><br /><code>log      =internal log           bsize=4096   blocks=2560, version=2</code><br /><code>         =                       sectsz=4096  sunit=1 blks, lazy-count=1</code><br /><code>realtime =none                   extsz=4096   blocks=0, rtextents=0</code><br /><code>[ec2-user@ip-10-0-129-45 wdx_luns]$ sudo mkfs -t xfs -L lun2 wdx_fcac_1_00 -f</code><br /><code>meta-data=wdx_fcac_1_00          isize=512    agcount=4, agsize=65536 blks</code><br /><code>         =                       sectsz=4096  attr=2, projid32bit=1</code><br /><code>         =                       crc=1        finobt=0, sparse=0</code><br /><code>data     =                       bsize=4096   blocks=262144, imaxpct=25</code><br /><code>         =                       sunit=0      swidth=0 blks</code><br /><code>naming   =version 2              bsize=4096   ascii-ci=0 ftype=1</code><br /><code>log      =internal log           bsize=4096   blocks=2560, version=2</code><br /><code>         =                       sectsz=4096  sunit=1 blks, lazy-count=1</code><br /><code>realtime =none                   extsz=4096   blocks=0, rtextents=0</code><br /><code>[ec2-user@ip-10-0-129-45 wdx_luns]$ sudo su -</code><br /><code>Last login: Mon May 28 17:55:17 UTC 2018 on pts/1</code><br /><code>[root@ip-10-0-129-45 ~]# cd /var/lib/lxc/ora66c11</code><br /><code>[root@ip-10-0-129-45 ora66c11]# vi config</code><br /><code>[root@ip-10-0-129-45 ora66c11]# cat config</code><br /><code>#!/bin/bash</code><br /><code>#    Copyright 2015-2018 Gilbert Standen</code><br /><code>#    This file is part of Orabuntu-LXC.</code><br /><code>#    Orabuntu-LXC is free software: you can redistribute it and/or modify</code><br /><code>#    it under the terms of the GNU General Public License as published by</code><br /><code>#    the Free Software Foundation, either version 3 of the License, or</code><br /><code>#    (at your option) any later version.</code><br /><code>#    Orabuntu-LXC is distributed in the hope that it will be useful,</code><br /><code>#    but WITHOUT ANY WARRANTY; without even the implied warranty of</code><br /><code>#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</code><br /><code>#    GNU General Public License for more details.</code><br /><code>#    You should have received a copy of the GNU General Public License</code><br /><code>#    along with Orabuntu-LXC.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</code><br /><code>#    v2.4         GLS 20151224</code><br /><code>#    v2.8         GLS 20151231</code><br /><code>#    v3.0         GLS 20160710 Updates for Ubuntu 16.04</code><br /><code>#    v4.0         GLS 20161025 DNS DHCP services moved into an LXC container</code><br /><code>#    v5.0         GLS 20170909 Orabuntu-LXC Multi-Host</code><br /><code>#    v6.0-AMIDE-beta    GLS 20180106 Orabuntu-LXC AmazonS3 Multi-Host Docker Enterprise Edition (AMIDE)</code><br /><code>#    Note that this software builds a containerized DNS DHCP solution (bind9 / isc-dhcp-server).</code><br /><code>#    The nameserver should NOT be the name of an EXISTING nameserver but an arbitrary name because this software is CREATING a new LXC-containerized nameserver.</code><br /><code>#    The domain names can be arbitrary fictional names or they can be a domain that you actually own and operate.</code><br /><code>#    There are two domains and two networks because the "seed" LXC containers are on a separate network from the production LXC containers.</code><br /><code>#    If the domain is an actual domain, you will need to change the subnet using the subnets feature of Orabuntu-LXC</code><br /><code>#</code><br /><code># Template used to create this container: /usr/share/lxc/templates/lxc-oracle</code><br /><code># Parameters passed to the template:</code><br /><code># For additional config options, please look at lxc.container.conf(5)</code><br /><code># Networking</code><br /><code>lxc.network.type = veth</code><br /><code>lxc.network.flags = up</code><br /><code>lxc.network.script.up = /etc/network/if-up.d/openvswitch/ora66c11-pub-ifup-sw1</code><br /><code>lxc.network.script.down = /etc/network/if-down.d/openvswitch/ora66c11-pub-ifdown-sw1</code><br /><code>lxc.network.veth.pair = ora66c11</code><br /><code>lxc.network.name = eth0</code><br /><code>lxc.network.mtu = 1500</code><br /><code>lxc.network.hwaddr = 00:16:3e:f8:d3:5e</code><br /><code># Common configuration</code><br /><code>lxc.include = /usr/share/lxc/config/oracle.common.conf</code><br /><code># Container configuration for Oracle Linux 6.5</code><br /><code>lxc.arch = x86_64</code><br /><code>lxc.cap.drop = sys_resource</code><br /><code>lxc.cap.drop = setfcap setpcap</code><br /><code># Devices, Filesystems, Mounts</code><br /><code>lxc.cgroup.devices.allow = a # Allow access to all devices</code><br /><code>lxc.cgroup.devices.allow = a 10:236 rwm</code><br /><code>lxc.cgroup.devices.allow = a 252:* rwm</code><br /><code>lxc.cgroup.devices.allow = a 8:* rwm</code><br /><code># Uncomment when presenting LUNs to LXC container</code><br /><code>lxc.mount.entry = /dev/wdx_luns /var/lib/lxc/ora66c11/rootfs/dev/wdx_luns none defaults,bind,create=dir 0 0</code><br /><code>lxc.mount.entry = shm dev/shm tmpfs size=3500m,nosuid,nodev,noexec,create=dir 0 0</code><br /><code>lxc.mount.auto = proc sys cgroup</code><br /><code>lxc.mount.auto = proc:rw sys:rw cgroup-full:rw</code><br /><code>lxc.aa_allow_incomplete = 1</code><br /><code># Autostart at boot</code><br /><code># lxc.start.auto = 1</code><br /><code># lxc.group = onboot</code><br /><code>lxc.rootfs = /var/lib/lxc/ora66c11/rootfs</code><br /><code>lxc.rootfs.backend = dir</code><br /><code>lxc.utsname = ora66c11</code><br /><code>[root@ip-10-0-129-45 ora66c11]# exit</code><br /><code>logout</code><br /><code>[ec2-user@ip-10-0-129-45 wdx_luns]$ sudo lxc-attach -n ora66c11</code><br /><code>lxc-attach: attach.c: lxc_attach: 742 Failed to get init pid.</code><br /><code>                                                             [ec2-user@ip-10-0-129-45 wdx_luns]$ </code><br /><code>[ec2-user@ip-10-0-129-45 wdx_luns]$ sudo lxc-start -n ora66c11</code><br /><code>[ec2-user@ip-10-0-129-45 wdx_luns]$ sudo lxc-attach -n ora66c11</code><br /><code>[root@ora66c11 wdx_luns]# df -TH</code><br /><code>Filesystem           Type   Size  Used Avail Use% Mounted on</code><br /><code>tmpfs                tmpfs  4.2G     0  4.2G   0% /dev/shm</code><br /><code>/dev/wdx_luns/wdx_data_1_00</code><br /><code>                     xfs    1.1G   34M  1.1G   4% /mnt/database</code><br /><code>/dev/wdx_luns/wdx_fspa_1_00</code><br /><code>                     xfs    1.1G   34M  1.1G   4% /opt/watchdox/storage/filespace</code><br /><code>/dev/wdx_luns/wdx_fcac_1_00</code><br /><code>                     xfs    1.1G   34M  1.1G   4% /opt/watchdox/storage/fs_cache</code><br /><code>[root@ora66c11 wdx_luns]# cat /etc/fstab</code><br /><code>#!/bin/bash</code><br /><br /><code>#    Copyright 2015-2018 Gilbert Standen</code><br /><code>#    This file is part of Orabuntu-LXC.</code><br /><br /><code>#    Orabuntu-LXC is free software: you can redistribute it and/or modify</code><br /><code>#    it under the terms of the GNU General Public License as published by</code><br /><code>#    the Free Software Foundation, either version 3 of the License, or</code><br /><code>#    (at your option) any later version.</code><br /><br /><code>#    Orabuntu-LXC is distributed in the hope that it will be useful,</code><br /><code>#    but WITHOUT ANY WARRANTY; without even the implied warranty of</code><br /><code>#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</code><br /><code>#    GNU General Public License for more details.</code><br /><br /><code>#    You should have received a copy of the GNU General Public License</code><br /><code>#    along with Orabuntu-LXC.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</code><br /><br /><code>#    v2.4         GLS 20151224</code><br /><code>#    v2.8         GLS 20151231</code><br /><code>#    v3.0         GLS 20160710 Updates for Ubuntu 16.04</code><br /><code>#    v4.0         GLS 20161025 DNS DHCP services moved into an LXC container</code><br /><code>#    v5.0         GLS 20170909 Orabuntu-LXC Multi-Host</code><br /><code>#    v6.0-AMIDE-beta    GLS 20180106 Orabuntu-LXC AmazonS3 Multi-Host Docker Enterprise Edition (AMIDE)</code><br /><br /><code>#    Note that this software builds a containerized DNS DHCP solution (bind9 / isc-dhcp-server).</code><br /><code>#    The nameserver should NOT be the name of an EXISTING nameserver but an arbitrary name because this software is CREATING a new LXC-containerized nameserver.</code><br /><code>#    The domain names can be arbitrary fictional names or they can be a domain that you actually own and operate.</code><br /><code>#    There are two domains and two networks because the "seed" LXC containers are on a separate network from the production LXC containers.</code><br /><code>#    If the domain is an actual domain, you will need to change the subnet using the subnets feature of Orabuntu-LXC</code><br /><code>#</code><br /><code>tmpfs                            /dev/shm                        tmpfs   rw,exec,size=3500m      0 0</code><br /><code>/dev/wdx_luns/wdx_data_1_00      /mnt/database                   xfs     defaults                0 0   </code><br /><code>/dev/wdx_luns/wdx_fspa_1_00      /opt/watchdox/storage/filespace xfs     defaults                0 0</code><br /><code>/dev/wdx_luns/wdx_fcac_1_00      /opt/watchdox/storage/fs_cache  xfs     defaults                0 0 </code><br /><code>[root@ora66c11 wdx_luns]#</code></font></div></div> <br /><h3><a name="TOC-6"></a><br /></h3><h3><a name="TOC-Download-Blackberry-Workspaces-Install-Media"></a>Download Blackberry Workspaces Install Media</h3><p><font size="3">Make the Blackberry Workspaces media available on the ora66c10 Linux container in the /opt/watchdox/upgrade directory</font><br /></p><h3><a name="TOC-Untar-Install-Media"></a>Untar Install Media</h3><p>Untar the install media as shown below.  Output redacted for brevity.<br /></p><div class="sites-codeblock sites-codesnippet-block"><code>[root@ora66c10 upgrade]# tar -xzvf watchdox-cm-v1.12.1-20171114-6757-5e8c6fc.tgz </code><code><br />.<br />.<br />.<br />watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/base/deploy/highstate.yaml<br />watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/base/deploy/highstate-config.yaml<br />watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/base/deploy/states_by_type.txt<br />[root@ora66c10 upgrade]# <br /> </code></div></div><div><h3><a name="TOC-Verify-Python-Version-in-LXC-Container"></a>Verify Python Version in LXC Container</h3><p>The python version must be 2.6.x (2.7.x will not work).  Many of the Oracle Linux LXC templates version 6.x have python 2.6.6 as the default version which works with Blackberry Workspaces.<br /></p></div><div class="sites-codeblock sites-codesnippet-block"><code>[root@ora66c10 upgrade]# python --version<br />Python 2.6.6<br />[root@ora66c10 upgrade]# <br /></code></div><h3><a name="TOC-Run-Blackberry-Workspaces-Installer"></a>Run Blackberry Workspaces Installer</h3><p><font size="3">Run the workspaces installer as shown below.  Output redacted for brevity.</font><br /></p><div class="sites-codeblock sites-codesnippet-block"><code><br />[root@ora66c10 upgrade]# <b>python /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/salt-master/bootstrap.py </b><br />15-05-2018 07:40:45 [appliancex-install] INFO: ######## start bootstrap salt-master ########<br />15-05-2018 07:40:45 [appliancex-install] INFO: installing mandatory rpms<br />15-05-2018 07:40:45 [appliancex-install] INFO: creating temp yum repository<br />15-05-2018 07:40:45 [appliancex-install] INFO: Running shell command:<br />['which', 'createrepo']<br />15-05-2018 07:40:45 [appliancex-install] INFO: Result:<br />{<br />    "exit": 0, <br />    "err": [], <br />    "out": [<br />        "/usr/bin/createrepo"<br />    ]<br />}<br />15-05-2018 07:40:45 [appliancex-install] INFO: Running shell command:<br />['which', 'salt-master']<br />15-05-2018 07:40:45 [appliancex-install] INFO: Result:<br />{<br />    "exit": 1, <br />    "err": [<br />        "which: no salt-master in (/sbin:/bin:/usr/sbin:/usr/bin)"<br />    ], <br />    "out": []<br />}<br />15-05-2018 07:40:45 [appliancex-install] ERROR: Failed to execute ['which', 'salt-master']<br />Result:<br />{'exit': 1, 'err': ['which: no salt-master in (/sbin:/bin:/usr/sbin:/usr/bin)'], 'out': []}<br />15-05-2018 07:40:45 [appliancex-install] INFO: Running shell command:<br />['yum', '-y', '--disablerepo=\\*', 'install', '/opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/python-urlgrabber-3.9.1-11.el6.noarch.rpm', '/opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/yum-plugin-fastestmirror-1.1.30-40.el6.noarch.rpm', '/opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/yum-3.2.29-81.el6.centos.noarch.rpm', '/opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/yum-utils-1.1.30-40.el6.noarch.rpm']<br />15-05-2018 07:40:47 [appliancex-install] INFO: Result:<br />{<br />    "exit": 0, <br />    "err": [], <br />    "out": [<br />        "Loaded plugins: lxc-patch", <br />        "Setting up Install Process", <br />        "Examining /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/python-urlgrabber-3.9.1-11.el6.noarch.rpm: python-urlgrabber-3.9.1-11.el6.noarch", <br />        "Marking /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/python-urlgrabber-3.9.1-11.el6.noarch.rpm as an update to python-urlgrabber-3.9.1-9.0.1.el6.noarch", <br />        "Examining /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/yum-plugin-fastestmirror-1.1.30-40.el6.noarch.rpm: yum-plugin-fastestmirror-1.1.30-40.el6.noarch", <br />        "Marking /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/yum-plugin-fastestmirror-1.1.30-40.el6.noarch.rpm to be installed", <br />        "Examining /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/yum-3.2.29-81.el6.centos.noarch.rpm: yum-3.2.29-81.el6.centos.noarch", <br />        "Marking /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/yum-3.2.29-81.el6.centos.noarch.rpm as an update to yum-3.2.29-60.0.1.el6.noarch", <br />        "Examining /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/yum-utils-1.1.30-40.el6.noarch.rpm: yum-utils-1.1.30-40.el6.noarch", <br />        "Marking /opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms/yum-utils-1.1.30-40.el6.noarch.rpm to be installed", <br />        "Resolving Dependencies", <br />        "--&gt; Running transaction check", <br />        "---&gt; Package python-urlgrabber.noarch 0:3.9.1-9.0.1.el6 will be updated", <br />        "---&gt; Package python-urlgrabber.noarch 0:3.9.1-11.el6 will be an update", <br />        "---&gt; Package yum.noarch 0:3.2.29-60.0.1.el6 will be updated", <br />        "---&gt; Package yum.noarch 0:3.2.29-81.el6.centos will be an update", <br />        "---&gt; Package yum-plugin-fastestmirror.noarch 0:1.1.30-40.el6 will be installed", <br />        "---&gt; Package yum-utils.noarch 0:1.1.30-40.el6 will be installed", <br />        "--&gt; Finished Dependency Resolution", <br />        "", <br />        "Dependencies Resolved", <br />        "", <br />        "================================================================================", <br />        " Package", <br />        "     Arch   Version        Repository                                      Size", <br />        "================================================================================", <br />        "Installing:", <br />        " yum-plugin-fastestmirror", <br />        "     noarch 1.1.30-40.el6  /yum-plugin-fastestmirror-1.1.30-40.el6.noarch  53 k", <br />        " yum-utils", <br />        "     noarch 1.1.30-40.el6  /yum-utils-1.1.30-40.el6.noarch                308 k", <br />        "Updating:", <br />        " python-urlgrabber", <br />        "     noarch 3.9.1-11.el6   /python-urlgrabber-3.9.1-11.el6.noarch         316 k", <br />        " yum noarch 3.2.29-81.el6.centos", <br />        "                           /yum-3.2.29-81.el6.centos.noarch               4.6 M", <br />        "", <br />        "Transaction Summary", <br />        "================================================================================", <br />        "Install       2 Package(s)", <br />        "Upgrade       2 Package(s)", <br />        "", <br />        "Total size: 5.3 M", <br />        "Downloading Packages:", <br />        "Running rpm_check_debug", <br />        "Running Transaction Test", <br />        "Transaction Test Succeeded", <br />        "Running Transaction", <br />        "", <br />        "  Updating   : python-urlgrabber-3.9.1-11.el6.noarch                        1/6 ", <br />        "", <br />        "  Updating   : yum-3.2.29-81.el6.centos.noarch                              2/6 ", <br />        "", <br />        "  Installing : yum-plugin-fastestmirror-1.1.30-40.el6.noarch                3/6 ", <br />        "", <br />        "  Installing : yum-utils-1.1.30-40.el6.noarch                               4/6 ", <br />        "", <br />        "  Cleanup    : yum-3.2.29-60.0.1.el6.noarch                                 5/6 ", <br />        "", <br />        "  Cleanup    : python-urlgrabber-3.9.1-9.0.1.el6.noarch                     6/6 ", <br />        "lxc-patch: checking if updated pkgs need patching...", <br />        "", <br />        "  Verifying  : yum-plugin-fastestmirror-1.1.30-40.el6.noarch                1/6 ", <br />        "", <br />        "  Verifying  : yum-utils-1.1.30-40.el6.noarch                               2/6 ", <br />        "", <br />        "  Verifying  : yum-3.2.29-81.el6.centos.noarch                              3/6 ", <br />        "", <br />        "  Verifying  : python-urlgrabber-3.9.1-11.el6.noarch                        4/6 ", <br />        "", <br />        "  Verifying  : python-urlgrabber-3.9.1-9.0.1.el6.noarch                     5/6 ", <br />        "", <br />        "  Verifying  : yum-3.2.29-60.0.1.el6.noarch                                 6/6 ", <br />        "", <br />        "Installed:", <br />        "  yum-plugin-fastestmirror.noarch 0:1.1.30-40.el6                               ", <br />        "  yum-utils.noarch 0:1.1.30-40.el6                                              ", <br />        "", <br />        "Updated:", <br />        "  python-urlgrabber.noarch 0:3.9.1-11.el6   yum.noarch 0:3.2.29-81.el6.centos  ", <br />        "", <br />        "Complete!"<br />    ]<br />}<br />15-05-2018 07:40:47 [appliancex-install] INFO: Running shell command:<br />['createrepo', '--update', '/opt/watchdox/upgrade/watchdox-cm-v1.12.1-20171114-6757-5e8c6fc/global/pkg/rpms']<br />15-05-2018 07:40:55 [appliancex-install] INFO: Result:<br />.<br />.<br />.<br />['salt-call', 'pillar.get', 'keys-dec:appliancex-ui']<br />15-05-2018 07:50:44 [appliancex-install] INFO: Result:<br />{<br />    "exit": 0, <br />    "err": [], <br />    "out": [<br />        "local:", <br />        "    <b>062105a72a</b>"<br />    ]<br />}<br />[root@ora66c10 upgrade]# <br /><br /></code></div><div><h3><a name="TOC-Set-Port-Forward-Rule-on-EC2-if-on-AWS"></a>Set Port Forward Rule on EC2 if on AWS</h3><p>If running on AWS cloud a port forward rule will be needed to access the UI installer at port 5000 running inside an LXC container from the external internet, as well as a port forward for port 443 SSL connections to the Blackberry Workspaces frontend1 LXC container.  This reference was very helpful from <a href="https://blog.mudy.info/2010/07/linux-container-on-amazon-ec2-server/" target="_blank" rel="nofollow">Mudy's Blog</a>and also this reference here from <a href="http://lubos.rendek.org/remove-all-iptables-prerouting-nat-rules/" target="_blank" rel="nofollow">Lubos Rendek</a>. <br /></p><p>To Flush iptables PREROUTING chains cannot be achieved by -F iptables 
option. To remove PREROUTING nat rules from you system first display all
 PREROUTING chains using a following iptables command:

</p><div><table><tbody><tr><td><pre><span>1</span></pre></td><td><pre><code><span>iptables -t nat --line-numbers -L</span></code></pre></td></tr></tbody></table></div>
<p>As you can see the above command will display all PREROUTING chains 
with relevant line numbers. Next, we can use these line numbers to 
remove all PREROUTING chains one by one. For example to remove 
PREROUTING chain with line number 6 we can do:</p>
<div><table><tbody><tr><td><pre><span>1</span>
</pre></td><td><pre><code><span>iptables -t nat -D PREROUTING 6</span></code></pre></td></tr></tbody></table></div>
<p>In case that you wish to remove all PREROUTING chains with a single command you can try the following command chaining example:</p>
<table><tbody><tr><td><pre><span>1</span>
</pre></td><td><pre><code><span>for i in $( iptables -t nat --line-numbers -L | grep ^[0-9] | awk '{ print $1 }' | tac ); do iptables -t nat -D PREROUTING $i; done</span></code></pre></td></tr></tbody></table><p><br /></p><p>Create a systemd service on the Linux Red Hat 7 EC2 host instance to provide the required port forwards persistent across reboots as shown below.</p><p>[ Note:  If EC2 instance is Ubuntu 16.04, then the full path to sudo will be "/usr/bin/sudo" ].<br /></p><div class="sites-codeblock sites-codesnippet-block"><code>[ec2-user@ip-10-0-134-13 ~]$ <b>sudo su -</b></code><br /><code>Last login: Tue May 15 20:00:51 UTC 2018 on pts/8</code><br /><code>[root@ip-10-0-134-13 ~]# </code><br /><code>[root@ip-10-0-134-13 system]# <b>cat workspaces-ports.service <br /><br /></b></code><code>[Unit]</code><br /><code>Description=workspaces-ports Service</code><br /><code>Wants=network-online.target sw1.service sx1.service</code><br /><code>After=network-online.target sw1.service sx1.service</code><br /><br /><code>[Service]</code><br /><code>Type=idle</code><br /><code>User=root</code><br /><code>RemainAfterExit=yes</code><br /><code>ExecStartPre=/bin/sudo /sbin/iptables -t nat -A PREROUTING -i eth0 -p tcp --dport 443  -j DNAT --to-destination 10.205.49.13</code><br /><code>ExecStartPre=/bin/sudo /sbin/iptables -t nat -A PREROUTING -i eth0 -p tcp --dport 5000 -j DNAT --to-destination 10.205.49.10</code><br /><code>ExecStart=/sbin/iptables -t nat --line-numbers -L</code><br /><code>ExecStopPost=/sbin/iptables -t nat -D PREROUTING 1</code><br /><code>ExecStopPost=/sbin/iptables -t nat -D PREROUTING 1</code><br /><code>ExecStop=/sbin/iptables -t nat --line-numbers -L</code><br /><br /><code>[Install]</code><br /><code>WantedBy=multi-user.target</code><br /><br /><code>[root@ip-10-0-134-13 system]# <b>systemctl enable workspaces-ports.service </b></code><br /><code>Created symlink from /etc/systemd/system/multi-user.target.wants/workspaces-ports.service to /etc/systemd/system/workspaces-ports.service.<br /></code><code>[root@ip-10-0-134-13 system]# <br /></code></div><h3><a name="TOC-Configure-SMTP-Email-Relay-on-Windows-2012-R2-Management-Instance"></a>Configure SMTP Email Relay on Windows 2012 R2 Management Instance<br /></h3><p><font size="3">The
 SMTP relay server for this example makes use of the Windows 2012 R2 6.0
 IIS SMTP capability built in to the Windows 2012 R2 server.  Screens showing the 
correct configuration are shown below.  The SMTP server can be deployed on any Windows 2012 R2 server in the AD domain using the article <a href="http://www.vsysad.com/2014/09/setup-and-configure-smtp-server-on-windows-server-2012/" target="_blank" rel="nofollow">here</a> and/or <a href="http://woshub.com/how-to-install-and-configure-smtp-server-on-windows-server-2012-r2/" target="_blank" rel="nofollow">here</a>.  In this example, the SMTP server will be configured on the Windows 2012 AD EC2 management instance that was created previously.</font></p><h4><a name="TOC-Connect-to-Windows-2012-R2-Base-EC2-Management-Instance"></a>Connect to Windows 2012 R2 Base EC2 Management Instance</h4><p><font size="3">Connect to the Windows 2012 R2 Base EC2 management instance using an RDP client.  Follow the <a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Connect-to-Windows-2012-EC2-Management-Instance" target="_blank">steps described previously </a>in this guide to connect to the EC2 AD management instance.</font></p><h4><a name="TOC-Start-Server-Manager"></a><font size="3">Start Server Manager</font></h4><p><font size="3">Launch the server manager on the EC2 management instance as shown below.</font></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-33-56.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526416448672/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-33-56.png" style="width:100%" /></a></div><p><br /></p><h4><a name="TOC-Launch-Add-Roles-and-Features-"></a>Launch "Add Roles and Features"</h4><p><font size="3">Launch the "Add Roles and Features" and install SMTP server as shown below.  <br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-36-29.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526416607732/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-36-29.png" /></a></font></div><p><font size="3">Click on "Next".  Select "Role-based or feature-based installation" as shown below.<br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-38-52.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526416742918/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-38-52.png" /></a></font></div><font size="3"><br /></font><p><font size="3">Click on "Next".  Check that the local server is selected for the installation, as shown below.<br /></font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-40-10.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526416824708/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-40-10.png" /></a></font></div><font size="3"><br /></font><p><font size="3">Check the box for "Web Server (IIS)" as shown below.  <br /></font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-42-16.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526416951940/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-42-16.png" /></a></font></div><br /><p><font size="3">Checking the box brings up the "Add Features" dialog box.  Click on "Add Features" button to continue as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-43-01.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526417048664/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-43-01.png" /></a></font></div><br /><p><font size="3">Click on "Next" to continue after the dialog box closes.  In the "Select features" window, check the box for "SMTP Server" as shown below.<br /></font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-45-15.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526417129014/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-45-15.png" /></a></div><br /><p><font size="3">Checking the SMTP Server box brings up the "Add features that are required for SMTP Server" dialog box.  Be sure that "Include management tools (if applicable)" box is checked near the bottom of the dialog box.  Click on "Add Features" to continue, as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-48-53.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526417341331/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-48-53.png" /></a></font></div><font size="3"><br /></font><p><font size="3">Click on "Next" to continue.  When the "Web Server Role (IIS)" screen appears, click "Next" again to continue, as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-50-24.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526417439338/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-50-24.png" /></a></font></div><br /><p><font size="3">On the next screen, in addition to all other selected products, also check "IIS Management Scripts and Tools", as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-52-37.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526417569262/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-52-37.png" /></a></font></div><p><font size="3"><br /></font></p><p><font size="3">Click "Next" to continue.  Click on "Install" on the next screen to install the SMTP server, as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-54-06.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526417658363/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-54-06.png" /></a></font></div><br /><p><font size="3">Monitor the progress bar of the feature installation, and click "Close" when the progress bar is at 100% and the feature installation message is "Installation succeeded, as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-56-43.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526417813523/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-15&#32;15-56-43.png" /></a></font></div><br /><h4><a name="TOC-Configure-SMTP-Server"></a>Configure SMTP Server</h4><p><font size="3">The SMTP now needs to be configured.  To configure the SMTP server login to the Windows EC2 AD management instance, and from the "Tools" menu in the upper right corner of Server Manager, open the "<b>Internet Information Services (IIS) 6.0 Manager</b>" as shown below.</font></p><p><font size="3">Note that these settings are not as secure as a production SMTP server should be.  These value are chosen for the Blackberry Workspaces install in LXC containers on EC2 to ensure that the SMTP server is easily accessible, but in a production deployment, these settings would need to be fine tuned for more secure operation.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-11-44.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526479918847/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-11-44.png" /></a></div><p><br /></p><p><font size="3">In the left pane of the <b>IIS 6.0 Manager</b>, expand the server name, to reveal the "<b>[SMTP Virtual Server #1]</b>", and then right click on "<b>[SMTP Virtual Server #1]</b>" and select "<b>Properties</b>" to bring up the SMTP properties page.</font></p><h4><a name="TOC-Configure-SMTP-General-Tab"></a>Configure SMTP General Tab</h4><p><font size="3">On the "<b>General</b>" tab, set the "<b>IP address</b>" to "<b>[All Unassigned]</b>" as shown below.</font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-20-28.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526480442168/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-20-28.png" /></a></font></div><br /><h4><a name="TOC-Configure-SMTP-Access-Tab"></a>Configure SMTP Access Tab</h4><p><font size="3">Click on the "<b>Access</b>" tab and then click on the "<b>Authentication</b>" button in the "<b>Access Control</b>" section.  Ensure that Authentication has "<b>Anonymous access</b>" checked, as shown below.  Click on "OK" to accept the settings.<br /></font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-25-22.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526480735143/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-25-22.png" /></a></font></div><p><font size="3"><br /></font></p><p><font size="3">In the "<b>Connection control</b>" section of the "<b>Access</b>" tab press the "<b>Connection</b>" button and ensure that the "<b>Connection</b>" information is as shown below.  Click on "<b>OK</b>" to accept the settings.<br /></font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-27-50.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526480880394/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-27-50.png" /></a></font></div><br /><p><font size="3">In the "<b>Relay restrictions</b>" section of the "<b>Access</b>" tab, press the "<b>Relay</b>" button and ensure that the "<b>Relay</b>" information is as shown below.  Be sure that the radio button selected is "<b>All except the list below</b>" and that the list is blank.  Be sure also that "<b>Allow all computers which successfully authenticate to relay, regardless of the list above</b>." is also checked, as shown below.  Click "<b>OK</b>" to accept the values.</font></p><p><br /></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-31-18.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526481105660/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-31-18.png" /></a></div><p><font size="3"><br /></font></p><p><font size="3">On the "<b>Messages</b>" tab leave all settings at default, as shown below.  Click <b>OK</b> to accept the values.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-32-52.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526481206844/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-32-52.png" /></a></font></div><br /><p><font size="3">On the "<b>Delivery</b>" tab, click on the "<b>Outbound Security</b>" button near the bottom.  Ensure that "<b>Anonymous access</b>" is selected as shown below.  Click OK to continue.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-35-34.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526481397229/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-35-34.png" /></a></font></div><br /><p><font size="3">On the "<b>Delivery</b>" tab leave the "<b>Outbound Connections</b>" at defaults. <br /></font></p><p><font size="3">On the "<b>Delivery</b>" tab press the "<b>Advanced</b>" button, then press the "<b>Check DNS</b>" button to make sure DNS is working correctly in the AD domain, as shown below.</font></p><p><font size="3"><br /></font></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-39-16.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526481569674/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-39-16.png" /></a></div><br /><p><font size="3">On the main "<b>[SMTP Virtual Server #1] Properties</b>" page, press "<b>Apply</b>" then "<b>OK</b>" to apply and close the dialog.</font><br /></p><h4><a name="TOC-Configure-SMTP-Server-Service"></a>Configure SMTP Server Service</h4><p><font size="3">The SMTP server needs to be configure to start on boot.  To set onboot properties of the SMTP server, on the Windows EC2 management instance to to "<b>Start</b>" "<b>Run</b>" and type in "<b>services.msc</b>" and click on "<b>OK</b>" as shown below.</font><br /></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-47-00.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526482032541/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-47-00.png" /></a></div><br /><p><font size="3">Find the "<b>Simple Mail Transfer Protocol</b>", right click on it, and select "<b>Properties</b>", and set "<b>Startup Type</b>" to "<b>Automatic</b>" as shown below.</font></p><p><br /></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-49-24.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526482206572/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;09-49-24.png" /></a></div><br /><h4><a name="TOC-Test-SMTP-Service"></a>Test SMTP Service</h4><p>The SMTP service can be tested by creating a notepad text document with the required fields and dropping it into the "<b>Pickup</b>" folder of the SMTP server.  Open Notepad and type in the following as shown below.  In the "<b>To:</b>" field put in a valid email address for which you have access to retrieve email.  Save the notepad document as "<b>email.txt</b>" on you desktop, and then save a copy in the "<b>Pickup</b>" folder of the mailroot, as shown below, and verify that the "<b>Pickup</b>", "<b>Queue</b>", and "<b>BadMail</b>" directories are empty within a few seconds, and check your email to see if the test email was delivered.  It may be necessary to check "<b>Spam</b>" and "<b>Junk</b>" folders to find the email.  Once found, mark the email as "<b>not spam</b>" or "<b>not junk</b>".  If the email is not found, recheck all settings on the SMTP server, check that the SMTP server is running, and retry.</p><p><br /></p><p>From:  blog@yourdomain.com</p><p>To: YourValidEmail@somedomain.com</p><p>Subject: Email Test</p><p>This is a test email.</p><p><br /></p><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;10-28-04.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526484712593/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;10-28-04.png" style="width:100%" /></a></div><p><font size="3">Check that the email is in the inbox of the email client at the delivery end as shown below.</font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;10-33-42.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526484860565/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;10-33-42.png" /></a></font></div></div><div><br /></div><div><font size="3">If both checks succeed, the SMTP server has been correctly configured on the Windows EC2 management instance.</font></div><div></div><div><h3><a name="TOC-Launch-Windows-Conversion-EC2-Instance"></a>Launch Windows Conversion EC2 Instance</h3><p><font size="3">A 
Windows 2012 Server R2 Base EC2 instance is required for the Windows 
Conversion server component of Blackberry Workspaces.  Launch another 
Windows 2012 Server R2 Base EC2 instance following the same procedure (<a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html#TOC-Create-Windows-2012-R2-Base-EC2-Management-Instance">Step 3.6 above</a>) except for this instance, make the following configuration changes:</font></p><p><font size="3">Step 2: Instance Type choose "<b>t2.medium</b>"<br /></font></p><p><font size="3">Step 4: Add Storage click on "<b>Add New Volume" 50Gb "General Purpose SSD (GP2)</b>" 2nd volume, click "Delete on Termination"<br /></font></p><font size="3">Step 5: Add Tag Key "<b>Workspaces</b>" with Tag Value "<b>Windows Conversion</b>" <br /></font></div><div></div><div><h3><a name="TOC-Configure-Windows-Conversion-EC2-Instance"></a>Configure Windows Conversion EC2 Instance</h3><div><font size="3">Several steps need to be carried out to configure the Blackberry Workspaces Windows Conversion server before starting the installer.  Connect to the Windows Conversion EC2 instance using an RDP client as described previously using a similar procedure to setup the connectivity that was used for the Windows EC2 management instance.<br /></font></div><div><h4><a name="TOC-Download-and-Install-Blackberry-Cygwin"></a><font size="3">Download and Install Blackberry Cygwin</font></h4><div><font size="3">Download and install the Cygwin software from Blackberry.  This will need to be obtained from Blackberry.  Do not use other versions and release of Cygwin.  The Blackberry version of Cygwin is required.  Once Cygwin installer is staged in the Downloads directory of the Windows Conversion server, run it with administrator privilege, as shown below.<br /></font></div><div><font size="3"><br /></font></div><div><font size="3"><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;10-53-39.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526486047599/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;10-53-39.png" /></a></div><br /></font></div><div><font size="3">When the Cygwin install is running, a cmd windows will display installation activity, and then it will close automatically, and the following windows will be displayed indicating that the Cygwin install has completed successfully.  Press the "Close" button to complete the Cygwin install, as shown below.</font></div><div><font size="3"><br /></font></div><div><font size="3"><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;10-54-30.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526486153620/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;10-54-30.png" /></a></div></font></div><div><br /></div><div><br /></div><div><h4><a name="TOC-Create-Folder:-D:-Temp"></a>Create Folder:  D:\Temp</h4><div><font size="3">On the Windows Conversion EC2 instance, on the D: drive, create a D:\Temp folder, as shown below.</font><br /></div></div><div><br /></div><div><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;10-57-52.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526486286403/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;10-57-52.png" /></a></div><br /></div><div><h4><a name="TOC-Set-System-Variables-for-Temp-and-Tmp"></a>Set System Variables for Temp and Tmp</h4><div><font size="3">Navigate to the "System Properties" dialog, by running "Search" then inputting "system variables", and then selecting "Edit the System Variables" to bring up the "System Properties" dialog.  Click on the "Environment Variables" button.  Edit the system variables "TEMP" and "TMP' to both point to "D:\Temp", and click on "OK" to save, as shown below.</font></div><div><font size="3"><br /></font></div><div><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;11-02-17.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526486551799/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;11-02-17.png" /></a></div><br /></div></div><div><h4><a name="TOC-Disable-Windows-Firewall"></a>Disable Windows Firewall</h4><div><font size="3">Disable the Windows Firewall as shown below for the installation.  Later, the firewall can be fine tuned to allow only the Workspaces traffic through, but for this installation, for simplicity of install, the Firewall is disabled completely, as shown below.  To do this, click on "Search" type in "firewall" and select "Windows Firewall", then when the Windows Firewall management screen appears, click on "Turn Windows Firewall on or off" in the left navigation pane.</font></div><div><font size="3"><br /></font></div><div><font size="3"><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;11-06-01.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526486773112/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;11-06-01.png" style="width:100%" /></a></div><br /></font></div><div><font size="3">The Windows Firewall should now appear with status as shown below.  Again note that this is just for installation.  After install you can fine tune the Windows Firewall and set only the required traffic open.  Fully disabling the firewall like this is just to simplify this install guide.<br /></font></div><div><font size="3"><br /></font></div><div><font size="3"><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;11-07-12.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526486843657/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;11-07-12.png" style="width:100%" /></a></div><br /></font></div><div><h4><a name="TOC-Establish-Connectivity-to-LXC-Containers"></a>Establish Connectivity to LXC Containers<br /></h4></div></div><div><font size="3">By default, the Windows Conversion EC2 instance does not have connectivity to the LXC Linux containers running on the EC2 Linux LXC host.  This connectivity requires some additional configuration in the AWS Console.  Follow the instructions at this link to configure this connectivity.</font></div><div><br /></div><ul><li>On the AWS VPC that the EC2 instances are in, go to VPC then to ROUTE TABLES.</li><li>Choose the VPC which is explicitly associated with the subnets to which the EC2 instances belong. </li><li>Be sure to choose the VPC that is actually associated with the subnets. </li><li>Go to Routes tab and click on big blue “Edit” button to edit routes</li><li>Add a route as follows: </li><li>In the “Destination” field put the CIDR format of your LXC network, in this case  10.205.49.0/24</li><li>In the “Target” field put the ENI of the adapter of the LXC EC2 host (the RedHat 7.5 Linux EC2 LXC host)</li><li> You can open another window to your EC2 hosts to get this.</li><li> Just be sure it’s the ENI for the RedHat Linux 7.5 LXC EC2 host.</li><li> The ENI’s have names like this: eni-4da3dbca</li></ul></div><div><font size="3"><br /></font></div><div><font size="3">This is shown below.<br /></font></div><div><font size="3"><br /></font></div><div><font size="3"><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;12-51-16.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526493088560/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;12-51-16.png" style="width:100%" /></a></div><br /></font></div><div><div><br /></div><div><br /></div><div><font size="3">Click on the blue "Save" button to save routes.  The routes after Save are shown below.  The rule will be saved and will display both the eni value as well as the instance that the eni is associated with, as shown below.<br /></font></div><div><font size="3"><br /></font></div><div><br /></div><div><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;12-52-26.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526493170623/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;12-52-26.png" style="width:100%" /></a></div><br /></div><div><br /></div><div><font size="3"><br /></font></div><div><font size="3">Verify that the instance associated with the rule for 10.209.49.0/24 is the Linux EC2 LXC host instance, in this case instance i-0414ca706ec8e701a, as shown below.</font><br /></div><div><br /></div><div><br /></div><div><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;12-42-51.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526492583474/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;12-42-51.png" style="width:100%" /></a></div><br /></div><div><br /></div><div><font size="3">Next, it is necessary to change a setting on the ENI itself.  Navigate in the AWS console to the ENI for the EC2 Linux LXC host instance as shown below and make the following change.</font></div><div><font size="3"><br /></font></div><div><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;12-47-48.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526492889992/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;12-47-48.png" style="width:100%" /></a></div></div><div><br /></div><div><br /></div><div><font size="3">Click on the blue "Save" button to save the change to the ENI.</font><br /></div><div><h4><a name="TOC-Test-Connectivity-Between-Windows-Conversion-and-LXC-Containers"></a>Test Connectivity Between Windows Conversion and LXC Containers</h4><div><font size="3">Test the connectivity between the Windows Conversion server and the LXC containers.  Open a cmd window on the Windows EC2 Conversion server, and ping the LXC Linux containers IP's on the EC2 Linux host, as shown below.</font></div><div><font size="3"><br /></font></div><div><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;12-56-00.png%3Fattredirects=0" imageanchor="1"><img border="0" height="400" src="_/rsrc/1526493404506/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;12-56-00.png%3Fheight=400&amp;width=355" width="355" /></a></div><br /></div></div><div><font size="3">Also, check that the LXC containers can ping the EC2 Windows conversion server.  Check the IP address of the EC2 Windows conversion server, and then try pinging it from the LXC containers, as shown below.</font></div><div><font size="3"><br /></font></div><div><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;13-00-49.png%3Fattredirects=0" imageanchor="1"><img border="0" height="211" src="_/rsrc/1526493662890/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-16&#32;13-00-49.png%3Fheight=211&amp;width=400" width="400" /></a></div></div><div><br /></div><div><br /></div><div><font size="3">Using the IP address obtained from the above ipconfig check on the EC2 Windows conversion server, test the pings from all four of the LXC containers to the EC2 Windows conversion server.  Note that the first few pings may fail, as shown below, while the switches learn the routing.</font></div><div><font size="3"><br /></font></div><div><font size="3"><div class="sites-codeblock sites-codesnippet-block"><code>[root@ora66c10 /]# <b>ping -c 3 10.0.137.217</b></code><br /><code>PING 10.0.137.217 (10.0.137.217) 56(84) bytes of data.</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=1 ttl=127 time=1.15 ms</code><br /><code>From 10.205.49.2 icmp_seq=2 Redirect HostFrom 10.205.49.2: icmp_seq=2 Redirect Host(New nexthop: 10.205.49.1)</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=2 ttl=127 time=0.752 ms</code><br /><br /><code>--- 10.0.137.217 ping statistics ---</code><br /><code>2 packets transmitted, 2 received, +1 errors, 0% packet loss, time 1002ms</code><br /><code>rtt min/avg/max/mdev = 0.752/0.955/1.159/0.205 ms</code><br /><code>[root@ora66c10 /]# <b>ping -c 3 10.0.137.217</b></code><br /><code>PING 10.0.137.217 (10.0.137.217) 56(84) bytes of data.</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=1 ttl=127 time=0.753 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=2 ttl=127 time=0.707 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=3 ttl=127 time=0.743 ms</code><br /><br /><code>--- 10.0.137.217 ping statistics ---</code><br /><code>3 packets transmitted, 3 received, 0% packet loss, time 2001ms</code><br /><code>rtt min/avg/max/mdev = 0.707/0.734/0.753/0.029 ms</code><br /><code>[root@ora66c10 /]# exit</code><br /><code>exit</code><br /><code>[ec2-user@ip-10-0-134-13 ~]$ <b>sudo lxc-attach -n ora66c11</b></code><br /><code>[root@ora66c11 /]# <b>ping -c 3 10.0.137.217</b></code><br /><code>PING 10.0.137.217 (10.0.137.217) 56(84) bytes of data.</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=1 ttl=127 time=0.913 ms</code><br /><code>From 10.205.49.2: icmp_seq=2 Redirect Host(New nexthop: 10.205.49.1)</code><br /><code>From 10.205.49.2 icmp_seq=2 Redirect Host64 bytes from 10.0.137.217: icmp_seq=2 ttl=127 time=0.762 ms</code><br /><br /><code>--- 10.0.137.217 ping statistics ---</code><br /><code>2 packets transmitted, 2 received, +1 errors, 0% packet loss, time 1001ms</code><br /><code>rtt min/avg/max/mdev = 0.762/0.837/0.913/0.080 ms</code><br /><code>[root@ora66c11 /]#<b> ping -c 3 10.0.137.217</b></code><br /><code>PING 10.0.137.217 (10.0.137.217) 56(84) bytes of data.</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=1 ttl=127 time=0.750 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=2 ttl=127 time=0.673 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=3 ttl=127 time=0.705 ms</code><br /><br /><code>--- 10.0.137.217 ping statistics ---</code><br /><code>3 packets transmitted, 3 received, 0% packet loss, time 2001ms</code><br /><code>rtt min/avg/max/mdev = 0.673/0.709/0.750/0.038 ms</code><br /><code>[root@ora66c11 /]# exit</code><br /><code>exit</code><br /><code>[ec2-user@ip-10-0-134-13 ~]$ <b>sudo lxc-attach -n ora66c12</b></code><br /><code>[root@ora66c12 /]# ping -c 3 10.0.137.217</code><br /><code>PING 10.0.137.217 (10.0.137.217) 56(84) bytes of data.</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=1 ttl=127 time=0.836 ms</code><br /><code>From 10.205.49.2: icmp_seq=2 Redirect Host(New nexthop: 10.205.49.1)</code><br /><code>From 10.205.49.2 icmp_seq=2 Redirect Host64 bytes from 10.0.137.217: icmp_seq=2 ttl=127 time=0.705 ms</code><br /><br /><code>--- 10.0.137.217 ping statistics ---</code><br /><code>2 packets transmitted, 2 received, +1 errors, 0% packet loss, time 1001ms</code><br /><code>rtt min/avg/max/mdev = 0.705/0.770/0.836/0.071 ms</code><br /><code>[root@ora66c12 /]# <b>ping -c 3 10.0.137.217</b></code><br /><code>PING 10.0.137.217 (10.0.137.217) 56(84) bytes of data.</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=1 ttl=127 time=0.705 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=2 ttl=127 time=0.628 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=3 ttl=127 time=0.551 ms</code><br /><br /><code>--- 10.0.137.217 ping statistics ---</code><br /><code>3 packets transmitted, 3 received, 0% packet loss, time 2000ms</code><br /><code>rtt min/avg/max/mdev = 0.551/0.628/0.705/0.062 ms</code><br /><code>[root@ora66c12 /]# exit</code><br /><code>exit</code><br /><code>[ec2-user@ip-10-0-134-13 ~]$ <b>sudo lxc-attach -n ora66c13</b></code><br /><code>[root@ora66c13 /]# <b>ping -c 3 10.0.137.217</b></code><br /><code>PING 10.0.137.217 (10.0.137.217) 56(84) bytes of data.</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=1 ttl=127 time=0.781 ms</code><br /><code>From 10.205.49.2 icmp_seq=2 Redirect HostFrom 10.205.49.2: icmp_seq=2 Redirect Host(New nexthop: 10.205.49.1)</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=2 ttl=127 time=0.722 ms</code><br /><br /><code>--- 10.0.137.217 ping statistics ---</code><br /><code>2 packets transmitted, 2 received, +1 errors, 0% packet loss, time 1001ms</code><br /><code>rtt min/avg/max/mdev = 0.722/0.751/0.781/0.040 ms</code><br /><code>[root@ora66c13 /]# <b>ping -c 3 10.0.137.217</b></code><br /><code>PING 10.0.137.217 (10.0.137.217) 56(84) bytes of data.</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=1 ttl=127 time=0.702 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=2 ttl=127 time=0.647 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=3 ttl=127 time=0.705 ms</code><br /><br /><code>--- 10.0.137.217 ping statistics ---</code><br /><code>3 packets transmitted, 3 received, 0% packet loss, time 2001ms</code><br /><code>rtt min/avg/max/mdev = 0.647/0.684/0.705/0.040 ms</code><br /><code>[root@ora66c13 /]# exit</code><br /><code>exit</code><br /><code>[ec2-user@ip-10-0-134-13 ~]$ <b>sudo lxc-attach -n ora66c10</b></code><br /><code>[root@ora66c10 /]# </code></div><br /></font></div><div><font size="3">When all these ping checks have completed successfully, then connectivity required for the installation has been achieved, and it is possible to proceed now to run the Blackberry Workspaces UI installer.</font><br /></div></div><h3><a name="TOC-Prepare-to-Run-the-Installer-UI"></a>Prepare to Run the Installer UI</h3><p>Prepare to run the installer UI at:  https://salt-master:5000 URL.  If any of the windows pre-requisites in validation_result.yaml are ignorable, then set the required parameter as shown below and re-run the installer UI.</p><h4><a name="TOC-Edit-File:-srv-salt-custom-pillar-upgrade.yaml"></a>Edit File:  /srv/salt/custom/pillar/upgrade.yaml<br /></h4><div class="sites-codeblock sites-codesnippet-block"><code>[ubuntu@colossus ~]$ <b>sudo lxc-attach -n salt-master<br /><br /></b></code><code>[root@salt-master /]# <b>cd /srv/salt/custom/pillar<br /><br /></b></code><code>[root@salt-master pillar]# <b>vi upgrade.yaml <br /><br /></b></code><code>[root@salt-master pillar]# <b>cat upgrade.yaml<br /></b></code><span style="color:rgb(255,0,0)"><i><b><code>pre.validation.warn.only: <span style="color:rgb(255,0,0)">True</span>                 <span style="color:rgb(255,0,0)">&lt;--</span> <span style="color:rgb(255,0,0)">Set to "True" if ignoring Windows validation results<br /></span><br /></code></b></i></span><code>[root@salt-master pillar]# </code></div><h4><a name="TOC-Start-Service:-workspaces-ports"></a>Start Service:  workspaces-ports</h4><div><font size="3">Start the workspaces-ports service and verify that the requried port forward have been created on the EC2 Linux LXC host as shown below.</font></div><div><font size="3"><br /></font></div><div><font size="3"><div class="sites-codeblock sites-codesnippet-block"><code>[ec2-user@ip-10-0-134-13 system]$ <b>sudo service workspaces-ports start</b></code><br /><code>Redirecting to /bin/systemctl start workspaces-ports.service</code></div><div class="sites-codeblock sites-codesnippet-block"><br /><code>[ec2-user@ip-10-0-134-13 system]$ <b>sudo service workspaces-ports status</b></code><br /><code>Redirecting to /bin/systemctl status workspaces-ports.service</code><br /><code>● workspaces-ports.service - workspaces-ports Service</code><br /><code>   Loaded: loaded (/etc/systemd/system/workspaces-ports.service; enabled; vendor preset: disabled)</code><br /><code>   Active: active (exited) since Wed 2018-05-16 18:17:32 UTC; 4s ago</code><br /><code>  Process: 7985 ExecStart=/sbin/iptables -t nat --line-numbers -L (code=exited, status=0/SUCCESS)</code><br /><code>  Process: 7980 ExecStartPre=/bin/sudo /sbin/iptables -t nat -A PREROUTING -i eth0 -p tcp --dport 5000 -j DNAT --to-destination 10.205.49.10 (code=exited, status=0/SUCCESS)</code><br /><code>  Process: 7975 ExecStartPre=/bin/sudo /sbin/iptables -t nat -A PREROUTING -i eth0 -p tcp --dport 443 -j DNAT --to-destination 10.205.49.13 (code=exited, status=0/SUCCESS)</code><br /><code> Main PID: 7985 (code=exited, status=0/SUCCESS)</code><br /><br /><code>May 16 18:17:32 ip-10-0-134-13.corp.getblackberry.com iptables[7985]: 2    DNAT       tcp  --  anywhere             anywhere             tcp dpt:commplex-main to:10.205.49.10</code><br /><code>May 16 18:17:32 ip-10-0-134-13.corp.getblackberry.com iptables[7985]: Chain INPUT (policy ACCEPT)</code><br /><code>May 16 18:17:32 ip-10-0-134-13.corp.getblackberry.com iptables[7985]: num  target     prot opt source               destination</code><br /><code>May 16 18:17:32 ip-10-0-134-13.corp.getblackberry.com iptables[7985]: Chain OUTPUT (policy ACCEPT)</code><br /><code>May 16 18:17:32 ip-10-0-134-13.corp.getblackberry.com iptables[7985]: num  target     prot opt source               destination</code><br /><code>May 16 18:17:32 ip-10-0-134-13.corp.getblackberry.com iptables[7985]: Chain POSTROUTING (policy ACCEPT)</code><br /><code>May 16 18:17:32 ip-10-0-134-13.corp.getblackberry.com iptables[7985]: num  target     prot opt source               destination</code><br /><code>May 16 18:17:32 ip-10-0-134-13.corp.getblackberry.com iptables[7985]: 1    MASQUERADE  all  --  anywhere             anywhere</code><br /><code>May 16 18:17:32 ip-10-0-134-13.corp.getblackberry.com iptables[7985]: 2    MASQUERADE  all  --  anywhere             anywhere</code><br /><code>May 16 18:17:32 ip-10-0-134-13.corp.getblackberry.com iptables[7985]: 3    MASQUERADE  all  --  anywhere             anywhere</code><br /><code>[ec2-user@ip-10-0-134-13 system]$ <b>sudo iptables -t nat --line-numbers -L</b></code><br /><code>Chain PREROUTING (policy ACCEPT)</code><br /><code>num  target     prot opt source               destination         </code><br /><b><code>1    DNAT       tcp  --  anywhere             anywhere             tcp dpt:https to:10.205.49.13</code><br /><code>2    DNAT       tcp  --  anywhere             anywhere             tcp dpt:commplex-main to:10.205.49.10</code></b><br /><br /><code>Chain INPUT (policy ACCEPT)</code><br /><code>num  target     prot opt source               destination         </code><br /><br /><code>Chain OUTPUT (policy ACCEPT)</code><br /><code>num  target     prot opt source               destination         </code><br /><br /><code>Chain POSTROUTING (policy ACCEPT)</code><br /><code>num  target     prot opt source               destination         </code><br /><code>1    MASQUERADE  all  --  anywhere             anywhere            </code><br /><code>2    MASQUERADE  all  --  anywhere             anywhere            </code><br /><code>3    MASQUERADE  all  --  anywhere             anywhere            </code><br /><code>[ec2-user@ip-10-0-134-13 system]$ </code></div></font></div><h4><a name="TOC-Generate-the-Required-SSL-Files"></a>Generate the Required SSL Files</h4><p><font size="3">The reference for this procedure is <a href="https://developer-should-know.com/post/127063737582/how-to-create-your-own-pki-with-openssl" target="_blank" rel="nofollow">here</a>. There is a <a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/certs.sh%3Fattredirects=0&amp;d=1" target="_blank">script certs.sh attached to this post</a> which will automatically generate the required self-signed certificates for the install.  Once the install is complete, however, SSL certificate validation will be handled by the AWS Certificate Service attached to the AWS Application Load Balancer (ALB) pointing to this deployment.<br /></font></p><p><font size="3">An example of using certs.sh to generate the required certificates and keys is shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><code>orabuntu@pasadena1:~$ .<b>/certs.sh "Stillman Real Consulting LLC" getblackberry.com gilbert "Gilbert Standen"</b></code><br /><code>Generating RSA private key, 4096 bit long modulus</code><br /><code>.............................................................................................++</code><br /><code>................................................++</code><br /><code>e is 65537 (0x10001)</code><br /><code>Generating RSA private key, 4096 bit long modulus</code><br /><code>...................................................................................................................................................................................................++</code><br /><code>............................................................................................................................................................................................................................................................................++</code><br /><code>e is 65537 (0x10001)</code><br /><code>Signature ok</code><br /><code>subject=/C=UA/O=$Organization/CN=$Organization Intermediate CA</code><br /><code>Getting CA Private Key</code><br /><code>intermediateCA.crt: OK</code><br /><code>Certificate:</code><br /><code>    Data:</code><br /><code>        Version: 3 (0x2)</code><br /><code>        Serial Number: 15887136797941194395 (0xdc7a72be7b525e9b)</code><br /><code>    Signature Algorithm: sha256WithRSAEncryption</code><br /><code>        Issuer: C=UA, O=$Organization, CN=$Organization Root CA</code><br /><code>        Validity</code><br /><code>            Not Before: May 17 13:40:23 2018 GMT</code><br /><code>            Not After : May 17 13:40:23 2019 GMT</code><br /><code>        Subject: C=UA, O=$Organization, CN=$Organization Intermediate CA</code><br /><code>        Subject Public Key Info:</code><br /><code>            Public Key Algorithm: rsaEncryption</code><br /><code>                Public-Key: (4096 bit)</code><br /><code>                Modulus:</code><br /><code>                    00:cc:bb:26:09:30:be:0b:3e:c4:b5:67:e3:ea:cc:</code><br /><code>                    27:82:75:44:a4:4e:27:fb:bc:ef:cd:5a:9b:9e:1f:</code><br /><code>                    3a:1a:2c:51:f2:24:55:27:9c:06:e1:e1:6f:12:88:</code><br /><code>                    94:5e:65:94:47:ab:77:65:58:cf:1f:f0:91:94:e0:</code><br /><code>                    c1:fe:84:d4:d7:f4:b9:1a:8b:a2:34:89:0b:4b:fc:</code><br /><code>                    a6:3c:c7:6a:0c:c1:ea:d8:1d:37:84:25:a3:be:48:</code><br /><code>                    c4:5d:32:aa:75:0b:03:10:cb:d7:ca:96:f7:97:a2:</code><br /><code>                    0c:16:c1:de:c4:a4:b9:96:bf:bd:92:e9:f8:a6:a3:</code><br /><code>                    07:32:c3:78:3b:eb:48:f5:4c:44:14:0d:ac:ff:3e:</code><br /><code>                    53:47:f3:5e:1f:39:c5:57:40:d9:eb:31:72:8b:51:</code><br /><code>                    31:49:ba:18:39:fd:ee:23:66:8a:f9:b1:3b:5a:ab:</code><br /><code>                    cd:61:fb:a2:aa:af:ed:c9:eb:83:c0:5f:12:92:e0:</code><br /><code>                    67:cb:91:0e:89:c1:b1:9c:5d:77:f8:26:29:cb:af:</code><br /><code>                    bd:51:51:63:d4:ed:1b:2f:f1:59:23:1e:b2:31:64:</code><br /><code>                    69:1d:39:fe:45:5f:73:24:25:dd:db:b5:36:e7:63:</code><br /><code>                    4e:ad:57:e9:ed:8d:db:37:5f:13:96:bc:64:fa:73:</code><br /><code>                    8d:df:38:df:31:96:87:51:90:7c:b4:8e:98:96:9d:</code><br /><code>                    4d:1a:2b:b5:6a:ac:5b:aa:29:4b:ca:1c:3e:c3:ca:</code><br /><code>                    76:b9:05:17:89:b5:c7:7f:ca:0f:86:f7:47:a2:5f:</code><br /><code>                    70:32:f9:93:33:17:9c:ff:aa:9c:4e:e6:30:e2:4d:</code><br /><code>                    fb:e6:b3:6b:70:65:8f:3d:94:59:59:f4:5f:96:bc:</code><br /><code>                    58:dd:7e:a5:80:9b:3a:43:4c:12:f5:9d:c8:3c:db:</code><br /><code>                    da:7f:eb:2a:37:39:89:de:16:ea:44:14:0c:eb:e1:</code><br /><code>                    54:2c:fd:82:77:c6:68:5b:8a:b1:90:16:30:13:6b:</code><br /><code>                    22:32:9e:85:78:ca:7a:4d:67:d9:e8:43:d5:a6:fd:</code><br /><code>                    9e:4f:8f:62:9a:5b:d5:7d:da:a7:80:cc:87:09:c5:</code><br /><code>                    b7:83:1b:4f:a1:c0:a9:58:45:df:31:fc:7c:1b:11:</code><br /><code>                    06:47:6c:16:f0:90:6c:1c:54:9a:ca:42:95:09:66:</code><br /><code>                    fb:4e:93:73:65:6a:b2:09:f9:10:4b:e9:68:6e:a3:</code><br /><code>                    76:f8:27:bb:63:e1:dc:0d:e3:86:b6:1d:06:12:59:</code><br /><code>                    1e:8b:32:f9:09:e5:0a:cf:1e:c5:e8:76:14:94:e8:</code><br /><code>                    45:ba:f4:06:fb:80:a8:34:aa:b8:99:5a:c6:e4:02:</code><br /><code>                    93:30:61:c0:18:96:4a:eb:9b:15:19:36:ad:ef:53:</code><br /><code>                    12:74:62:0b:37:99:9a:41:d7:6d:b6:c9:d1:e4:c4:</code><br /><code>                    dd:2e:63</code><br /><code>                Exponent: 65537 (0x10001)</code><br /><code>        X509v3 extensions:</code><br /><code>            X509v3 Subject Key Identifier: </code><br /><code>                78:4B:62:6F:66:EF:3F:A8:96:FC:98:53:BA:BD:BB:BC:8F:E2:3C:D9</code><br /><code>            X509v3 Authority Key Identifier: </code><br /><code>                keyid:C4:D0:2F:FF:94:B6:C9:EB:09:D4:35:DA:FD:44:28:5F:40:58:45:1F</code><br /><code>                DirName:/C=UA/O=$Organization/CN=$Organization Root CA</code><br /><code>                serial:BA:5D:3A:C4:20:98:D8:95</code><br /><br /><code>            X509v3 Basic Constraints: </code><br /><code>                CA:TRUE</code><br /><code>    Signature Algorithm: sha256WithRSAEncryption</code><br /><code>         70:b7:6b:ee:1c:da:eb:06:49:1b:2a:e7:75:03:b9:e3:05:53:</code><br /><code>         c4:96:0b:93:56:e3:bf:92:a8:ce:d4:33:b4:8d:9a:f3:b9:c8:</code><br /><code>         dc:4e:9c:97:de:fd:99:db:41:c3:4d:da:ca:eb:03:40:d8:72:</code><br /><code>         e5:1f:4c:f6:f7:6d:1f:d2:53:c0:d3:14:76:d0:a8:a7:f3:20:</code><br /><code>         f5:30:ac:d2:3e:ef:d8:2c:df:80:dd:b2:86:06:2f:d2:69:95:</code><br /><code>         4e:2a:cf:c2:c7:b3:c0:35:6f:c3:ab:aa:5b:00:c6:5b:75:36:</code><br /><code>         c0:16:c1:fa:04:02:84:39:29:e2:a1:4b:a1:60:47:01:1a:8b:</code><br /><code>         ba:96:8d:32:ea:73:f4:68:84:0b:96:ce:3a:e2:98:6e:29:bb:</code><br /><code>         e5:e0:f9:10:83:8f:8a:4d:16:53:92:6d:82:7a:25:a1:17:b8:</code><br /><code>         67:62:25:1a:d4:34:53:f5:9a:92:49:f2:a5:9f:54:11:94:b4:</code><br /><code>         c2:9c:1e:a7:12:80:ec:ec:a9:95:ce:b1:5f:1c:f8:1b:46:85:</code><br /><code>         e3:61:46:cd:08:f0:c6:a7:bd:79:57:14:cc:7f:0b:91:08:e2:</code><br /><code>         33:53:83:9b:3f:2b:e0:fd:d4:13:64:b5:1d:f5:7d:3f:c0:ca:</code><br /><code>         eb:3a:6b:a5:01:a1:f2:62:f0:91:15:a9:d2:c6:9c:15:99:d3:</code><br /><code>         4c:5f:f4:84:87:e4:f1:7d:d9:5f:df:33:3b:1f:a1:3c:74:ab:</code><br /><code>         37:cb:f2:b1:85:bf:fa:37:e1:ff:c0:90:4c:88:6d:42:4b:eb:</code><br /><code>         2f:c6:87:25:cf:e5:e8:31:ec:ed:4b:8d:4a:7b:dd:0e:d2:06:</code><br /><code>         d9:4c:dd:c2:16:e1:69:13:4e:9f:22:87:52:83:a0:30:53:d4:</code><br /><code>         25:4f:21:13:ef:86:46:5b:2c:81:0e:42:ad:3e:ea:a7:ed:1c:</code><br /><code>         ac:0c:e2:cb:95:b8:43:52:45:e8:25:65:21:83:bb:81:b8:25:</code><br /><code>         b1:17:6e:aa:7f:8f:87:82:ff:78:d1:ce:84:45:96:85:fd:f4:</code><br /><code>         3a:4a:f9:ca:55:66:9c:fb:4f:ff:63:19:4a:bf:80:bd:28:e8:</code><br /><code>         c9:90:f3:e1:a2:cb:99:7a:ca:e1:7a:ee:52:4e:f9:86:12:72:</code><br /><code>         c2:5c:3c:f5:26:36:19:29:dc:a7:80:26:26:3d:18:e3:2e:5e:</code><br /><code>         fd:eb:b9:6f:03:da:48:cf:7e:f4:25:a0:1a:ee:2f:cc:e9:6a:</code><br /><code>         4d:c3:c6:08:66:99:0f:74:c4:e5:36:44:cb:b9:f3:01:f0:96:</code><br /><code>         f4:0b:63:7e:6e:19:ca:ff:83:f5:08:cf:8e:f6:b4:f8:bb:31:</code><br /><code>         c0:1e:4a:ee:3d:a8:a2:a0:00:bf:59:f4:82:b6:d2:0e:4a:85:</code><br /><code>         e1:d8:9c:8f:37:fd:ad:c6</code><br /><code>-----BEGIN CERTIFICATE-----</code><br /><code>MIIFvTCCA6WgAwIBAgIJANx6cr57Ul6bMA0GCSqGSIb3DQEBCwUAMEUxCzAJBgNV</code><br /><code>BAYTAlVBMRYwFAYDVQQKDA0kT3JnYW5pemF0aW9uMR4wHAYDVQQDDBUkT3JnYW5p</code><br /><code>emF0aW9uIFJvb3QgQ0EwHhcNMTgwNTE3MTM0MDIzWhcNMTkwNTE3MTM0MDIzWjBN</code><br /><code>MQswCQYDVQQGEwJVQTEWMBQGA1UECgwNJE9yZ2FuaXphdGlvbjEmMCQGA1UEAwwd</code><br /><code>JE9yZ2FuaXphdGlvbiBJbnRlcm1lZGlhdGUgQ0EwggIiMA0GCSqGSIb3DQEBAQUA</code><br /><code>A4ICDwAwggIKAoICAQDMuyYJML4LPsS1Z+PqzCeCdUSkTif7vO/NWpueHzoaLFHy</code><br /><code>JFUnnAbh4W8SiJReZZRHq3dlWM8f8JGU4MH+hNTX9Lkai6I0iQtL/KY8x2oMwerY</code><br /><code>HTeEJaO+SMRdMqp1CwMQy9fKlveXogwWwd7EpLmWv72S6fimowcyw3g760j1TEQU</code><br /><code>Daz/PlNH814fOcVXQNnrMXKLUTFJuhg5/e4jZor5sTtaq81h+6Kqr+3J64PAXxKS</code><br /><code>4GfLkQ6JwbGcXXf4JinLr71RUWPU7Rsv8VkjHrIxZGkdOf5FX3MkJd3btTbnY06t</code><br /><code>V+ntjds3XxOWvGT6c43fON8xlodRkHy0jpiWnU0aK7VqrFuqKUvKHD7Dyna5BReJ</code><br /><code>tcd/yg+G90eiX3Ay+ZMzF5z/qpxO5jDiTfvms2twZY89lFlZ9F+WvFjdfqWAmzpD</code><br /><code>TBL1ncg829p/6yo3OYneFupEFAzr4VQs/YJ3xmhbirGQFjATayIynoV4ynpNZ9no</code><br /><code>Q9Wm/Z5Pj2KaW9V92qeAzIcJxbeDG0+hwKlYRd8x/HwbEQZHbBbwkGwcVJrKQpUJ</code><br /><code>ZvtOk3NlarIJ+RBL6Whuo3b4J7tj4dwN44a2HQYSWR6LMvkJ5QrPHsXodhSU6EW6</code><br /><code>9Ab7gKg0qriZWsbkApMwYcAYlkrrmxUZNq3vUxJ0Ygs3mZpB1222ydHkxN0uYwID</code><br /><code>AQABo4GnMIGkMB0GA1UdDgQWBBR4S2JvZu8/qJb8mFO6vbu8j+I82TB1BgNVHSME</code><br /><code>bjBsgBTE0C//lLbJ6wnUNdr9RChfQFhFH6FJpEcwRTELMAkGA1UEBhMCVUExFjAU</code><br /><code>BgNVBAoMDSRPcmdhbml6YXRpb24xHjAcBgNVBAMMFSRPcmdhbml6YXRpb24gUm9v</code><br /><code>dCBDQYIJALpdOsQgmNiVMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQELBQADggIB</code><br /><code>AHC3a+4c2usGSRsq53UDueMFU8SWC5NW47+SqM7UM7SNmvO5yNxOnJfe/ZnbQcNN</code><br /><code>2srrA0DYcuUfTPb3bR/SU8DTFHbQqKfzIPUwrNI+79gs34DdsoYGL9JplU4qz8LH</code><br /><code>s8A1b8OrqlsAxlt1NsAWwfoEAoQ5KeKhS6FgRwEai7qWjTLqc/RohAuWzjrimG4p</code><br /><code>u+Xg+RCDj4pNFlOSbYJ6JaEXuGdiJRrUNFP1mpJJ8qWfVBGUtMKcHqcSgOzsqZXO</code><br /><code>sV8c+BtGheNhRs0I8ManvXlXFMx/C5EI4jNTg5s/K+D91BNktR31fT/Ayus6a6UB</code><br /><code>ofJi8JEVqdLGnBWZ00xf9ISH5PF92V/fMzsfoTx0qzfL8rGFv/o34f/AkEyIbUJL</code><br /><code>6y/GhyXP5egx7O1LjUp73Q7SBtlM3cIW4WkTTp8ih1KDoDBT1CVPIRPvhkZbLIEO</code><br /><code>Qq0+6qftHKwM4suVuENSReglZSGDu4G4JbEXbqp/j4eC/3jRzoRFloX99DpK+cpV</code><br /><code>Zpz7T/9jGUq/gL0o6MmQ8+Giy5l6yuF67lJO+YYScsJcPPUmNhkp3KeAJiY9GOMu</code><br /><code>Xv3ruW8D2kjPfvQloBruL8zpak3DxghmmQ90xOU2RMu58wHwlvQLY35uGcr/g/UI</code><br /><code>z472tPi7McAeSu49qKKgAL9Z9IK20g5KheHYnI83/a3G</code><br /><code>-----END CERTIFICATE-----</code><br /><code>Generating RSA private key, 4096 bit long modulus</code><br /><code>..........................................................................................................................................................................................................................................................++</code><br /><code>...++</code><br /><code>e is 65537 (0x10001)</code><br /><code>Signature ok</code><br /><code>subject=/C=UA/O=$Organization/CN=$Domain</code><br /><code>Getting CA Private Key</code><br /><code>writing RSA key</code><br /><code>Generating RSA private key, 4096 bit long modulus</code><br /><code>....................++</code><br /><code>..............................................................++</code><br /><code>e is 65537 (0x10001)</code><br /><code>Signature ok</code><br /><code>subject=/C=UA/O=$Organization/CN=$FullName/emailAddress=$EmailName@$Domain</code><br /><code>Getting CA Private Key</code><br /><code>server.crt: OK</code><br /><code>Certificate:</code><br /><code>    Data:</code><br /><code>        Version: 1 (0x0)</code><br /><code>        Serial Number: 13002238387900085868 (0xb4713aeccbbb766c)</code><br /><code>    Signature Algorithm: sha256WithRSAEncryption</code><br /><code>        Issuer: C=UA, O=$Organization, CN=$Organization Intermediate CA</code><br /><code>        Validity</code><br /><code>            Not Before: May 17 13:40:24 2018 GMT</code><br /><code>            Not After : May 17 13:40:24 2019 GMT</code><br /><code>        Subject: C=UA, O=$Organization, CN=$Domain</code><br /><code>        Subject Public Key Info:</code><br /><code>            Public Key Algorithm: rsaEncryption</code><br /><code>                Public-Key: (4096 bit)</code><br /><code>                Modulus:</code><br /><code>                    00:cb:9c:ce:f1:01:88:64:f5:6a:cb:6f:5b:d6:5b:</code><br /><code>                    98:62:3d:25:90:97:3e:94:c2:c6:9b:b6:7c:ee:93:</code><br /><code>                    7d:00:73:39:59:b1:ca:cf:71:4b:57:85:db:e9:38:</code><br /><code>                    65:cb:b3:1e:a3:7f:77:6a:c2:0e:67:53:26:d1:97:</code><br /><code>                    f6:d2:af:85:f9:bc:c2:f5:51:31:6b:44:03:64:59:</code><br /><code>                    01:7f:20:b9:0d:37:d7:07:91:7b:fc:df:60:6f:8d:</code><br /><code>                    ed:88:cc:c5:47:82:a7:05:07:51:81:a6:e3:c8:9e:</code><br /><code>                    e9:17:72:8b:57:c8:1e:e3:9f:40:63:80:96:59:3b:</code><br /><code>                    e6:4b:6c:9e:da:22:f8:1e:9c:f2:b0:55:db:2d:36:</code><br /><code>                    a5:aa:46:20:01:7b:0e:3e:20:25:f7:ac:84:8d:09:</code><br /><code>                    17:22:86:e4:25:62:9e:ee:d1:3d:99:11:39:f1:08:</code><br /><code>                    07:cc:86:3a:6d:40:32:57:3e:a2:c4:41:65:6e:30:</code><br /><code>                    1e:4a:f7:2d:c0:e1:99:af:0e:02:70:ce:fb:dc:6c:</code><br /><code>                    88:89:02:93:de:40:f0:33:ea:09:29:85:70:52:bd:</code><br /><code>                    ad:45:0a:31:39:36:23:5c:06:b9:91:57:8d:4f:51:</code><br /><code>                    aa:10:b6:02:93:f6:a6:76:54:70:6a:74:59:40:0b:</code><br /><code>                    78:f6:cb:69:7d:5e:58:5d:d3:de:58:41:3e:de:61:</code><br /><code>                    eb:30:93:c2:8b:9e:89:40:42:8d:6f:45:ab:fb:bc:</code><br /><code>                    59:a8:59:5a:f2:c2:e8:94:e8:52:bf:58:f0:b3:50:</code><br /><code>                    f0:1c:ec:5c:5c:e1:1c:0f:a3:d3:8f:31:61:5a:c8:</code><br /><code>                    c3:23:e2:33:ad:af:42:16:3a:49:9c:0e:75:e2:2a:</code><br /><code>                    78:4a:71:31:fa:25:2a:76:ae:a2:ed:f3:c1:f1:e3:</code><br /><code>                    ce:91:fd:a1:1e:35:0f:3b:c1:91:a6:69:74:82:95:</code><br /><code>                    e4:ad:e7:05:fd:86:33:99:2c:c6:5f:0a:22:d4:c5:</code><br /><code>                    f8:06:b5:b0:fc:0e:af:b9:d9:ca:de:b3:b7:e7:a5:</code><br /><code>                    80:b3:45:ee:c3:39:c0:44:81:9b:cf:ed:2e:5c:56:</code><br /><code>                    07:a1:e4:24:e2:43:e3:77:84:8a:9e:9c:96:e6:18:</code><br /><code>                    23:9f:d9:6c:9d:72:28:cc:7b:80:05:88:e6:0e:e0:</code><br /><code>                    65:ec:02:a1:33:ee:1e:57:20:4d:0d:30:da:f0:de:</code><br /><code>                    43:42:1a:41:60:3e:a9:44:d9:5a:c6:d5:31:c1:24:</code><br /><code>                    6c:70:bc:ac:67:1e:84:f2:94:b8:0d:2f:37:ef:3d:</code><br /><code>                    bd:cd:c9:2d:8a:1d:31:45:aa:e4:94:e1:4d:59:e0:</code><br /><code>                    d6:dc:87:c0:7b:08:61:96:c6:14:af:30:15:0a:c4:</code><br /><code>                    12:07:6a:c8:bb:42:19:be:e3:d8:ae:10:c1:96:1e:</code><br /><code>                    32:eb:7d</code><br /><code>                Exponent: 65537 (0x10001)</code><br /><code>    Signature Algorithm: sha256WithRSAEncryption</code><br /><code>         7e:20:d6:bf:74:6a:ff:90:24:6b:7f:4a:eb:4f:d6:e8:ca:e2:</code><br /><code>         3e:82:53:bb:26:03:13:3c:07:7c:4b:e9:11:fd:4c:ec:c8:61:</code><br /><code>         70:20:4a:63:32:6e:0c:75:c7:ce:3a:09:a2:9d:c2:2b:b8:df:</code><br /><code>         61:1e:8f:0c:3d:d8:ad:9d:aa:7e:92:1e:0f:0d:2f:70:ea:b8:</code><br /><code>         d6:22:ff:3e:33:09:ba:ed:5d:86:8a:98:4b:ae:ab:1d:47:ff:</code><br /><code>         f7:6e:01:c9:10:14:a0:01:0a:85:18:9b:4c:0f:a7:2d:22:0f:</code><br /><code>         35:03:55:59:1d:3e:18:36:d1:2a:2f:15:4d:f6:6a:40:28:8c:</code><br /><code>         14:5b:39:af:16:f1:d5:b9:8d:e9:29:ed:33:63:be:1a:07:34:</code><br /><code>         b9:3c:02:4d:95:8c:a9:a3:1d:74:56:29:01:fe:dc:93:c9:a1:</code><br /><code>         5d:88:ca:3b:11:35:18:99:89:9f:b0:39:7e:98:3e:f8:f6:e3:</code><br /><code>         e9:94:07:e5:50:40:b0:0a:6b:5b:ab:43:c7:26:e7:ac:20:b6:</code><br /><code>         e5:85:5d:79:f3:c2:00:e0:62:ee:51:11:51:73:88:6c:d2:97:</code><br /><code>         b6:33:e3:7f:02:9a:5b:a7:07:cf:f3:5b:14:1b:77:03:a1:f3:</code><br /><code>         c8:62:80:f0:9d:0c:f6:4f:c4:38:70:b7:79:60:f5:65:5a:ef:</code><br /><code>         23:42:ca:8c:ed:68:61:a8:46:32:9f:b6:43:b6:9c:20:55:36:</code><br /><code>         c1:bb:8c:7e:db:29:bd:bc:8e:16:0c:f6:c4:2d:57:98:84:6c:</code><br /><code>         49:ab:aa:49:fd:3b:03:78:9a:c7:47:ff:5e:5a:ff:ce:8e:2a:</code><br /><code>         5f:72:44:04:99:30:f3:2f:98:7b:70:e2:05:b1:b3:dd:8e:d6:</code><br /><code>         3a:dc:54:74:e8:5a:2e:27:d1:00:9b:4c:3b:f2:3e:3c:ae:97:</code><br /><code>         b2:dc:d7:e8:ac:6d:9c:c7:b5:fa:1c:f2:1c:29:3c:74:74:84:</code><br /><code>         0e:fc:7b:99:9f:91:2d:c4:ba:bc:0d:89:27:c0:2f:62:10:ab:</code><br /><code>         a7:d7:1c:b6:b9:65:0d:6e:ac:3a:ba:4d:b7:0c:e9:9d:88:26:</code><br /><code>         ad:83:9f:54:b4:46:98:8c:7f:e2:57:e8:32:fb:cf:dc:d4:ed:</code><br /><code>         1e:0a:05:15:51:1a:4e:53:f2:db:d8:60:1f:f0:bb:6e:ed:39:</code><br /><code>         d1:2a:7a:50:42:f7:39:0c:ef:8f:3d:3f:7c:9e:6e:b8:14:2a:</code><br /><code>         b0:72:e1:a7:a5:51:73:71:8d:44:11:52:eb:63:ed:85:12:70:</code><br /><code>         a6:50:48:8e:b7:73:53:9b:fb:f3:48:fe:30:1e:3c:42:6e:f5:</code><br /><code>         d0:96:75:b5:a1:84:a4:0c:65:6c:ee:6a:ef:9e:4a:d3:98:5f:</code><br /><code>         90:2f:44:04:0c:63:28:8a</code><br /><code>-----BEGIN CERTIFICATE-----</code><br /><code>MIIFADCCAugCCQC0cTrsy7t2bDANBgkqhkiG9w0BAQsFADBNMQswCQYDVQQGEwJV</code><br /><code>QTEWMBQGA1UECgwNJE9yZ2FuaXphdGlvbjEmMCQGA1UEAwwdJE9yZ2FuaXphdGlv</code><br /><code>biBJbnRlcm1lZGlhdGUgQ0EwHhcNMTgwNTE3MTM0MDI0WhcNMTkwNTE3MTM0MDI0</code><br /><code>WjA3MQswCQYDVQQGEwJVQTEWMBQGA1UECgwNJE9yZ2FuaXphdGlvbjEQMA4GA1UE</code><br /><code>AwwHJERvbWFpbjCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBAMuczvEB</code><br /><code>iGT1astvW9ZbmGI9JZCXPpTCxpu2fO6TfQBzOVmxys9xS1eF2+k4ZcuzHqN/d2rC</code><br /><code>DmdTJtGX9tKvhfm8wvVRMWtEA2RZAX8guQ031weRe/zfYG+N7YjMxUeCpwUHUYGm</code><br /><code>48ie6Rdyi1fIHuOfQGOAllk75ktsntoi+B6c8rBV2y02papGIAF7Dj4gJfeshI0J</code><br /><code>FyKG5CVinu7RPZkROfEIB8yGOm1AMlc+osRBZW4wHkr3LcDhma8OAnDO+9xsiIkC</code><br /><code>k95A8DPqCSmFcFK9rUUKMTk2I1wGuZFXjU9RqhC2ApP2pnZUcGp0WUALePbLaX1e</code><br /><code>WF3T3lhBPt5h6zCTwoueiUBCjW9Fq/u8WahZWvLC6JToUr9Y8LNQ8BzsXFzhHA+j</code><br /><code>048xYVrIwyPiM62vQhY6SZwOdeIqeEpxMfolKnauou3zwfHjzpH9oR41DzvBkaZp</code><br /><code>dIKV5K3nBf2GM5ksxl8KItTF+Aa1sPwOr7nZyt6zt+elgLNF7sM5wESBm8/tLlxW</code><br /><code>B6HkJOJD43eEip6cluYYI5/ZbJ1yKMx7gAWI5g7gZewCoTPuHlcgTQ0w2vDeQ0Ia</code><br /><code>QWA+qUTZWsbVMcEkbHC8rGcehPKUuA0vN+89vc3JLYodMUWq5JThTVng1tyHwHsI</code><br /><code>YZbGFK8wFQrEEgdqyLtCGb7j2K4QwZYeMut9AgMBAAEwDQYJKoZIhvcNAQELBQAD</code><br /><code>ggIBAH4g1r90av+QJGt/SutP1ujK4j6CU7smAxM8B3xL6RH9TOzIYXAgSmMybgx1</code><br /><code>x846CaKdwiu432Eejww92K2dqn6SHg8NL3DquNYi/z4zCbrtXYaKmEuuqx1H//du</code><br /><code>AckQFKABCoUYm0wPpy0iDzUDVVkdPhg20SovFU32akAojBRbOa8W8dW5jekp7TNj</code><br /><code>vhoHNLk8Ak2VjKmjHXRWKQH+3JPJoV2IyjsRNRiZiZ+wOX6YPvj24+mUB+VQQLAK</code><br /><code>a1urQ8cm56wgtuWFXXnzwgDgYu5REVFziGzSl7Yz438CmlunB8/zWxQbdwOh88hi</code><br /><code>gPCdDPZPxDhwt3lg9WVa7yNCyoztaGGoRjKftkO2nCBVNsG7jH7bKb28jhYM9sQt</code><br /><code>V5iEbEmrqkn9OwN4msdH/15a/86OKl9yRASZMPMvmHtw4gWxs92O1jrcVHToWi4n</code><br /><code>0QCbTDvyPjyul7Lc1+isbZzHtfoc8hwpPHR0hA78e5mfkS3EurwNiSfAL2IQq6fX</code><br /><code>HLa5ZQ1urDq6TbcM6Z2IJq2Dn1S0RpiMf+JX6DL7z9zU7R4KBRVRGk5T8tvYYB/w</code><br /><code>u27tOdEqelBC9zkM7489P3yebrgUKrBy4aelUXNxjUQRUutj7YUScKZQSI63c1Ob</code><br /><code>+/NI/jAePEJu9dCWdbWhhKQMZWzuau+eStOYX5AvRAQMYyiK</code><br /><code>-----END CERTIFICATE-----</code><br /><code>client.crt: OK</code><br /><code>Certificate:</code><br /><code>    Data:</code><br /><code>        Version: 1 (0x0)</code><br /><code>        Serial Number: 13002238387900085869 (0xb4713aeccbbb766d)</code><br /><code>    Signature Algorithm: sha256WithRSAEncryption</code><br /><code>        Issuer: C=UA, O=$Organization, CN=$Organization Intermediate CA</code><br /><code>        Validity</code><br /><code>            Not Before: May 17 13:40:24 2018 GMT</code><br /><code>            Not After : May 17 13:40:24 2019 GMT</code><br /><code>        Subject: C=UA, O=$Organization, CN=$FullName/emailAddress=$EmailName@$Domain</code><br /><code>        Subject Public Key Info:</code><br /><code>            Public Key Algorithm: rsaEncryption</code><br /><code>                Public-Key: (4096 bit)</code><br /><code>                Modulus:</code><br /><code>                    00:b3:7c:0a:3e:1b:68:ec:8f:38:48:bb:20:cb:31:</code><br /><code>                    40:c5:f0:4b:24:40:71:f9:b0:fe:4c:31:ac:67:0f:</code><br /><code>                    a3:1c:38:1a:bd:c3:b5:af:a5:5a:63:c8:dc:7e:bf:</code><br /><code>                    f3:35:6b:5e:a0:e5:ed:8a:4b:6d:bb:39:c8:66:c2:</code><br /><code>                    3d:a2:01:2d:29:a4:74:03:ea:cb:d1:d4:ab:8c:62:</code><br /><code>                    84:b2:40:93:c8:4c:5b:4d:53:05:e1:2f:06:0f:92:</code><br /><code>                    ca:29:41:f3:02:4a:3c:80:86:e0:35:fd:d6:7d:29:</code><br /><code>                    fa:57:7f:0b:19:9f:75:24:f9:9c:90:7a:40:02:30:</code><br /><code>                    ef:dd:0e:94:1d:3e:1e:89:2a:a1:39:43:4f:b7:24:</code><br /><code>                    2b:8b:91:06:7e:12:ba:0b:cc:0f:94:8e:09:a9:3a:</code><br /><code>                    57:fc:eb:1f:28:40:94:43:2a:54:ef:d4:ce:6f:d6:</code><br /><code>                    40:df:af:17:54:83:25:18:84:b7:40:1b:12:c0:ce:</code><br /><code>                    cd:92:dc:1e:10:58:e6:b1:93:2b:d3:65:a2:b5:7b:</code><br /><code>                    4e:4e:73:c2:13:cf:d5:5a:6b:f0:5e:1d:4f:82:eb:</code><br /><code>                    b3:e3:e5:97:36:8b:15:29:4e:36:c9:d7:36:fd:0d:</code><br /><code>                    34:8a:37:78:d7:02:50:83:64:96:0f:ae:3a:b4:f4:</code><br /><code>                    d6:1f:06:e4:2d:db:37:e5:da:7d:24:c0:65:59:73:</code><br /><code>                    32:56:b1:7b:f4:30:fb:0c:5d:1c:a1:2c:df:1b:ad:</code><br /><code>                    12:26:c6:87:70:77:a9:19:c8:34:57:d1:1d:46:8e:</code><br /><code>                    95:db:1e:4e:2f:a3:96:af:ba:e3:09:7b:1a:46:46:</code><br /><code>                    e5:0a:eb:45:d5:ac:20:de:a5:37:55:da:91:9a:42:</code><br /><code>                    dc:23:81:30:ac:7b:66:d7:3f:01:97:ca:2c:9b:d6:</code><br /><code>                    da:76:4a:9b:b3:1b:eb:18:fc:27:82:04:e4:e7:30:</code><br /><code>                    25:ba:83:7b:6f:f8:0a:2d:ba:12:40:94:dd:24:5a:</code><br /><code>                    4b:9d:b1:f9:b6:49:d9:ac:76:f6:9a:70:30:6b:ab:</code><br /><code>                    64:d3:e0:0e:65:ea:80:a5:11:b8:bc:46:62:82:e3:</code><br /><code>                    e1:c3:7b:1a:01:e2:38:fb:db:14:3c:62:76:69:dd:</code><br /><code>                    e1:f1:4f:80:52:3d:b9:17:5b:58:e3:ed:f1:88:a5:</code><br /><code>                    f2:b1:b2:cf:78:a1:c6:cc:5a:c6:c1:f5:45:56:3c:</code><br /><code>                    e7:95:c8:0e:b7:d3:6c:89:56:17:87:de:4e:e4:21:</code><br /><code>                    09:8b:a6:1f:58:a8:56:3b:cd:70:63:4c:88:36:d0:</code><br /><code>                    93:c7:6a:b7:ce:63:43:88:9a:b0:75:d7:64:e3:1e:</code><br /><code>                    4c:7b:1e:4f:91:79:12:ee:ab:06:84:d5:9c:60:c4:</code><br /><code>                    37:6b:71:f3:b8:7e:d9:39:2a:f2:a3:36:bd:f3:96:</code><br /><code>                    b0:37:a7</code><br /><code>                Exponent: 65537 (0x10001)</code><br /><code>    Signature Algorithm: sha256WithRSAEncryption</code><br /><code>         48:fa:09:b6:e4:a7:53:0e:5a:7b:ac:c2:0a:0d:05:98:96:02:</code><br /><code>         65:7b:cf:94:66:b2:34:cf:9f:6c:e6:6d:8c:62:a1:8b:20:b1:</code><br /><code>         bf:94:f2:e6:c3:77:36:53:03:f2:4f:c8:89:da:e6:59:15:a1:</code><br /><code>         b8:cf:dd:7c:d6:8e:fe:a5:6b:b1:06:bf:ed:b5:cd:60:8f:d7:</code><br /><code>         31:bb:45:27:f3:d9:51:db:f3:4b:61:1d:c8:25:48:91:b5:42:</code><br /><code>         2f:df:0f:b2:52:c9:81:d1:dd:2f:ce:62:59:0f:fb:c8:a7:cf:</code><br /><code>         e8:cf:b9:bb:ad:88:38:fe:7e:53:e1:0e:a9:81:2d:08:85:b1:</code><br /><code>         86:4a:a2:c2:5e:83:16:f6:eb:d9:94:f8:d1:0b:68:a0:ba:3c:</code><br /><code>         77:41:61:39:41:85:c1:81:8a:59:0d:4f:e7:5f:b5:92:d8:96:</code><br /><code>         c6:ba:df:9b:0c:1a:a6:96:dd:d5:bf:e3:bd:a1:01:56:22:fc:</code><br /><code>         c2:06:96:d9:1b:de:74:4b:40:93:c1:78:5d:10:2e:8c:fb:13:</code><br /><code>         6f:3f:c6:2b:38:55:23:80:56:ef:1c:0c:df:d6:f7:eb:e6:6a:</code><br /><code>         7d:09:a9:84:b6:cc:0e:cd:34:d5:c9:b8:59:10:3f:46:b6:0a:</code><br /><code>         27:f4:0e:67:25:7a:f9:ee:3d:6a:b8:fc:92:f4:90:8c:da:13:</code><br /><code>         51:aa:b9:09:09:3a:c6:8b:a0:5c:f0:fa:59:8a:67:1b:9c:a8:</code><br /><code>         ad:39:32:ce:17:b9:1e:67:a2:8a:f7:3b:7a:77:5b:5b:8a:e8:</code><br /><code>         34:15:50:58:0a:71:16:94:0d:36:d8:50:14:65:32:da:67:ec:</code><br /><code>         c7:e2:87:b2:03:18:d9:1e:f7:46:e0:79:52:0b:78:67:12:8b:</code><br /><code>         56:25:7b:d1:b9:8d:20:f0:f5:73:44:38:3a:a1:f4:e6:61:16:</code><br /><code>         79:fa:03:25:de:99:61:b0:1b:8a:ef:31:6d:32:fd:82:61:65:</code><br /><code>         14:33:33:9f:64:70:b0:96:12:06:42:d1:1e:f1:30:e8:7e:69:</code><br /><code>         60:ef:b4:08:2d:45:a9:a2:04:48:19:6a:33:31:48:a1:44:65:</code><br /><code>         37:e7:42:e2:3f:97:2b:27:09:7f:18:85:8e:27:b4:2a:8e:ad:</code><br /><code>         22:db:ff:a3:42:43:e0:3b:bf:6b:35:ac:87:72:fb:de:34:02:</code><br /><code>         6c:ca:21:57:88:11:00:6e:57:3e:dc:77:41:7b:36:57:03:9d:</code><br /><code>         ee:83:13:a2:ef:a2:05:d4:a8:1f:de:a3:51:44:40:4a:40:2d:</code><br /><code>         1f:f6:8f:31:40:c0:6b:ca:48:30:80:a4:20:61:0e:ce:10:67:</code><br /><code>         d9:61:64:8b:f4:a1:65:e3:25:bf:a0:9c:47:d8:10:d4:d8:64:</code><br /><code>         eb:59:58:63:3a:2c:89:c7</code><br /><code>-----BEGIN CERTIFICATE-----</code><br /><code>MIIFJTCCAw0CCQC0cTrsy7t2bTANBgkqhkiG9w0BAQsFADBNMQswCQYDVQQGEwJV</code><br /><code>QTEWMBQGA1UECgwNJE9yZ2FuaXphdGlvbjEmMCQGA1UEAwwdJE9yZ2FuaXphdGlv</code><br /><code>biBJbnRlcm1lZGlhdGUgQ0EwHhcNMTgwNTE3MTM0MDI0WhcNMTkwNTE3MTM0MDI0</code><br /><code>WjBcMQswCQYDVQQGEwJVQTEWMBQGA1UECgwNJE9yZ2FuaXphdGlvbjESMBAGA1UE</code><br /><code>AwwJJEZ1bGxOYW1lMSEwHwYJKoZIhvcNAQkBFhIkRW1haWxOYW1lQCREb21haW4w</code><br /><code>ggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQCzfAo+G2jsjzhIuyDLMUDF</code><br /><code>8EskQHH5sP5MMaxnD6McOBq9w7WvpVpjyNx+v/M1a16g5e2KS227Ochmwj2iAS0p</code><br /><code>pHQD6svR1KuMYoSyQJPITFtNUwXhLwYPksopQfMCSjyAhuA1/dZ9KfpXfwsZn3Uk</code><br /><code>+ZyQekACMO/dDpQdPh6JKqE5Q0+3JCuLkQZ+EroLzA+UjgmpOlf86x8oQJRDKlTv</code><br /><code>1M5v1kDfrxdUgyUYhLdAGxLAzs2S3B4QWOaxkyvTZaK1e05Oc8ITz9Vaa/BeHU+C</code><br /><code>67Pj5Zc2ixUpTjbJ1zb9DTSKN3jXAlCDZJYPrjq09NYfBuQt2zfl2n0kwGVZczJW</code><br /><code>sXv0MPsMXRyhLN8brRImxodwd6kZyDRX0R1GjpXbHk4vo5avuuMJexpGRuUK60XV</code><br /><code>rCDepTdV2pGaQtwjgTCse2bXPwGXyiyb1tp2SpuzG+sY/CeCBOTnMCW6g3tv+Aot</code><br /><code>uhJAlN0kWkudsfm2SdmsdvaacDBrq2TT4A5l6oClEbi8RmKC4+HDexoB4jj72xQ8</code><br /><code>YnZp3eHxT4BSPbkXW1jj7fGIpfKxss94ocbMWsbB9UVWPOeVyA6302yJVheH3k7k</code><br /><code>IQmLph9YqFY7zXBjTIg20JPHarfOY0OImrB112TjHkx7Hk+ReRLuqwaE1ZxgxDdr</code><br /><code>cfO4ftk5KvKjNr3zlrA3pwIDAQABMA0GCSqGSIb3DQEBCwUAA4ICAQBI+gm25KdT</code><br /><code>Dlp7rMIKDQWYlgJle8+UZrI0z59s5m2MYqGLILG/lPLmw3c2UwPyT8iJ2uZZFaG4</code><br /><code>z9181o7+pWuxBr/ttc1gj9cxu0Un89lR2/NLYR3IJUiRtUIv3w+yUsmB0d0vzmJZ</code><br /><code>D/vIp8/oz7m7rYg4/n5T4Q6pgS0IhbGGSqLCXoMW9uvZlPjRC2igujx3QWE5QYXB</code><br /><code>gYpZDU/nX7WS2JbGut+bDBqmlt3Vv+O9oQFWIvzCBpbZG950S0CTwXhdEC6M+xNv</code><br /><code>P8YrOFUjgFbvHAzf1vfr5mp9CamEtswOzTTVybhZED9Gtgon9A5nJXr57j1quPyS</code><br /><code>9JCM2hNRqrkJCTrGi6Bc8PpZimcbnKitOTLOF7keZ6KK9zt6d1tbiug0FVBYCnEW</code><br /><code>lA022FAUZTLaZ+zH4oeyAxjZHvdG4HlSC3hnEotWJXvRuY0g8PVzRDg6ofTmYRZ5</code><br /><code>+gMl3plhsBuK7zFtMv2CYWUUMzOfZHCwlhIGQtEe8TDofmlg77QILUWpogRIGWoz</code><br /><code>MUihRGU350LiP5crJwl/GIWOJ7Qqjq0i2/+jQkPgO79rNayHcvveNAJsyiFXiBEA</code><br /><code>blc+3HdBezZXA53ugxOi76IF1Kgf3qNRREBKQC0f9o8xQMBrykgwgKQgYQ7OEGfZ</code><br /><code>YWSL9KFl4yW/oJxH2BDU2GTrWVhjOiyJxw==</code><br /><code>-----END CERTIFICATE-----</code><br /><code>orabuntu@pasadena1:~/Certs$ ls -lrt</code><br /><code>total 76</code><br /><code>-rwxr-xr-x 1 orabuntu orabuntu 3293 May 17 08:39 certs.sh</code><br /><code>-rw-r--r-- 1 orabuntu orabuntu 3326 May 17 08:40 rootCA.key</code><br /><code>-rw-r--r-- 1 orabuntu orabuntu 1919 May 17 08:40 rootCA.crt</code><br /><code>-rw-r--r-- 1 orabuntu orabuntu 3326 May 17 08:40 intermediateCA.key</code><br /><code>-rw-r--r-- 1 orabuntu orabuntu  101 May 17 08:40 v3_ca.ext</code><br /><code>-rw-r--r-- 1 orabuntu orabuntu 1663 May 17 08:40 intermediateCA.csr</code><br /><code>-rw-r--r-- 1 orabuntu orabuntu   17 May 17 08:40 rootCA.srl</code><br /><code>-rw-r--r-- 1 orabuntu orabuntu 2049 May 17 08:40 intermediateCA.crt</code><br /><code>-rw-r--r-- 1 orabuntu orabuntu 3326 May 17 08:40 server.key.secure</code><br /><code>-rw-r--r-- 1 orabuntu orabuntu 1630 May 17 08:40 server.csr</code><br /><code>-rw-r--r-- 1 orabuntu orabuntu 1793 May 17 08:40 server.crt <span style="color:rgb(255,0,0)"><b>       &lt;-- Use this one for "SSL Certificate"</b></span></code><br /><code>-rw-r--r-- 1 orabuntu orabuntu 3243 May 17 08:40 server.key        <b><span style="color:rgb(255,0,0)">&lt;-- Use this one for "SSL Private Key"</span></b></code><br /><code>-rw-r--r-- 1 orabuntu orabuntu 3326 May 17 08:40 client.key</code><br /><code>-rw-r--r-- 1 orabuntu orabuntu 1683 May 17 08:40 client.csr</code><br /><code>-rw-r--r-- 1 orabuntu orabuntu   17 May 17 08:40 intermediateCA.srl</code><br /><code>-rw-r--r-- 1 orabuntu orabuntu 1846 May 17 08:40 client.crt</code><br /><code>-rw-r--r-- 1 orabuntu orabuntu 3968 May 17 08:40 CAchain.pem       <b><span style="color:rgb(255,0,0)">&lt;-- Use this one for "SSL Chain"</span></b></code><br /><code>-rw-r--r-- 1 orabuntu orabuntu 7013 May 17 08:40 client.p12</code><br /><code>orabuntu@pasadena1:~/Certs$ </code></font></div></div><div><font size="3"><br /></font></div><div><font size="3">For this example, the self-signed certificates are as shown below.  Your domain, email, name etc will be different so it will be necessary for you to re-run certs.sh and pass in your own parameters.<br /></font></div><div><font size="3"><br /></font></div><div></div><div class="sites-codeblock sites-codesnippet-block"><div><font size="3"><br /></font></div><div><font size="3"><code>orabuntu@pasadena1:~/Certs$ <b>cat server.crt                         <span style="color:rgb(255,0,0)">&lt;-- Use this one for "SSL Certificate"</span></b></code><br /><code>-----BEGIN CERTIFICATE-----</code><br /><code>MIIFADCCAugCCQC0cTrsy7t2bDANBgkqhkiG9w0BAQsFADBNMQswCQYDVQQGEwJV</code><br /><code>QTEWMBQGA1UECgwNJE9yZ2FuaXphdGlvbjEmMCQGA1UEAwwdJE9yZ2FuaXphdGlv</code><br /><code>biBJbnRlcm1lZGlhdGUgQ0EwHhcNMTgwNTE3MTM0MDI0WhcNMTkwNTE3MTM0MDI0</code><br /><code>WjA3MQswCQYDVQQGEwJVQTEWMBQGA1UECgwNJE9yZ2FuaXphdGlvbjEQMA4GA1UE</code><br /><code>AwwHJERvbWFpbjCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoCggIBAMuczvEB</code><br /><code>iGT1astvW9ZbmGI9JZCXPpTCxpu2fO6TfQBzOVmxys9xS1eF2+k4ZcuzHqN/d2rC</code><br /><code>DmdTJtGX9tKvhfm8wvVRMWtEA2RZAX8guQ031weRe/zfYG+N7YjMxUeCpwUHUYGm</code><br /><code>48ie6Rdyi1fIHuOfQGOAllk75ktsntoi+B6c8rBV2y02papGIAF7Dj4gJfeshI0J</code><br /><code>FyKG5CVinu7RPZkROfEIB8yGOm1AMlc+osRBZW4wHkr3LcDhma8OAnDO+9xsiIkC</code><br /><code>k95A8DPqCSmFcFK9rUUKMTk2I1wGuZFXjU9RqhC2ApP2pnZUcGp0WUALePbLaX1e</code><br /><code>WF3T3lhBPt5h6zCTwoueiUBCjW9Fq/u8WahZWvLC6JToUr9Y8LNQ8BzsXFzhHA+j</code><br /><code>048xYVrIwyPiM62vQhY6SZwOdeIqeEpxMfolKnauou3zwfHjzpH9oR41DzvBkaZp</code><br /><code>dIKV5K3nBf2GM5ksxl8KItTF+Aa1sPwOr7nZyt6zt+elgLNF7sM5wESBm8/tLlxW</code><br /><code>B6HkJOJD43eEip6cluYYI5/ZbJ1yKMx7gAWI5g7gZewCoTPuHlcgTQ0w2vDeQ0Ia</code><br /><code>QWA+qUTZWsbVMcEkbHC8rGcehPKUuA0vN+89vc3JLYodMUWq5JThTVng1tyHwHsI</code><br /><code>YZbGFK8wFQrEEgdqyLtCGb7j2K4QwZYeMut9AgMBAAEwDQYJKoZIhvcNAQELBQAD</code><br /><code>ggIBAH4g1r90av+QJGt/SutP1ujK4j6CU7smAxM8B3xL6RH9TOzIYXAgSmMybgx1</code><br /><code>x846CaKdwiu432Eejww92K2dqn6SHg8NL3DquNYi/z4zCbrtXYaKmEuuqx1H//du</code><br /><code>AckQFKABCoUYm0wPpy0iDzUDVVkdPhg20SovFU32akAojBRbOa8W8dW5jekp7TNj</code><br /><code>vhoHNLk8Ak2VjKmjHXRWKQH+3JPJoV2IyjsRNRiZiZ+wOX6YPvj24+mUB+VQQLAK</code><br /><code>a1urQ8cm56wgtuWFXXnzwgDgYu5REVFziGzSl7Yz438CmlunB8/zWxQbdwOh88hi</code><br /><code>gPCdDPZPxDhwt3lg9WVa7yNCyoztaGGoRjKftkO2nCBVNsG7jH7bKb28jhYM9sQt</code><br /><code>V5iEbEmrqkn9OwN4msdH/15a/86OKl9yRASZMPMvmHtw4gWxs92O1jrcVHToWi4n</code><br /><code>0QCbTDvyPjyul7Lc1+isbZzHtfoc8hwpPHR0hA78e5mfkS3EurwNiSfAL2IQq6fX</code><br /><code>HLa5ZQ1urDq6TbcM6Z2IJq2Dn1S0RpiMf+JX6DL7z9zU7R4KBRVRGk5T8tvYYB/w</code><br /><code>u27tOdEqelBC9zkM7489P3yebrgUKrBy4aelUXNxjUQRUutj7YUScKZQSI63c1Ob</code><br /><code>+/NI/jAePEJu9dCWdbWhhKQMZWzuau+eStOYX5AvRAQMYyiK</code><br /><code>-----END CERTIFICATE-----</code><br /><code>orabuntu@pasadena1:~/Certs$ cat <b>server.key</b>                         <span style="color:rgb(255,0,0)"><b>&lt;-- Use this one for "SSL Private Key"</b></span></code><br /><code>-----BEGIN RSA PRIVATE KEY-----</code><br /><code>MIIJKQIBAAKCAgEAy5zO8QGIZPVqy29b1luYYj0lkJc+lMLGm7Z87pN9AHM5WbHK</code><br /><code>z3FLV4Xb6Thly7Meo393asIOZ1Mm0Zf20q+F+bzC9VExa0QDZFkBfyC5DTfXB5F7</code><br /><code>/N9gb43tiMzFR4KnBQdRgabjyJ7pF3KLV8ge459AY4CWWTvmS2ye2iL4HpzysFXb</code><br /><code>LTalqkYgAXsOPiAl96yEjQkXIobkJWKe7tE9mRE58QgHzIY6bUAyVz6ixEFlbjAe</code><br /><code>SvctwOGZrw4CcM773GyIiQKT3kDwM+oJKYVwUr2tRQoxOTYjXAa5kVeNT1GqELYC</code><br /><code>k/amdlRwanRZQAt49stpfV5YXdPeWEE+3mHrMJPCi56JQEKNb0Wr+7xZqFla8sLo</code><br /><code>lOhSv1jws1DwHOxcXOEcD6PTjzFhWsjDI+Izra9CFjpJnA514ip4SnEx+iUqdq6i</code><br /><code>7fPB8ePOkf2hHjUPO8GRpml0gpXkrecF/YYzmSzGXwoi1MX4BrWw/A6vudnK3rO3</code><br /><code>56WAs0XuwznARIGbz+0uXFYHoeQk4kPjd4SKnpyW5hgjn9lsnXIozHuABYjmDuBl</code><br /><code>7AKhM+4eVyBNDTDa8N5DQhpBYD6pRNlaxtUxwSRscLysZx6E8pS4DS837z29zckt</code><br /><code>ih0xRarklOFNWeDW3IfAewhhlsYUrzAVCsQSB2rIu0IZvuPYrhDBlh4y630CAwEA</code><br /><code>AQKCAgEAp6g7DmBAu0EJ6vGLIXrSgzHuWJzxPvUTLOya+qgfadt3AdBQO3gCndLv</code><br /><code>PZ7e01huhhpTbmjUC2iAslz7NIirPPSdY/qzQqwCTwKrJM8BEU1FlknJWnNkqPao</code><br /><code>/NgAKd3/QTjBeIy/S1bugAwliOaT6MIc9tHO+zNDch/CvcPFow+BFonbq+MvjoGn</code><br /><code>oRB+rdEy8jnv+2Hc1uVTvyTx0ZwhqIRyvXHrWhG80nDmAsjkpc1jg9PDXd8ioYwi</code><br /><code>S+6xO8pzwRDtbEPfFkdKgrTXToU99COTJSI7XeyiOQigjHkXNpT8AD6e6M9USmNF</code><br /><code>HaMoSoAn3q+n8T9abAglMW6oId1nFmS1gWAxs8c6W82o/1WRKRXTOvIVDY4Hznxo</code><br /><code>zGAbXDrf2+C7TmL0IbHcWEtA2GwtKEtByghUQeglnFtRUEYC/eB3T8cIPl4ue8Eu</code><br /><code>v3UMgsJBKXScAhSVeKm+QUaReZkhtptymrESEEDop/0uYKJIeW7nydSCdeJrpNfD</code><br /><code>zO2+gMX/J3jASvi/jMf9ObSeU/deWBcBWmPHzb1M8zgkLSTi91owP3hr3mWGJIzV</code><br /><code>5tPxkcQ/LieQPPIj9ichbztF0fn21tz5aiKfflwysmXVGFKNtKdLStNye97eOwy2</code><br /><code>0Lk9jghySk3zADDaf6NERoKD7fPtw83t8aArszQ7QwZ2EXUtntECggEBAOp0b12H</code><br /><code>hn139qyAe/ilhnKrQpGqaVkGBuYeJSEevPlBnQVsGuMh3x9QEOkptmrNmKW0VoxK</code><br /><code>ppAHeeYu0PzelZgh/UnTHNpI5tb883yaPsJ/LVfhNq/2gTScYtq/eCx9v77QyVc8</code><br /><code>3Yvc5IRyPsuBv/rYasXSdIsirDUA85Ao3Frt5IjtV59waNUHzgzK0mH9f0Mbn0gY</code><br /><code>v9saNhcgAIckoX3nMkIg5ohO+wRzMj6CkJWPGZ/1QfMCK1SsVhhMfLF9W6ZGmM/8</code><br /><code>VPiqss9JACJ0uJSVBuvwVLCrJnoZkxUt0H22u4Sv42UAd2VIGn0DrWDwVDMUpP74</code><br /><code>4q+k9s3azXTAECMCggEBAN5SznIjlAq7s7nrA+YCWzZYK0frMQdyYngQKl7qphKp</code><br /><code>F2ipOVHiL7XHigNOV7crFbMSa4z8idfidbJzlVBVHr4A5tpdmI9E9wNu2RoHAa90</code><br /><code>seEdYbLkDOIJfRBSvYs4ktWxeJxaCITFTXeOtoEED24cvvn2oVLLJBBMuVIiseNQ</code><br /><code>+FCAYRm+zHuWcF77nA57qt7uIR8pDtbIbfkQ7l8JkRrEJLQTYwVfNfUZZNvoGX0G</code><br /><code>kYOSxAvXgOpoTe60xpUjE8jfWnBLftd1kje+y5XtedlDQbfjjVm6Y/txlkzcpq0S</code><br /><code>al7c1e+Sm8/TbDE5oPqiX/3zzyaLd9ebuYe9Zf4G/98CggEAApjjmu+jZ8RqcSLD</code><br /><code>PM/om2CWTjLLE/djIC15T9KdWU2GxcaazaVUaW5joZGaubgpVryWsNsq2TGcAhbG</code><br /><code>reZxVcwamDTEfw6LsBoBQIIc696oy+5swqpCaCjLV40Dccq60wxRDqxX7/K0fVse</code><br /><code>ovZ+//JhzGs2a0wpCDVIfXJWbpNwEqw+aj++iY2alL2ycu9x93ZY312W0oCJ1Nu/</code><br /><code>5b9cIp7rCZx/sUbetP/psJOVsnJxYDpBTsXZYQi/s2k1gGnZGBB0JOmwr0iEzpMK</code><br /><code>c1dDrDGyb+6roYFj3bpmzLdDNgFONnwUUswchnyz/mqKAybmZ+J0qXZsXHHBYipo</code><br /><code>WEDAbQKCAQAvhROLYf9qq+QmgQ08RJSqcP4PST4ZkWFquEnWL+F/a5UNUd5mmioI</code><br /><code>eLYPLteg1xy0QeOrJu9vrX/qvLnVidwgUKEHW6oYNW121mKhJY4+qnq620Ter8/x</code><br /><code>IIYSzxykfVslQeG9yaC4gFOmkmKAARYrOwm28/hXcgQrV7rky3WqWMw6qLYYgqfC</code><br /><code>Ys1x/+XDUrubGtsJhgUd84lOC0hoF+tkBTizJNGtfERUNzFPr7SC/Lxtmxk8TrvH</code><br /><code>XrQJqaoohm7cKKF0Dy71brPqJmXtjezVe4K4g3LbEvP78rNlimQ16hHCZQF1S6jy</code><br /><code>KwadHuxBpiNObKaCXp0nAKoPUXRTb7uRAoIBAQDQrVhpE8YgS27RaKxaK3RP2CxS</code><br /><code>0NYGomNdToLhJABo1yVEgzCjCMVFZcYqlAWDxALeKobY0yH+plfzNUS5m62uCXeO</code><br /><code>uEaaMhunwZguqLBEmg06FRPwNov9nfa9TRk7mwwspn518I6k8rrMvpa4gR8fZO2Z</code><br /><code>2INHE4mt0YYeDuJDTnEiuqNDYjKnq3DVP3yZGUYpkEgJ8FhN7UWhuwFTPMIBKDxa</code><br /><code>aP4Pz3QGWgdWITyVA8TDBIShlOSMfvM6mydtkVVExevXFXkmJ5yJ8ln5PyN2VdMv</code><br /><code>6s+qbOe2QNO/IoZJcv5xjvVxkb089ffjFR74b0kQzTkBz/91/jr8ZhHxwEoT</code><br /><code>-----END RSA PRIVATE KEY-----</code><br /><code>orabuntu@pasadena1:~/Certs$ <b>cat CAchain.pem</b>                        <span style="color:rgb(255,0,0)"><b>&lt;-- Use this one for "SSL Chain" </b></span></code><br /><code>-----BEGIN CERTIFICATE-----</code><br /><code>MIIFvTCCA6WgAwIBAgIJANx6cr57Ul6bMA0GCSqGSIb3DQEBCwUAMEUxCzAJBgNV</code><br /><code>BAYTAlVBMRYwFAYDVQQKDA0kT3JnYW5pemF0aW9uMR4wHAYDVQQDDBUkT3JnYW5p</code><br /><code>emF0aW9uIFJvb3QgQ0EwHhcNMTgwNTE3MTM0MDIzWhcNMTkwNTE3MTM0MDIzWjBN</code><br /><code>MQswCQYDVQQGEwJVQTEWMBQGA1UECgwNJE9yZ2FuaXphdGlvbjEmMCQGA1UEAwwd</code><br /><code>JE9yZ2FuaXphdGlvbiBJbnRlcm1lZGlhdGUgQ0EwggIiMA0GCSqGSIb3DQEBAQUA</code><br /><code>A4ICDwAwggIKAoICAQDMuyYJML4LPsS1Z+PqzCeCdUSkTif7vO/NWpueHzoaLFHy</code><br /><code>JFUnnAbh4W8SiJReZZRHq3dlWM8f8JGU4MH+hNTX9Lkai6I0iQtL/KY8x2oMwerY</code><br /><code>HTeEJaO+SMRdMqp1CwMQy9fKlveXogwWwd7EpLmWv72S6fimowcyw3g760j1TEQU</code><br /><code>Daz/PlNH814fOcVXQNnrMXKLUTFJuhg5/e4jZor5sTtaq81h+6Kqr+3J64PAXxKS</code><br /><code>4GfLkQ6JwbGcXXf4JinLr71RUWPU7Rsv8VkjHrIxZGkdOf5FX3MkJd3btTbnY06t</code><br /><code>V+ntjds3XxOWvGT6c43fON8xlodRkHy0jpiWnU0aK7VqrFuqKUvKHD7Dyna5BReJ</code><br /><code>tcd/yg+G90eiX3Ay+ZMzF5z/qpxO5jDiTfvms2twZY89lFlZ9F+WvFjdfqWAmzpD</code><br /><code>TBL1ncg829p/6yo3OYneFupEFAzr4VQs/YJ3xmhbirGQFjATayIynoV4ynpNZ9no</code><br /><code>Q9Wm/Z5Pj2KaW9V92qeAzIcJxbeDG0+hwKlYRd8x/HwbEQZHbBbwkGwcVJrKQpUJ</code><br /><code>ZvtOk3NlarIJ+RBL6Whuo3b4J7tj4dwN44a2HQYSWR6LMvkJ5QrPHsXodhSU6EW6</code><br /><code>9Ab7gKg0qriZWsbkApMwYcAYlkrrmxUZNq3vUxJ0Ygs3mZpB1222ydHkxN0uYwID</code><br /><code>AQABo4GnMIGkMB0GA1UdDgQWBBR4S2JvZu8/qJb8mFO6vbu8j+I82TB1BgNVHSME</code><br /><code>bjBsgBTE0C//lLbJ6wnUNdr9RChfQFhFH6FJpEcwRTELMAkGA1UEBhMCVUExFjAU</code><br /><code>BgNVBAoMDSRPcmdhbml6YXRpb24xHjAcBgNVBAMMFSRPcmdhbml6YXRpb24gUm9v</code><br /><code>dCBDQYIJALpdOsQgmNiVMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQELBQADggIB</code><br /><code>AHC3a+4c2usGSRsq53UDueMFU8SWC5NW47+SqM7UM7SNmvO5yNxOnJfe/ZnbQcNN</code><br /><code>2srrA0DYcuUfTPb3bR/SU8DTFHbQqKfzIPUwrNI+79gs34DdsoYGL9JplU4qz8LH</code><br /><code>s8A1b8OrqlsAxlt1NsAWwfoEAoQ5KeKhS6FgRwEai7qWjTLqc/RohAuWzjrimG4p</code><br /><code>u+Xg+RCDj4pNFlOSbYJ6JaEXuGdiJRrUNFP1mpJJ8qWfVBGUtMKcHqcSgOzsqZXO</code><br /><code>sV8c+BtGheNhRs0I8ManvXlXFMx/C5EI4jNTg5s/K+D91BNktR31fT/Ayus6a6UB</code><br /><code>ofJi8JEVqdLGnBWZ00xf9ISH5PF92V/fMzsfoTx0qzfL8rGFv/o34f/AkEyIbUJL</code><br /><code>6y/GhyXP5egx7O1LjUp73Q7SBtlM3cIW4WkTTp8ih1KDoDBT1CVPIRPvhkZbLIEO</code><br /><code>Qq0+6qftHKwM4suVuENSReglZSGDu4G4JbEXbqp/j4eC/3jRzoRFloX99DpK+cpV</code><br /><code>Zpz7T/9jGUq/gL0o6MmQ8+Giy5l6yuF67lJO+YYScsJcPPUmNhkp3KeAJiY9GOMu</code><br /><code>Xv3ruW8D2kjPfvQloBruL8zpak3DxghmmQ90xOU2RMu58wHwlvQLY35uGcr/g/UI</code><br /><code>z472tPi7McAeSu49qKKgAL9Z9IK20g5KheHYnI83/a3G</code><br /><code>-----END CERTIFICATE-----</code><br /><code>-----BEGIN CERTIFICATE-----</code><br /><code>MIIFXTCCA0WgAwIBAgIJALpdOsQgmNiVMA0GCSqGSIb3DQEBCwUAMEUxCzAJBgNV</code><br /><code>BAYTAlVBMRYwFAYDVQQKDA0kT3JnYW5pemF0aW9uMR4wHAYDVQQDDBUkT3JnYW5p</code><br /><code>emF0aW9uIFJvb3QgQ0EwHhcNMTgwNTE3MTM0MDIxWhcNMjgwNTE0MTM0MDIxWjBF</code><br /><code>MQswCQYDVQQGEwJVQTEWMBQGA1UECgwNJE9yZ2FuaXphdGlvbjEeMBwGA1UEAwwV</code><br /><code>JE9yZ2FuaXphdGlvbiBSb290IENBMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIIC</code><br /><code>CgKCAgEAp61Gt4pwQAmieKaDVp20yAlwUvQAXdOT0Uu32Au+GMhqd/pkzNd/MxaA</code><br /><code>sUbwe2JFqeYRwLlBOo/XmwQ5a2I6kqBej02BpgUoGQ81F17Fa/PQy+eSyKCpMgaO</code><br /><code>TtOTkwJZdS/mct8TngGReMXbVv+Uk4LdPZUJr7O347t1GDmnwM59bkdA1wv+zwP8</code><br /><code>6EZdBFktOSvbj5A4eKYXTMV5VVmAoe9YYANXUK3ZVscqJ6zdpb7W9V8ltSBnIWtm</code><br /><code>HEHzWVqWEg7tHtLQfJdE0uXobBJ3w6tIYjfIVDJyfaFeT7hJAa4RJHsdlz+4WJb9</code><br /><code>7PehbUsICil+rSmmyRElqKeSsbqDvNdr/+/QeU0ituBm6syHgq9VCCBbMrQeemS0</code><br /><code>4l4KpXXD4J72PXBEWficvXDEpn7IEVR3jyh9pe3demJi/fR7/0OAASi8lDz1yW95</code><br /><code>gM2Az3NYpBf8GUpPGvOo3yfh5hmQcq/10b3BPT6IP5UthEuTQCbp5BQzoMxUuOnL</code><br /><code>18MKs9D4WAVpQTkFVFFDCH9GSWTCglALaLSXBwgpUCi1ffTem809q775rwf/txrs</code><br /><code>wEajtVaV0dnilMQoWqyW2jVYuh5H+XkwkiDk5xaFY7Qc30i483jJKEeEUpdoQVo6</code><br /><code>EmDhs7zZ38TLMu1euL/3vAwyXCIUM2qMVD8GJ4p39jHQkiVclZkCAwEAAaNQME4w</code><br /><code>HQYDVR0OBBYEFMTQL/+UtsnrCdQ12v1EKF9AWEUfMB8GA1UdIwQYMBaAFMTQL/+U</code><br /><code>tsnrCdQ12v1EKF9AWEUfMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQELBQADggIB</code><br /><code>AEhUcQi+LjKjmXUrU6bjIBA7hXZyKcn5KJEZbU8qOG7ZSW/uo6ydPCZ0mymMxO4V</code><br /><code>EQjoZB16x73K6iheubKeSEmQR9CZF5O+YJCQkqb6dsw2gQaNm8vIKv+Odw65fDq6</code><br /><code>rYJqVOLjSsV689MT/VQRuDCoL2uhQ/YFM1BP2uMTClAj+upMHbJYW82RzXzJiYR3</code><br /><code>yQhkxyiZ956RjZm13EYA8cBEaH/EkRYunKN/3Tf9F8tCNRG6cbJ44R9Nz7EP8mXB</code><br /><code>wQTZ+nj9cKCpbTc1nWo8veVj25Y22UVucEZaImCODU9Ag26SnSXsJKc6Uuq78TeZ</code><br /><code>nqdxeZAsXT857b2GOfi8vTC/VSL/Exn3zwGNYVkn5RWKPrtj/txGLJqj82K1QjGo</code><br /><code>wdBhxt6UZJ0zdTZniYqpoaDOhYWMUGxdGroI+hxHtxpsGtkvOwYuuBp4oSBxh/zN</code><br /><code>Mj9wlrVcSmfEKi8j6O8mAb9j6ouNVdvMFRlXphVyTovFseV0aVbU7Xzk7jFxxzPq</code><br /><code>ztAhOe0vqBGm8PkTMqiM33TBto+Tj8gLMpmIj7AdE8UrRy7EB06jT20x/CDlMfkd</code><br /><code>fj7WnIARiFoU5xF5daTXIMILnHs6CPd/v1DBKZyEXl3GcJCNkma41XA/1pwPdO2X</code><br /><code>Vquc/5RftkGHBXMeMvtAzJrjXs5Lz6hJ3ggNiKatuV5F</code><br /><code>-----END CERTIFICATE-----</code><br /><code>orabuntu@pasadena1:~/Certs$</code></font></div></div><div><h3><a name="TOC-Run-Appliance-X-UI-Installer"></a>Run Appliance-X UI Installer</h3><div><h4><a name="TOC-Obtain-Appliance-X-UI-Password"></a>Obtain Appliance-X UI Password</h4><div><font size="3">Obtain the appliance-x UI password by logging on to the EC2 Linux LXC host, and then connecting to the salt-master LXC container (ora66c10), and running the appropriate salt-call command, as shown below.  The password is shown in <span style="color:rgb(255,0,0)"><b>red bold</b></span> below.  Your password will be different.<br /></font></div><div><font size="3"><br /></font></div><div></div><div class="sites-codeblock sites-codesnippet-block"><div><font size="3"><br /></font></div><div><code>orabuntu@pasadena1:~/Downloads$<b> ssh -i "gilkey1.pem" ec2-user@ec2-34-239-186-19.compute-1.amazonaws.com</b></code></div><div><code>Last login: Wed May 16 14:10:14 2018 from 24.178.248.3</code></div><div><br /></div><div><code>[ec2-user@ip-10-0-134-13 ~]$ <b>sudo lxc-ls -f</b></code></div><div><br /></div><div><code>NAME       STATE   AUTOSTART GROUPS IPV4                      IPV6 </code><br /><code>afns1      RUNNING 0         -      10.205.49.2, 172.27.109.2 -    </code><br /><code>afns1-base STOPPED 0         -      -                         -    </code><br /><code>oel66c10   RUNNING 0         -      172.27.109.10             -    </code><br /><code>ora66c10   RUNNING 0         -      10.205.49.10              -    </code><br /><code>ora66c11   RUNNING 0         -      10.205.49.11              -    </code><br /><code>ora66c12   RUNNING 0         -      10.205.49.12              -    </code><br /><code>ora66c13   RUNNING 0         -      10.205.49.13              -    </code><br /></div><div><br /></div><div><code>[ec2-user@ip-10-0-134-13 ~]$ <b>sudo lxc-attach -n ora66c10</b></code></div><div><br /></div><div><code>[root@ora66c10 /]# <b>salt-call pillar.get keys-dec:appliancex-ui</b></code><br /><code>local:</code><br /><code>    <span style="color:rgb(255,0,0)"><b>062105a72a</b></span></code></div></div><br /><h4><a name="TOC-Connect-to-Appliance-X-Installer"></a>Connect to Appliance-X Installer</h4><div><font size="3">Connect to the appliance-x UI installer using the public DNS address of the EC2 Linux LXC host, th port 5000, and the password obtained in the previous as shown below.</font></div><div><font size="3"><br /></font></div><div><font size="3"><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;09-25-08.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526567190945/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;09-25-08.png" style="width:100%" /></a></div></font></div><div><h4><a name="TOC-Accept-Blackberry-License-Agreement"></a><font size="3"><div style="display:block;text-align:left">Accept Blackberry License Agreement</div></font></h4><p><font size="3">Accept the Blackberry license agreement.  Check the box, and then click "Continue" as shown below.<br /></font></p><h4><a name="TOC-7"></a><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;09-29-50.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526567406761/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;09-29-50.png" style="width:100%" /></a></div><br /></h4><h4><a name="TOC-Select-Workspaces-Install-Type"></a>Select Workspaces Install Type</h4><div><font size="3">Select the Blackberry Workspaces install type.  In this example, choose "Advanced", as shown below.</font><br /></div><h4><a name="TOC-Complete-Deploy-Machines-Information"></a><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;09-32-30.png%3Fattredirects=0" imageanchor="1"><img border="0" height="136" src="_/rsrc/1526567564855/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;09-32-30.png%3Fheight=136&amp;width=400" width="400" /></a></div>Complete Deploy Machines Information</h4><div><font size="3">Complete the "Deploy Machines" information.  The values to use are shown below.  Substitute the IP address value you chose for your LXC Linux containers from the "pgroup1" values you selected when deploying Orabuntu-LXC.  The table below summarizes the values that will be used for this example deployment.</font></div><div><font size="3"><br /></font></div><div><font size="3"><table border="1" bordercolor="#888" cellspacing="0" style="border-collapse:collapse;border-color:rgb(136,136,136);border-width:1px"><tbody><tr><td style="text-align:left;width:195.25px;height:37.25px"><b> Workspaces Type<br /></b></td><td style="text-align:left;width:121.25px;height:37.25px"><b> Machine Name<br /></b></td><td style="text-align:left;width:161.25px;height:37.25px"><b> Machine Address<br /></b></td><td style="text-align:left;width:169.25px;height:37.25px"><b> Use SSH Password</b></td><td style="text-align:left;width:144.25px;height:37.25px"><b> SSH Password<br /></b></td></tr><tr><td style="text-align:left;width:195.25px;height:19.25px">Application<br /></td><td style="text-align:left;width:121.25px;height:19.25px">app1</td><td style="text-align:left;width:161.25px;height:19.25px">10.205.49.11</td><td style="text-align:left;width:169.25px;height:19.25px">Yes</td><td style="text-align:left;width:144.25px;height:19.25px">root</td></tr><tr><td style="text-align:left;width:195.25px;height:19.25px">Main<br /></td><td style="text-align:left;width:121.25px;height:19.25px">main1 <br /></td><td style="text-align:left;width:161.25px;height:19.25px">10.205.49.12 <br /></td><td style="text-align:left;width:169.25px;height:19.25px">Yes <br /></td><td style="text-align:left;width:144.25px;height:19.25px">root <br /></td></tr><tr><td style="text-align:left;width:195.25px;height:19.25px">Load Balancer<br /></td><td style="text-align:left;width:121.25px;height:19.25px">frontend1<span>    </span><br /></td><td style="text-align:left;width:161.25px;height:19.25px">10.205.49.13 <br /></td><td style="text-align:left;width:169.25px;height:19.25px">Yes <br /></td><td style="text-align:left;width:144.25px;height:19.25px">root <br /></td></tr><tr><td style="text-align:left;width:195.25px;height:19.25px">Windows</td><td style="text-align:left;width:121.25px;height:19.25px">windows1 <br /></td><td style="text-align:left;width:161.25px;height:19.25px">10.0.137.217</td><td style="width:169.25px;height:19.25px">Yes</td><td style="width:144.25px;height:19.25px">.sv@-fc6RM</td></tr></tbody></table></font></div><div><br /></div><div><font size="3">Obtain your Windows password from the EC2 console, as previously shown in this guide in an earlier step.  </font><font size="3"><font size="3">Enter this information into the UI, </font>as shown below.</font></div><div><font size="3"><br /></font></div><div><font size="3"><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;09-49-08.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526568560889/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;09-49-08.png" style="width:100%" /></a></div><br /></font></div><div><font size="3"><br /></font></div><div><br /></div><h4><a name="TOC-8"></a><br /></h4><h4><a name="TOC-Recheck-Pre-requisites-and-Connectivity"></a>Recheck Pre-requisites and Connectivity</h4><div><font size="3">Check that "wget" package is installed on all LXC Linux containers, and check that all LXC Linux containers can ping the Windows EC instance. </font><br /></div><div class="sites-codeblock sites-codesnippet-block"><span style="font-weight:normal"><code>[ec2-user@ip-10-0-134-13 ~]$ <b>sudo lxc-attach -n ora66c11</b></code><br /><code>[root@ora66c11 /]# <b>ping -c 10 10.0.137.217</b></code><br /><code>PING 10.0.137.217 (10.0.137.217) 56(84) bytes of data.</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=1 ttl=127 time=0.917 ms</code><br /><code>From 10.205.49.2 icmp_seq=2 Redirect HostFrom 10.205.49.2: icmp_seq=2 Redirect Host(New nexthop: 10.205.49.1)</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=2 ttl=127 time=0.663 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=3 ttl=127 time=0.826 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=4 ttl=127 time=0.657 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=5 ttl=127 time=0.734 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=6 ttl=127 time=0.709 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=7 ttl=127 time=0.689 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=8 ttl=127 time=0.692 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=9 ttl=127 time=0.986 ms</code><br /><br /><code>--- 10.0.137.217 ping statistics ---</code><br /><code>9 packets transmitted, 9 received, +1 errors, 0% packet loss, time 8001ms</code><br /><code>rtt min/avg/max/mdev = 0.657/0.763/0.986/0.116 ms</code><br /><code>[root@ora66c11 /]# exit</code><br /><code>exit</code><br /><code>[ec2-user@ip-10-0-134-13 ~]$ <b>sudo lxc-attach -n ora66c12</b></code><br /><code>[root@ora66c12 /]# <b>ping -c 10 10.0.137.217</b></code><br /><code>PING 10.0.137.217 (10.0.137.217) 56(84) bytes of data.</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=1 ttl=127 time=0.808 ms</code><br /><code>From 10.205.49.2: icmp_seq=2 Redirect Host(New nexthop: 10.205.49.1)</code><br /><code>From 10.205.49.2 icmp_seq=2 Redirect Host64 bytes from 10.0.137.217: icmp_seq=2 ttl=127 time=0.722 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=3 ttl=127 time=0.902 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=4 ttl=127 time=0.664 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=5 ttl=127 time=0.679 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=6 ttl=127 time=0.693 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=7 ttl=127 time=0.694 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=8 ttl=127 time=0.660 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=9 ttl=127 time=0.714 ms</code><br /><br /><code>--- 10.0.137.217 ping statistics ---</code><br /><code>9 packets transmitted, 9 received, +1 errors, 0% packet loss, time 8001ms</code><br /><code>rtt min/avg/max/mdev = 0.660/0.726/0.902/0.076 ms</code><br /><code>[root@ora66c12 /]# exit</code><br /><code>exit</code><br /><code>[ec2-user@ip-10-0-134-13 ~]$ <b>sudo lxc-attach -n ora66c13</b></code><br /><code>[root@ora66c13 /]# <b>ping -c 10 10.0.137.217</b></code><br /><code>PING 10.0.137.217 (10.0.137.217) 56(84) bytes of data.</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=1 ttl=127 time=0.976 ms</code><br /><code>From 10.205.49.2 icmp_seq=2 Redirect HostFrom 10.205.49.2: icmp_seq=2 Redirect Host(New nexthop: 10.205.49.1)</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=2 ttl=127 time=0.724 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=3 ttl=127 time=0.891 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=4 ttl=127 time=0.655 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=5 ttl=127 time=0.680 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=6 ttl=127 time=0.692 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=7 ttl=127 time=0.696 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=8 ttl=127 time=0.756 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=9 ttl=127 time=0.660 ms</code><br /><br /><code>--- 10.0.137.217 ping statistics ---</code><br /><code>9 packets transmitted, 9 received, +1 errors, 0% packet loss, time 8001ms</code><br /><code>rtt min/avg/max/mdev = 0.655/0.747/0.976/0.110 ms</code><br /><code>[root@ora66c13 /]# exit</code><br /><code>exit</code><br /><code>[ec2-user@ip-10-0-134-13 ~]$ <b>sudo lxc-attach -n ora66c10</b></code><br /><code>[root@ora66c10 /]# <b>ping -c 10 10.0.137.217</b></code><br /><code>PING 10.0.137.217 (10.0.137.217) 56(84) bytes of data.</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=1 ttl=127 time=0.933 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=2 ttl=127 time=0.687 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=3 ttl=127 time=0.699 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=4 ttl=127 time=0.649 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=5 ttl=127 time=0.653 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=6 ttl=127 time=0.839 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=7 ttl=127 time=0.751 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=8 ttl=127 time=0.686 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=9 ttl=127 time=0.714 ms</code><br /><code>64 bytes from 10.0.137.217: icmp_seq=10 ttl=127 time=0.645 ms</code><br /><br /><code>--- 10.0.137.217 ping statistics ---</code><br /><code>10 packets transmitted, 10 received, 0% packet loss, time 9000ms</code><br /><code>rtt min/avg/max/mdev = 0.645/0.725/0.933/0.093 ms</code><br /><code>[root@ora66c10 /]</code></span></div><div><p><font size="3">Check that the Windows EC2 instance can ping all of the LXC Linux containers and the EC2 Linux LXC host, as shown below.</font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;09-58-50.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526569148465/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;09-58-50.png" /></a></font></div><p><font size="3">Check that upgrade.yaml is set to "True" as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><code>[root@ora66c10 /]# <b>cat /srv/salt/custom/pillar/upgrade.yaml </b></code><br /><code>pre.validation.warn.only: True</code><br /><code>[root@ora66c10 /]# </code></font></div><p><font size="3">Check that the security group rules are set correctly, in particular that the "Internal LXC OVS Traffic" rule is set correctly, as shown below.  In this example, there was a misconfiguration, and I corrected it, for that rule.</font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;11-15-05.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526573719467/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;11-15-05.png" style="width:100%" /></a></font></div><br /><h4><a name="TOC-Launch-the-Workspaces-Installer"></a>Launch the Workspaces Installer</h4><div><font size="3">Launch the workspaces installer by pressing the black "Deploy Machines" button at the bottom of the installer screen, as shown below.</font></div><div><font size="3"><br /></font></div><div><font size="3"><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;11-20-33.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526574047119/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;11-20-33.png" /></a></div><br /></font></div><div><font size="3">Clicking on "Deploy Machines" bring up the "Apply" dialog box.  Click on "Apply" to begin the deployment, as shown below.</font></div><div><font size="3"><br /></font></div><div><font size="3"><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;11-21-57.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526574275906/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;11-21-57.png" style="width:100%" /></a></div><br /></font></div><div><font size="3">The installer will give messages for the following for the server installs:</font></div><ul><li><font size="3">SSH key deployed successfully on machine</font></li><li><font size="3">Prerequisites validation completed successfully</font></li><li><font size="3">Machine deployment is now being executed</font></li></ul><div><font size="3">Wait while the installer completes.  This will take a few minutes.  When this phase of the install completes successfully, click on "Continue to next step" as shown below.</font></div><div><font size="3"><br /></font></div><div><font size="3"><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;11-32-16.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526574748469/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;11-32-16.png" style="width:100%" /></a></div></font><br /></div><div><h4><a name="TOC-Installer:-Configure-System"></a><font size="3">Installer:  Configure System</font></h4><div><font size="3">Configure the system as shown below.  This example uses the values as shown below.<br /></font></div><div><font size="3"><br /></font></div><div><font size="3"><table border="1" bordercolor="#888" cellspacing="0" style="border-collapse:collapse;border-color:rgb(136,136,136);border-width:1px"><tbody><tr><td style="width:157.25px;height:19.25px"> Server Name<br /></td><td style="width:309.25px;height:19.25px"> clayton</td><td style="width:132.25px;height:19.25px">Non-critical<br /></td><td style="width:310.25px;height:19.25px"> Can be any value<br /></td></tr><tr><td style="width:157.25px;height:19.25px"> Company Name<br /></td><td style="width:309.25px;height:19.25px"> Stillman Real Consulting LLC<br /></td><td style="width:132.25px;height:19.25px">Non-critical<br /></td><td style="width:310.25px;height:19.25px"> Can be any value<br /></td></tr><tr><td style="width:157.25px;height:19.25px"> Admin Email<br /></td><td style="width:309.25px;height:19.25px"> gilbert@orabuntu-lxc.com</td><td style="width:132.25px;height:19.25px">Critical<br /></td><td style="width:310.25px;height:19.25px"> Must be valid accessible email address<br /></td></tr><tr><td style="width:157.25px;height:19.25px"> Service FQDN<br /></td><td style="width:309.25px;height:19.25px"> workspaces.getblackberry.com</td><td style="width:132.25px;height:19.25px">Critical<br /></td><td style="width:310.25px;height:19.25px"> AWS ALB will point to this address<br /></td></tr><tr><td style="width:157.25px;height:19.25px"> SSL Certificate<br /></td><td style="width:309.25px;height:19.25px"> Use generated self-signed certificate<br /></td><td style="width:132.25px;height:19.25px">Critical<br /></td><td style="width:310.25px;height:19.25px"> Use cert generated from "certs.sh"<br /></td></tr><tr><td style="width:157.25px;height:19.25px"> SSL Chain<br /></td><td style="width:309.25px;height:19.25px"> Use generated self-signed chain cert<br /></td><td style="width:132.25px;height:19.25px">Critical<br /></td><td style="width:310.25px;height:19.25px"> Use chain generated from "certs.sh"<br /></td></tr><tr><td style="width:157.25px;height:19.25px"> SSL Private Key<br /></td><td style="width:309.25px;height:19.25px"> Use generated self-signed private key<br /></td><td style="width:132.25px;height:19.25px">Critical<br /></td><td style="width:310.25px;height:19.25px"> Use private key generated from "certs.sh"<br /></td></tr><tr><td style="width:157.25px;height:19.25px"> DNS Servers<br /></td><td style="width:309.25px;height:19.25px"> Use values from "ipconfig /all"<br /></td><td style="width:132.25px;height:19.25px">Critical<br /></td><td style="width:310.25px;height:19.25px"> Use EC2 Windows Conversion values<br /></td></tr><tr><td style="width:157.25px;height:19.25px"> NTP Servers<br /></td><td style="width:309.25px;height:19.25px"> Use default installer values<br /></td><td style="width:132.25px;height:19.25px">Critical<br /></td><td style="width:310.25px;height:19.25px"> Default values are ok to use<br /></td></tr><tr><td> Time Zone<br /></td><td> Use your desired timezone<br /></td><td>Critical<br /></td><td> Choose your desired timezone<br /></td></tr><tr><td style="width:157.25px;height:19.25px"> SMTP Server<br /></td><td style="width:309.25px;height:19.25px"> 10.0.143.88</td><td style="width:132.25px;height:19.25px">Critical<br /></td><td style="width:310.25px;height:19.25px"> Use EC2 Windows Management value<br /></td></tr><tr><td style="width:157.25px;height:19.25px"> SMTP Port<br /></td><td style="width:309.25px;height:19.25px"> 25</td><td style="width:132.25px;height:19.25px">Critical<br /></td><td style="width:310.25px;height:19.25px"> Default value is ok to use<br /></td></tr><tr><td style="width:157.25px;height:21.25px"> SMTP Authentication<br /></td><td style="width:309.25px;height:21.25px"> Use default installer value (unchecked)<br /></td><td style="width:132.25px;height:21.25px">Non-critical<br /></td><td style="width:310.25px;height:21.25px"> Leave unchecked<br /></td></tr><tr><td> SMTP Sender Addr.<br /></td><td> Use default installer value (unset)<br /></td><td>Non-critical<br /></td><td> Leave unset<br /></td></tr><tr><td> Storage Type<br /></td><td> Use default installer value (unset)<br /></td><td>Non-critical<br /></td><td> Leave unset<br /></td></tr><tr><td> All other settings<br /></td><td> Use default installer values (unset)<br /></td><td>Non-critical</td><td> Leave unset<br /></td></tr></tbody></table><br /></font></div><div><font size="3">When all the settings are complete, click on "Save and Deploy" to install Blackberry Workspaces.<br /></font></div><div></div><div><h4><a name="TOC-Check-Validation-Dialog"></a>Check Validation Dialog</h4><div><font size="3">Check the validation dialog box as shown below.  In this case, the messages about the missing mounts is acceptable because no storage was mounted, and only the directory locations will be used. <br /></font></div><div><font size="3"><br /></font></div><div><font size="3">Alternatively, you could go outside this guide and mount storage to the required mount points.  I will be creating a guide soon that will address the options and how to do this for LXC containerized Blackberry Workspaces in another blog post.<br /></font></div><div><font size="3"><br /></font></div><div><font size="3">Also, the message about "SSL certificate not issued by a trusted certificate authority" is also acceptable, because this will be addressed in a post install step that will use AWS ACM and ALB for certificates.<br /></font></div><div><font size="3"><br /></font></div><div><font size="3">However, the message that the "Service FQDN doesn't match SSL certificates" needs to be addressed.  This means we must go back to "certs.sh" and, first making sure that the values are correct, </font><font size="3"> re-generate the three self-signed files, and paste them into the installer fields and try again.</font></div><div><font size="3"><br /></font></div><div><font size="3">Therefore, because there was one error that was not acceptable for the purposes of this guide, click on "Cancel" and make the required corrections as discussed, and then retry the "Save &amp; Deploy" step.  <br /></font></div><div><font size="3"><br /></font></div><div><font size="3">In this case, careful regeneration of the required SSL files results in an acceptable prerequisites validation dialog, as shown below. Since these are both known acceptable exceptions for this particular installation example on LXC containers, press "continue anyway" to launch the installation.<br /></font></div><div><font size="3"><br /></font></div><div><font size="3"><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;12-47-59.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526579291176/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;12-47-59.png" style="width:100%" /></a></div><br /></font></div><div><font size="3"><br /></font></div><div><font size="3">After pressing "continue anyway" there will be a delay of up to 30 seconds before the installer begins displaying the progress of the installation states.  Be patient and wait for at least a minutes for the installer to start executing states.  When the installer begins executing states, a new dialog will appear, as shown below.  This dialog takes quite awhile to run.</font></div><div><font size="3"><br /></font></div><div><font size="3"><div style="display:block;text-align:left"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;12-53-20.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526579620212/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;12-53-20.png" style="width:100%" /></a></div><br /></font></div><h4><a name="TOC-Edit-redis-to-use-root-account"></a>Edit redis to use root account<br /></h4></div></div></div></div></div><p><font size="3">Note that during the install, it will be necessary to edit redis to start under root account (or set cronjob to do it).  During the install redis will fail and a manual edit to start redis as root instead of as the redis user is required as shown below.</font></p><p><font size="3">The /etc/rc.d/init.d/redis file becomes available for edit (and prior to the redis step) when "fileserver" is deployed, so the redis file can be edited well in advance of it's calling, and a cronjob could be setup to monitor for the appearance of the "redis" file and edit it once it appears with a sed command.</font></p><pre><div class="sites-codeblock sites-codesnippet-block"><code>State 'fileserver' has succeeded on all machines </code></div></pre><p><font size="3">Once the above phase has begun execution (State fileserver) the redis file is available for edit, and this edit can be done "on the fly" while installer is running, in order to ensure that the installer can continue successfully.</font><br /></p><div class="sites-codeblock sites-codesnippet-block"><code>[root@salt-master rc.d]# <b>find . -name redis*</b></code><br /><code>./init.d/redis</code><br /><code>./init.d/redis-sentinel</code><br /><code>[root@salt-master rc.d]# <b>cd init.d</b></code><br /><br /><code>[root@salt-master init.d]# <b>cp -p redis redis.original</b></code><br /><code>[root@salt-master init.d]# <b>vi redis</b></code><br /><code>[root@salt-master init.d]# <b>diff redis redis.original</b></code><br /><code>33c33</code><br /><code>&lt;     daemon "$exec $REDIS_CONFIG --daemonize yes --pidfile $pidfile"</code><br /><code>---</code><br /><code>&gt;     daemon <b><span style="color:rgb(255,0,0)">--user ${REDIS_USER-redis}</span></b> "$exec $REDIS_CONFIG --daemonize yes --pidfile $pidfile"</code><br /><code>[root@salt-master init.d]# <b>pwd</b></code><br /><b><i><code>/etc/rc.d/init.d</code></i></b><br /><code>[root@salt-master init.d]# </code></div><br /></div><div><font size="3">Now recheck that redis server will start as a service successfully as shown below.  </font><br /><br /><div class="sites-codeblock sites-codesnippet-block"><code>[root@salt-master init.d]# <b>service redis status</b></code><br /><code>redis-server is stopped</code><br /><code>[root@salt-master init.d]# <b>service redis start</b></code><br /><code>Starting redis-server:                                     <i><b>[  OK  ]</b></i></code><br /><code>[root@salt-master init.d]# <b>service redis status</b></code><br /><code>redis-server (pid  26674) is running...</code><br /><code>[root@salt-master init.d]# </code></div><p><font size="3">If the redis service is running successfully and shows 
good status after "service redis start" then the filespace state should 
complete successfully, as shown below.</font></p><div style="display:block;text-align:left"><font size="3"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;13-04-18.png%3Fattredirects=0" imageanchor="1"><img border="0" src="_/rsrc/1526580271516/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/Screenshot&#32;from&#32;2018-05-17&#32;13-04-18.png" /></a></font></div><p><font size="3"><br /></font></p><h3><a name="TOC-Healthy-Process-Activity-on-Salt-Master"></a>Healthy Process Activity on Salt-Master</h3><p><font size="3">Healthy process activity should look something like this on salt-master machine (linux machine).  Typically there should not be any defunct processes.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><br /><code>top - 11:17:28 up 35 min,  0 users,  load average: 4.63, 5.24, 4.60</code><br /><code>Tasks:  49 total,   1 running,  48 sleeping,   0 stopped,   0 zombie</code><br /><code>Cpu(s): 34.4%us,  6.5%sy,  0.0%ni, 57.1%id,  1.4%wa,  0.0%hi,  0.6%si,  0.0%st</code><br /><code>Mem:  65342732k total,  8357720k used, 56985012k free,        0k buffers</code><br /><code>Swap: 66469884k total,  2659624k used, 63810260k free,  3590916k cached</code><br /><br /><code>  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                                                                                                                                                                          </code><br /><code>21853 root      20   0  492m  58m  13m S  5.7  0.1   0:00.83 salt-minion                                                                                                                                                                      </code><br /><code>  457 root      20   0 1086m  62m 7168 S  2.0  0.1   0:18.07 salt-master                                                                                                                                                                      </code><br /><code>  460 root      20   0 1082m  62m 7164 S  2.0  0.1   0:24.15 salt-master                                                                                                                                                                      </code><br /><code>  375 root      20   0 1713m 147m  10m S  1.7  0.2   0:19.62 python                                                                                                                                                                           </code><br /><code>20791 watchdox  20   0 11.0g 2.9g  38m S  1.7  4.7   5:08.15 java                                                                                                                                                                             </code><br /><code>  456 root      20   0 1080m  60m 7164 S  1.3  0.1   0:23.13 salt-master                                                                                                                                                                      </code><br /><code>  458 root      20   0 1082m  62m 7164 S  1.0  0.1   0:24.70 salt-master                                                                                                                                                                      </code><br /><code>  459 root      20   0 1083m  59m 7164 S  1.0  0.1   0:23.31 salt-master                                                                                                                                                                      </code><br /><code>18317 mysql     20   0 2628m  53m 9.8m S  0.7  0.1   0:01.08 mysqld                                                                                                                                                                           </code><br /><code>  449 root      20   0  266m  23m 4016 S  0.3  0.0   0:00.07 salt-master                                                                                                                                                                      </code><br /><code>  461 root      20   0  554m  23m 3972 S  0.3  0.0   0:07.54 salt-master                                                                                                                                                                      </code><br /><code>  569 root      20   0  362m  35m 6532 S  0.3  0.1   0:04.06 salt-minion                                                                                                                                                                      </code><br /><code>20187 watchdox  20   0 6039m 866m  19m S  0.3  1.4   0:39.42 java                                                                                                                                                                             </code><br /><code>    1 root      20   0 19292 2288 2028 S  0.0  0.0   0:00.05 init                                                                                                                                                                             </code><br /><code>  260 root      20   0  9180 1316  832 S  0.0  0.0   0:00.00 dhclient                                                                                                                                                                         </code><br /><code>  289 root      20   0  239m 2664 2300 S  0.0  0.0   0:00.07 rsyslogd                                                                                                                                                                         </code><br /><code>  419 root      20   0 76212  956   16 S  0.0  0.0   0:00.00 nginx                                                                                                                                                                            </code><br /><code>  420 nginx     20   0 76604 2888 1720 S  0.0  0.0   0:00.00 nginx                                                                                                                                                                            </code><br /><code>  421 nginx     20   0 76604 2888 1720 S  0.0  0.0   0:00.08 nginx                                                                                                                                                                            </code><br /><code>  430 root      20   0 20540 2428 1760 S  0.0  0.0   0:00.00 crond                                                                                                                                                                            </code><br /><code>  447 root      20   0  186m  22m 2892 S  0.0  0.0   0:00.00 salt-master                                                                                                                                                                      </code><br /><code>  448 root      20   0  452m  45m 7072 S  0.0  0.1   0:27.92 salt-master                                                                                                                                                                      </code><br /><code>  450 root      20   0  269m  27m 3744 S  0.0  0.0   0:00.48 salt-master                                                                                                                                                                      </code><br /><code>  451 root      20   0  186m  21m 2244 S  0.0  0.0   0:00.01 salt-master                                                                                                                                                                      </code><br /><code>  580 root      20   0  4124 1432 1352 S  0.0  0.0   0:00.00 mingetty                                                                                                                                                                         </code><br /><code>  584 root      20   0  4124 1472 1388 S  0.0  0.0   0:00.00 mingetty                                                                                                                                                                         </code><br /><code>  587 root      20   0  4124 1360 1284 S  0.0  0.0   0:00.00 mingetty                                                                                                                                                                         </code><br /><code>  589 root      20   0  4124 1316 1232 S  0.0  0.0   0:00.00 mingetty                                                                                                                                                                         </code><br /><code>  591 root      20   0  4124 1316 1232 S  0.0  0.0   0:00.00 mingetty                                                                                                                                                                         </code><br /><code> 4906 root      20   0  105m 3104 2760 S  0.0  0.0   0:00.00 bash                                                                                                                                                                             </code><br /><code> 5484 named     20   0  657m  18m 5664 S  0.0  0.0   0:00.02 named                                                                                                                                                                            </code><br /><code> 5778 root      20   0 66764 2572 1820 S  0.0  0.0   0:00.00 sshd                                                                                                                                                                             </code><br /><code>14634 root      20   0 30804 4252 3636 S  0.0  0.0   0:00.05 ntpd                                                                                                                                                                             </code><br /><code>15271 root      20   0 81932 7024 6092 S  0.0  0.0   0:00.02 master                                                                                                                                                                           </code><br /><code>15277 postfix   20   0 82012 7092 6168 S  0.0  0.0   0:00.01 pickup                                                                                                                                                                           </code><br /><code>15278 postfix   20   0 82080 6960 6040 S  0.0  0.0   0:00.01 qmgr                                                                                                                                                                             </code><br /><code>17999 root      20   0 11496 2568 2276 S  0.0  0.0   0:00.01 mysqld_safe                                                                                                                                                                      </code><br /><code>18600 rpcuser   20   0 23416 2468 2012 S  0.0  0.0   0:00.00 rpc.statd                                                                                                                                                                        </code><br /><code>18652 rpc       20   0 19044 1972 1704 S  0.0  0.0   0:00.02 rpcbind                                                                                                                                                                          </code><br /><code>18740 root      20   0 21736  656   52 S  0.0  0.0   0:00.00 rpc.mountd                                                                                                                                                                       </code><br /><code>19098 root      20   0  105m 3140 2812 S  0.0  0.0   0:00.00 bash                                                                                                                                                                             </code><br /><code>19137 root      20   0 15056 1960 1700 R  0.0  0.0   0:00.28 top                                                                                                                                                                              </code><br /><code>19380 watchdox  20   0  722m  65m  10m S  0.0  0.1   0:00.84 node                                                                                                                                                                             </code><br /><code>19415 root      20   0 46924 3504 2628 S  0.0  0.0   0:00.25 redis-server                                                                                                                                                                     </code><br /><code>19571 memcache  20   0  416m 2372 1836 S  0.0  0.0   0:00.03 memcached                                                                                                                                                                        </code><br /><code>21412 root      20   0 80124 1772   16 S  0.0  0.0   0:00.00 nginx                                                                                                                                                                            </code><br /><code>21413 nginx     20   0 80516 4144 1964 S  0.0  0.0   0:00.00 nginx                                                                                                                                                                            </code><br /><code>21414 nginx     20   0 80516 4144 1964 S  0.0  0.0   0:00.00 nginx                                                                                                                                                                            </code><br /><code>21750 root      20   0  120m 3392 2616 S  0.0  0.0   0:00.00 monit      </code></font></div></div><br /><div><h3><a name="TOC-Post-Install-Configuration"></a>Post-Install Configuration</h3><div><font size="3">Once the install is complete, it is necessary to make a change on each LXC Linux container so that DNS will resolve correctly on reboots.  The change that is required is shown below.</font></div><div><font size="3"><br /></font></div><div><div class="sites-codeblock sites-codesnippet-block"><code>(UTC)[ root@clayton salt-master / :) ]$ <b>cat /etc/sysconfig/network-scripts/ifcfg-eth0</b></code><br /><code><br /></code></div><div class="sites-codeblock sites-codesnippet-block"><code>#!/bin/bash</code><br /><br /><code>#    Copyright 2015-2018 Gilbert Standen</code><br /><code>#    This file is part of Orabuntu-LXC.</code><br /><br /><code>#    Orabuntu-LXC is free software: you can redistribute it and/or modify</code><br /><code>#    it under the terms of the GNU General Public License as published by</code><br /><code>#    the Free Software Foundation, either version 3 of the License, or</code><br /><code>#    (at your option) any later version.</code><br /><br /><code>#    Orabuntu-LXC is distributed in the hope that it will be useful,</code><br /><code>#    but WITHOUT ANY WARRANTY; without even the implied warranty of</code><br /><code>#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</code><br /><code>#    GNU General Public License for more details.</code><br /><br /><code>#    You should have received a copy of the GNU General Public License</code><br /><code>#    along with Orabuntu-LXC.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</code><br /><br /><code>#    v2.4         GLS 20151224</code><br /><code>#    v2.8         GLS 20151231</code><br /><code>#    v3.0         GLS 20160710 Updates for Ubuntu 16.04</code><br /><code>#    v4.0         GLS 20161025 DNS DHCP services moved into an LXC container</code><br /><code>#    v5.0         GLS 20170909 Orabuntu-LXC Multi-Host</code><br /><code>#    v6.0-AMIDE-beta    GLS 20180106 Orabuntu-LXC AmazonS3 Multi-Host Docker Enterprise Edition (AMIDE)</code><br /><br /><code>#    Note that this software builds a containerized DNS DHCP solution (bind9 / isc-dhcp-server).</code><br /><code>#    The nameserver should NOT be the name of an EXISTING nameserver but an arbitrary name because this software is CREATING a new LXC-containerized nameserver.</code><br /><code>#    The domain names can be arbitrary fictional names or they can be a domain that you actually own and operate.</code><br /><code>#    There are two domains and two networks because the "seed" LXC containers are on a separate network from the production LXC containers.</code><br /><code>#    If the domain is an actual domain, you will need to change the subnet using the subnets feature of Orabuntu-LXC</code><br /><code>#</code><br /><code>DEVICE=eth0</code><br /><code>BOOTPROTO=dhcp</code><br /><code>ONBOOT=yes</code><br /><code>HOSTNAME=ora66c10</code><br /><code>DHCP_HOSTNAME=`hostname`</code><br /><code>NM_CONTROLLED=no</code><br /><code>TYPE=Ethernet</code><br /><b><code>SEARCH="workspaces.getblackberry.com getblackberry.com"  <span style="color:rgb(255,0,0)">&lt;-- Add this line</span></code><br /><code>DNS1=10.209.53.11                                        <span style="color:rgb(255,0,0)">&lt;-- Add this line</span></code></b><br /><code><br /></code></div><div class="sites-codeblock sites-codesnippet-block"><code>(UTC)[ root@clayton salt-master / :) ]$ </code></div><br /><br /></div></div><div><br /></div></div></div></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-attachments">
<div class="sites-attachments-row"><div class="sites-attachments-icon" style="left:0px;"><span aria-label="Attachments" title="Attachments"><div class="sites-translucent sites-symbol" aria-hidden="true">Č</div></span></div><div id="sites-attachments-update-div" class="sites-attachments-inner-div" style="display:none;"><span class="sites-attachments-update-icon"><img src="https://ssl.gstatic.com/sites/p/c9c36f/system/app/images/spinner.gif" /></span><div class="sites-attachments-update-text">Updating...</div></div></div><div class="sites-attachments-separator"></div>
<div id="attachment-wuid:gx:3ab45a9bb2718cd1"><div class="sites-attachments-row"><div class="sites-attachments-icon sites-attachments-icon-accessible" style="left:5px"><div class="sites-translucent sites-symbol" aria-label="File" title="File">ċ</div></div><div class="sites-attachments-inner-div"><div class="sites-attachments-name"><a href="https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=b3JhYnVudHUtbHhjLmNvbXxicmFuZHlkYW5keW9yYWNsZXxneDozYWI0NWE5YmIyNzE4Y2Qx" target="_blank" rel="noopener noreferrer">certs.sh</a> <div class="sites-translucent">(3k)</div></div><div class="sites-attachments-author">Orabuntu-LXC, <div class="sites-translucent">May 28, 2018, 7:41 AM</div></div></div><div class="sites-attachments-version sites-attachments-version-accessible"><a href="system/app/pages/admin/revisions%3Fwuid=wuid:gx:3ab45a9bb2718cd1.html">v.1</a></div><div id="attachment-download-wuid:gx:3ab45a9bb2718cd1" class="sites-attachments-icon sites-attachments-icon-accessible" style="right:0px"><a href="blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2/certs.sh%3Fattredirects=0&amp;d=1" aria-label="Download certs.sh" title="Download" role="button" target="_blank" rel="noopener noreferrer"><span class="sites-symbol" aria-hidden="true">ď</span></a></div></div><div class="sites-attachments-separator"></div></div>
<div style="height: 10px"></div>
</div>
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-subfooter"><div class="sites-subfooter-content"><br /></div></div>
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://accounts.google.com/ServiceLogin?continue=https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2&amp;service=jotspot">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com/site">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/c9c36f/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/a/orabuntu-lxc.com/brandydandyoracle/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("2bd", "Navigation", true);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_2bd');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvbsUtc3zC_LBoVbZyRGtWgFMw4Ymf-i3viiAJfdm0tZRYRjYrlIb7ANxQnOID9yCBBFZjc52PPdNZxgYD7WdWOlqxvYPU-DVjvkDMBw3KrKLIbrN1RxlcmNhil3gPqH_ZaspxJfnoNFPyFAUchVKLmwkrV-w/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([1109635200000, 1128902400000, 1130657000000, 1143333000000, 1143806400000, 1145000000000, 1146380000000, 1152489600000, 1159800000000, 1159500000000, 1162095000000, 1162075000000, 1162105500000]);
    gsites.Xhr.send('https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<script type="text/javascript">
          sites.codeembed.init();
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
