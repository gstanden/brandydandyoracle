<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://schema.org/WebPage">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { /*

Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/
(function(){function e(g){this.t={};this.tick=function(h,k,f){this.t[h]=[void 0!=f?f:(new Date).getTime(),k];if(void 0==f)try{window.console.timeStamp("CSI/"+h)}catch(m){}};this.getStartTickTime=function(){return this.t.start[0]};this.tick("start",null,g)}var a;if(window.performance)var d=(a=window.performance.timing)&&a.responseStart;var l=0<d?new e(d):new e;window.jstiming={Timer:e,load:l};if(a){var b=a.navigationStart;0<b&&d>=b&&(window.jstiming.srt=d-b)}if(a){var c=window.jstiming.load;0<b&&d>=
b&&(c.tick("_wtsrt",void 0,b),c.tick("wtsrt_","_wtsrt",d),c.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),c&&0<b&&(c.tick("_tbnd",void 0,window.chrome.csi().startE),c.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,c&&0<b&&(c.tick("_tbnd",void 0,window.external.startE),c.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(g){}})(); })()
</script>
<link rel="shortcut icon" href="../_/rsrc/1518480252104/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/c9c36f/system/app/images/apple-touch-icon.png" type="image/png" />
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { function d(a){return document.getElementById(a)}window.byId=d;function g(a){return a.replace(/^\s+|\s+$/g,"")}window.trim=g;var h=[],k=0;window.JOT_addListener=function(a,b,c){var f=new String(k++);a={eventName:a,handler:b,compId:c,key:f};h.push(a);return f};window.JOT_removeListenerByKey=function(a){for(var b=0;b<h.length;b++)if(h[b].key==a){h.splice(b,1);break}};window.JOT_removeAllListenersForName=function(a){for(var b=0;b<h.length;b++)h[b].eventName==a&&h.splice(b,1)};
window.JOT_postEvent=function(a,b,c){var f={eventName:a,eventSrc:b||{},payload:c||{}};if(window.JOT_fullyLoaded)for(b=h.length,c=0;c<b&&c<h.length;c++){var e=h[c];e&&e.eventName==a&&(f.listenerCompId=e.compId||"",(e="function"==typeof e.handler?e.handler:window[e.handler])&&e(f))}else window.JOT_delayedEvents.push({eventName:a,eventSrc:b,payload:c})};window.JOT_delayedEvents=[];window.JOT_fullyLoaded=!1;
window.JOT_formatRelativeToNow=function(a,b){a=((new Date).getTime()-a)/6E4;if(1440<=a||0>a)return null;var c=0;60<=a&&(a/=60,c=2);2<=a&&c++;return b?window.JOT_siteRelTimeStrs[c].replace("__duration__",Math.floor(a)):window.JOT_userRelTimeStrs[c].replace("__duration__",Math.floor(a))}; })()
</script>
<script>

  

  var breadcrumbs = [{"path":"/a/orabuntu-lxc.com/brandydandyoracle/kvm-and-openvswitch","deleted":false,"title":"KVM and OpenvSwitch","dir":"ltr"},{"path":"/a/orabuntu-lxc.com/brandydandyoracle/kvm-and-openvswitch/kvm-dns-ul-14-04","deleted":false,"title":"KVM DNS UL 14.04","dir":"ltr"}];
  var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/c9c36f/system/app/images/cleardot.gif';

  
  var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

  
  

  

  var webspace = {"gvizGstaticVersion":"current","enableAnalytics":true,"pageSharingId":"jotspot_page","codeembeds":{"outerIframeSrc":"https://www.gstatic.com/jotspot/embeds/code/0f08d42392f2000e7e3f3daf5b427a43/outer_iframe.html","innerIframeSrc":"https://2017694137-jotspot-embeds.googleusercontent.com/code/8d87fa64604b2a11fae2ed06104c58d3/inner_iframe.html"},"enableUniversalAnalytics":false,"sharingPolicy":"OPENED","siteTitle":"brandydandyoracle","experiments":{"enableSubpagesGadgetInTakeout":true,"overrideDisableDomainEditing":false,"DisableSiteEditingFeature__disable_site_editing":true,"disableDomainEditing":false},"jot2atari":{"eligibility":"INELIGIBLE"},"onepickUrl":"https://docs.google.com/picker","adsensePublisherId":null,"features":{"moreMobileStyleImprovements":null,"subscriptionDataMigrationInProgress":null,"plusBadge":false},"configProperties":{"disableSiteEditing":null},"isPublic":true,"newSitesBaseUrl":"https://sites.google.com","isConsumer":false,"serverFlags":{"jot2AtariLearnMoreUrl":"https://support.google.com/sites/answer/7035197"},"domainAnalyticsAccountId":"","plusPageId":"","signInUrl":"https://accounts.google.com/AccountChooser?continue\u003dhttps://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/kvm-and-openvswitch/kvm-dns-ul-14-04\u0026service\u003djotspot","analyticsAccountId":"UA-54224306-1","scottyUrl":"/_/upload","homePath":"/","siteNoticeUrlEnabled":null,"plusPageUrl":"","adsensePromoClickedOrSiteIneligible":true,"csiReportUri":"https://gg.google.com/csi","sharingId":"jotspot","termsUrl":"//www.google.com/intl/en/policies/terms/","gvizVersion":1,"editorResources":{"sitelayout":["https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/sitelayouteditor.css"],"text":["https://ssl.gstatic.com/sites/p/c9c36f/system/js/codemirror.js","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/codemirror_css.css","https://ssl.gstatic.com/sites/p/c9c36f/system/js/trog_edit__en.js","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/trogedit.css","/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1628148289000/system/app/css/editor.css","https://ssl.gstatic.com/sites/p/c9c36f/system/app/css/codeeditor.css","/a/orabuntu-lxc.com/brandydandyoracle/_/rsrc/1628148289000/system/app/css/camelot/editor-jfk.css"]},"sharingUrlPrefix":"/_/sharing","isAdsenseEnabled":true,"domain":"orabuntu-lxc.com","baseUri":"/a/orabuntu-lxc.com/brandydandyoracle","name":"brandydandyoracle","siteTemplateId":false,"siteNoticeRevision":null,"siteNoticeUrlAddress":null,"siteNoticeMessage":null,"page":{"isRtlLocale":false,"canDeleteWebspace":null,"isPageDraft":null,"parentPath":"/kvm-and-openvswitch","parentWuid":"wuid:gx:4184304c507d6cf0","siteLocale":"en","timeZone":"America/Los_Angeles","type":"text","title":"KVM DNS UL 14.04","locale":"en","wuid":"wuid:gx:42ab043f5ac96f0f","revision":1,"path":"/kvm-and-openvswitch/kvm-dns-ul-14-04","isSiteRtlLocale":false,"pageInheritsPermissions":null,"name":"kvm-dns-ul-14-04","canChangePath":true,"state":"","properties":{},"bidiEnabled":false,"currentTemplate":{"path":"/system/app/pagetemplates/text","title":"Web Page"}},"canPublishScriptToAnyone":true,"user":{"keyboardShortcuts":true,"sessionIndex":"","guest_":true,"displayNameOrEmail":"guest","userName":"guest","uid":"","renderMobile":false,"domain":"","namespace":"","hasWriteAccess":false,"namespaceUser":false,"primaryEmail":"guest","hasAdminAccess":false,"isGoogleAdmin":false},"gadgets":{"baseUri":"/a/orabuntu-lxc.com/brandydandyoracle/system/app/pages/gadgets"}};
  webspace.page.breadcrumbs = breadcrumbs;

  
  var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="title" content="KVM DNS UL 14.04 - brandydandyoracle" />
<meta itemprop="name" content="KVM DNS UL 14.04 - brandydandyoracle" />
<meta property="og:title" content="KVM DNS UL 14.04 - brandydandyoracle" />
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="https://ssl.gstatic.com/sites/p/c9c36f/system/app/themes/solitudeolive/standard-css-solitudeolive-ltr-ltr.css" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1628148289000/system/app/css/overlay.css%3Fcb=solitudeolive93320goog-ws-leftcontentthemedefaultstandard.css" />
<link rel="stylesheet" type="text/css" href="../_/rsrc/1628148289000/system/app/css/camelot/allthemes-view.css" />
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/a/orabuntu%2dlxc.com/brandydandyoracle/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>KVM DNS UL 14.04 - brandydandyoracle</title>
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
</head>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything" class="">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper" style="">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0" style="">
<tr class="sites-header-primary-row" id="sites-chrome-userheader">
<td id="sites-header-title" class="" role="banner" style="height: 93px"><div class="sites-header-cell-buffer-wrapper"><h2><a href="../index.html" dir="ltr" id="sites-chrome-userheader-title">brandydandyoracle</a></h2></div></td><td class="sites-layout-searchbox  "><div class="sites-header-cell-buffer-wrapper"><form id="sites-searchbox-form" action="https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/system/app/pages/search" role="search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site" /><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" /><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0">Search this site</div></div></form></div></td>
</tr>
<tr class="sites-header-secondary-row" id="sites-chrome-horizontal-nav">
<td colspan="2" id="sites-chrome-header-horizontal-nav-container" role="navigation">
<div class="sites-header-nav"><ul class="sites-header-nav-container-boxes"><li class="unselected"><a class="sites-navigation-link unselected" href="../system/app/pages/sitemap/hierarchy.html">Sitemap</a></li></ul><div style="clear: both;"></div></div>
</td>
</tr>
</table>
</div>
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0" cellpadding="{scmCellpadding}" border="0">
<tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left initial" style="width:320px">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_2bd" class="sites-embed" role="navigation"><div class="sites-embed-content sites-sidebar-nav"><ul role="navigation" jotId="navList" class="has-expander"><li class="topLevel nav-first parent " wuid="gx:1771d7481512b604"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../home.html" jotId="wuid:gx:1771d7481512b604" class="sites-navigation-link topLevel">Home</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../home/brother-mfc-456cn-ubuntu-driver.html" jotId="wuid:gx:687d1f16adfece4e" class="sites-navigation-link">Brother MFC-456CN Ubuntu Driver</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../home/resume-short.html" jotId="wuid:gx:7ed50173758f1f8d" class="sites-navigation-link">Resume-Short</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../aws.html" jotId="wuid:gx:513e26955ed0bab9" class="sites-navigation-link topLevel">AWS</a></div></li><li class="topLevel parent " wuid="gx:2d7d78782d5199fb"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../blackberry-workspaces.html" jotId="wuid:gx:2d7d78782d5199fb" class="sites-navigation-link topLevel">Blackberry Workspaces</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../blackberry-workspaces/blackberry-workspaces-in-lxc-linux-containers.html" jotId="wuid:gx:3cc6d6487c8feafe" class="sites-navigation-link">Blackberry Workspaces in LXC Linux Containers</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../blackberry-workspaces/blackberry-workspaces-on-aws-ec2.html" jotId="wuid:gx:11790a2b5038525c" class="sites-navigation-link">Blackberry Workspaces on AWS EC2</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../blackberry-workspaces-in-lxc-linux-containers-on-aws-ec2.html" jotId="wuid:gx:1529117a57ecdba8" class="sites-navigation-link topLevel">Blackberry Workspaces in LXC Linux Containers on AWS EC2</a></div></li><li class="topLevel parent " wuid="gx:515464018f6bd717"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../centos7.html" jotId="wuid:gx:515464018f6bd717" class="sites-navigation-link topLevel">CentOS7</a></div><ul role="navigation" class="has-expander"><li class="parent closed " wuid="gx:46a7d96b1e768956"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../centos7/centos7-desktop.html" jotId="wuid:gx:46a7d96b1e768956" class="sites-navigation-link">CentOS7 Desktop</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-desktop/cisco-anyconnect-vpn-centos-7.html" jotId="wuid:gx:50d39b77de17a94c" class="sites-navigation-link">Cisco AnyConnect VPN CentOS 7 GNOME Desktop</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-desktop/cisco-anyconnect-vpn-centos-7-server-gui-with-kde.html" jotId="wuid:gx:77bba3a647193c" class="sites-navigation-link">Cisco AnyConnect VPN CentOS 7 Server GUI with KDE</a></div></li></ul></li><li class="parent closed " wuid="gx:73046cf3c3d2eaf2"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../centos7/centos7-general.html" jotId="wuid:gx:73046cf3c3d2eaf2" class="sites-navigation-link">CentOS7 General</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/dns-named-install-centos7-1.html" jotId="wuid:gx:3ac64e4220d3882e" class="sites-navigation-link">DNS DHCP Install CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/lxc-create-centos-7-2-container.html" jotId="wuid:gx:317f96357032310b" class="sites-navigation-link">LXC Create CentOS 7.2 Container</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/lxc-source-build-centos7.html" jotId="wuid:gx:5affb1858ab31aa9" class="sites-navigation-link">LXC Source Build CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/openvswitch-source-build-centos7.html" jotId="wuid:gx:156568a493298e2c" class="sites-navigation-link">OVS  (OpenvSwitch) Source Build CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/scst-centos-7-2-1511-core.html" jotId="wuid:gx:212b0b144e1fcb8c" class="sites-navigation-link">SCST Source Build CentOS7</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../centos7/centos7-general/xfs-lvm-grow-centos7.html" jotId="wuid:gx:5e00471ebcc94e3e" class="sites-navigation-link">XFS LVM Grow CentOS7</a></div></li></ul></li></ul></li><li class="topLevel parent " wuid="gx:4184304c507d6cf0"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../kvm-and-openvswitch.html" jotId="wuid:gx:4184304c507d6cf0" class="sites-navigation-link topLevel">KVM and OpenvSwitch</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="add-pv-kvm-guest-vg.html" jotId="wuid:gx:f4ec37bc44defc6" class="sites-navigation-link">KVM Add PV Guest VG</a></div></li><li class="parent closed " wuid="gx:140bef1e880d2c0c"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="kvm-dg-migration.html" jotId="wuid:gx:140bef1e880d2c0c" class="sites-navigation-link">KVM DG Migration</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="kvm-dg-migration/rman-script.html" jotId="wuid:gx:67093dbbc93cdadc" class="sites-navigation-link">RMAN Script</a></div></li></ul></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-dns-oel-6-5.html" jotId="wuid:gx:5f50087695eef84b" class="sites-navigation-link">KVM DNS OEL 6.5</a></div></li><li class=""><div class="current-bg" jotId="wuid:gx:42ab043f5ac96f0f" dir="ltr" style="padding-left: 38px;">KVM DNS UL 14.04</div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-lxc-dns-ul-14-04.html" jotId="wuid:gx:2cd19b29fe55d875" class="sites-navigation-link">KVM LXC DNS UL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-mail-oel-6-5.html" jotId="wuid:gx:76072d3822550956" class="sites-navigation-link">KVM MAIL OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-oracle-clone.html" jotId="wuid:gx:152a84896b4db53b" class="sites-navigation-link">KVM Oracle Clone</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="ovs-kvm-oel-6-5.html" jotId="wuid:gx:371cf26362b6010e" class="sites-navigation-link">KVM OVS OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-ovs-oel-6-5.html" jotId="wuid:gx:75ead37952686999" class="sites-navigation-link">KVM OVS OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="kvm-openvswitch-1.html" jotId="wuid:gx:5c2152473fdc6ccc" class="sites-navigation-link">KVM OVS UEL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="resize-swap-lv.html" jotId="wuid:gx:399989aadef41fc3" class="sites-navigation-link">KVM Resize Swap LV</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="remove-kvm-disk.html" jotId="wuid:gx:707b288cc8f2b5a6" class="sites-navigation-link">Remove KVM Disk</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="remove-kvm-vbdp-disk.html" jotId="wuid:gx:33b6b83da936ce09" class="sites-navigation-link">Remove KVM VBDP Disk</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="resize-kvm-disk.html" jotId="wuid:gx:623a431aae174a92" class="sites-navigation-link">Resize KVM Disk</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="solaris-10-kvm-ovs-12c-gi-rac.html" jotId="wuid:gx:422583d75ebc70db" class="sites-navigation-link">Solaris 10 KVM OVS 12c GI RAC</a></div></li></ul></li><li class="topLevel parent " wuid="gx:4327ced0f58d8a86"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lenovo-thinkpad-p70.html" jotId="wuid:gx:4327ced0f58d8a86" class="sites-navigation-link topLevel">Lenovo ThinkPad P70</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/a-brief-guide-to-running-multiple-os-on-lenovo-thinkpad-p70-mobile-workstation.html" jotId="wuid:gx:48694287bced9d0a" class="sites-navigation-link">A Brief Guide to Running Multiple OS  on Lenovo ThinkPad P70 Mobile Workstation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/booting-to-graphical-ui-oracle-uek4-kernel-on-lenovo-p70-thinkpad.html" jotId="wuid:gx:30d8c05433ca020b" class="sites-navigation-link">Booting to Graphical UI Desktop Oracle UEK4 Kernel on Lenovo P70 Thinkpad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configure-wired-network-uek3-lenovo-p70-thinkpad.html" jotId="wuid:gx:77458fd960e08fe6" class="sites-navigation-link">Configure Wired Network UEK3 Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configure-wireless-network-uek3-lenovo-p70-thinkpad.html" jotId="wuid:gx:784425a052a48fc4" class="sites-navigation-link">Configure Wireless Network UEK3 Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configuring-external-monitors-on-oracle-linux-uek4-kernel-on-lenovo-p70-thinkpad.html" jotId="wuid:gx:6d22a62e4b021a82" class="sites-navigation-link">Configuring External Monitors on Oracle Linux UEK4 Kernel on Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/configuring-wifi-on-oracle-linux-uek4-kernel.html" jotId="wuid:gx:2491259c2c6fb6e7" class="sites-navigation-link">Configuring WIFI on Oracle Linux UEK4 Kernel on Lenovo P70 ThinkPad</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/advantages-of-running-multiple-linux-distros-on-lenovo-p70-thinkpad-mobile-workstation.html" jotId="wuid:gx:3e26fa7db9c8ec5d" class="sites-navigation-link">Fixing BooBoos with Multiple Linux Distros on Lenovo P70 ThinkPad Mobile Workstation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/flash-installation-oracle-linux-uek4-lenovo-p70-mobile-workstation.html" jotId="wuid:gx:206da7bba5eb893d" class="sites-navigation-link">Flash Installation Oracle Linux UEK4 Lenovo P70 Mobile Workstation</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/lenovo-thinkpad-p70-bios-flash-upgrade.html" jotId="wuid:gx:13c9853fd6822c1e" class="sites-navigation-link">Lenovo ThinkPad P70 BIOS Flash Upgrade</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/samsung-256-gb-m-2-950-pro-nvme.html" jotId="wuid:gx:4cf81fe1594a405c" class="sites-navigation-link">Samsung 256 Gb M.2 950 Pro NVME</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/samsung-evo-950-pro-256gb-m-2-ssd-vs-pm951-512gb-m-2-ssd.html" jotId="wuid:gx:5ea2a361cb8c66c8" class="sites-navigation-link">Samsung [(evo950 nvme) vs (pm951 nvme)] vs. Toshiba [OCZ RD400 1Tb nvme] M.2</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-thinkpad-p70/ubuntu-17-10-artful-aardvark-lenovo-p70-mobile-workstation.html" jotId="wuid:gx:6fcad2f1dc0cfefc" class="sites-navigation-link">Ubuntu 17.10 Artful Aardvark Lenovo P70 Mobile Workstation</a></div></li></ul></li><li class="topLevel parent " wuid="gx:2a65617e5bca4df7"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lenovo-p72.html" jotId="wuid:gx:2a65617e5bca4df7" class="sites-navigation-link topLevel">Lenovo ThinkPad P72</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-p72/lenovo-part-40an0230us-thinkpad-thunderbolt-3-workstation-dock.html" jotId="wuid:gx:3b289d1da9ec8d8" class="sites-navigation-link">Lenovo Part #40AN0230US ThinkPad Thunderbolt 3 Workstation Dock</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lenovo-p72/lenovo-part-gx90m61235-thinkpad-usb-c-travel-hub.html" jotId="wuid:gx:62e9dde894d17ff7" class="sites-navigation-link">Lenovo Part #GX90M61235 ThinkPad USB-C Travel Hub</a></div></li></ul></li><li class="topLevel parent " wuid="gx:3c0bb513eca76dd7"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../lxc-linux-containers.html" jotId="wuid:gx:3c0bb513eca76dd7" class="sites-navigation-link topLevel">LXC Linux Containers</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/install-oracle-supported-lxc-version-on-oracle-linux-uek4.html" jotId="wuid:gx:2803b780a785d633" class="sites-navigation-link">Install Oracle-Supported LXC Version on Oracle Linux 7 UEK4</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-3-0-1-oracle-8-source-build.html" jotId="wuid:gx:6d97bc40356b5b00" class="sites-navigation-link">LXC 3.0.1 Oracle 8 Source Build</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-environment-oel6.html" jotId="wuid:gx:498ae875c3ff8712" class="sites-navigation-link">LXC Environment OEL6</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-in-windows-10-bash-shell.html" jotId="wuid:gx:6b5a1e6d23bf1535" class="sites-navigation-link">LXC in Windows 10 Bash Shell</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-iproute2.html" jotId="wuid:gx:4770b5dee1c84e5d" class="sites-navigation-link">LXC iproute2</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-oracle-rdbms.html" jotId="wuid:gx:66170fca9aaf9bdb" class="sites-navigation-link">LXC Oracle RDBMS</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-ovs-bind-dns.html" jotId="wuid:gx:5ba336cc440e699a" class="sites-navigation-link">LXC OVS BIND DNS</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/lxc-vlc-oel6-5.html" jotId="wuid:gx:4e0871c894b402f5" class="sites-navigation-link">LXC VLC OEL6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/nvme-in-lxc.html" jotId="wuid:gx:344f13d75997f6ef" class="sites-navigation-link">NVME in LXC</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/source-build-lxc-ubuntu-16-04.html" jotId="wuid:gx:3668e93ca6fd3ec7" class="sites-navigation-link">Source Build LXC Ubuntu 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../lxc-linux-containers/veth-pair-cleanup-lxc.html" jotId="wuid:gx:eb4a3c8e75f750" class="sites-navigation-link">Veth Pair Cleanup LXC</a></div></li></ul></li><li class="topLevel parent " wuid="gx:904bf1e1a964cfa"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-in-lxd-1.html" jotId="wuid:gx:904bf1e1a964cfa" class="sites-navigation-link topLevel">LXD the Lighter-visor</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-in-lxd-1/building-oracle-enteprise-in-lxd.html" jotId="wuid:gx:3385e4f2498c1f97" class="sites-navigation-link">Building Oracle Enteprise in LXD</a></div></li></ul></li><li class="topLevel parent " wuid="gx:141aad64735ed8a7"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../openvswitch-ovs.html" jotId="wuid:gx:141aad64735ed8a7" class="sites-navigation-link topLevel">OpenvSwitch (OVS)</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/build-networkmanager-1-11-1-on-ubuntu-17-10.html" jotId="wuid:gx:4cd3336e7866b65e" class="sites-navigation-link">Build NetworkManager 1.11.1 on Ubuntu 17.10</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/configuring-virtualbox-vms-for-openvswitch-networking.html" jotId="wuid:gx:102f61a047f4fe27" class="sites-navigation-link">Configuring VirtualBox VMs for OpenvSwitch Networking</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/install-openvswitch-oel-uek3.html" jotId="wuid:gx:2603341f63b9d97a" class="sites-navigation-link">Install OpenvSwitch OEL UEK3</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/networking-problem-1.html" jotId="wuid:gx:65a0bbff837cdb64" class="sites-navigation-link">Networking Problem:  "The Lawnmower Man"</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/openvswitch-patch-ports.html" jotId="wuid:gx:9eac33f7488f9a0" class="sites-navigation-link">OpenvSwitch Patch Ports</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/build-openvswitch-from-source-on-oracle-linux-uek.html" jotId="wuid:gx:5d8addb931f09666" class="sites-navigation-link">OVS Source Build Oracle Linux 6 UEK3 Kernel</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/openvswitch-source-build-oracle-linux-7-uek4.html" jotId="wuid:gx:9f9da13c419a4e6" class="sites-navigation-link">OVS Source Build Oracle Linux 7 UEK4 Kernel</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/ovs-source-build-ubuntu-linux-16-04.html" jotId="wuid:gx:cc6b77eb34b437c" class="sites-navigation-link">OVS Source Build Ubuntu Linux 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../openvswitch-ovs/ovs-switch-as-a-service.html" jotId="wuid:gx:657c023b7927b1fa" class="sites-navigation-link">OVS Switch-As-A-Service Oracle Linux 7 UEK4</a></div></li></ul></li><li class="topLevel parent " wuid="gx:2a47e1cfadbf417d"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../orabuntu-lxc.html" jotId="wuid:gx:2a47e1cfadbf417d" class="sites-navigation-link topLevel">Orabuntu-LXC</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../orabuntu-lxc/using-systemd-resolved-in-a-networkmanager-environment.html" jotId="wuid:gx:87f2aaaf2ecb31b" class="sites-navigation-link">Configuring systemd-resolved in a NetworkManager Environment</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../orabuntu-lxc/lxc-containerized-dns-dhcp-configurations.html" jotId="wuid:gx:3d12f3317c481ea" class="sites-navigation-link">LXC Containerized DNS-DHCP Configurations (Ubuntu dnsmasq bind9)</a></div></li></ul></li><li class="topLevel parent " wuid="gx:56211f056f6b1e69"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-asmlib.html" jotId="wuid:gx:56211f056f6b1e69" class="sites-navigation-link topLevel">Oracle ASM and ASMLib</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-asmlib/build-asmlib-from-source.html" jotId="wuid:gx:37a420222f203d29" class="sites-navigation-link">ASMLib Source Build RHEL5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-asmlib/build-asmlib-from-source-on-rhel6.html" jotId="wuid:gx:258e6072b6403dc3" class="sites-navigation-link">ASMLib Source Build RHEL6</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-asmlib/rename-asm-sysdg.html" jotId="wuid:gx:44112e6c154428fe" class="sites-navigation-link">Rename ASM SYSDG</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../oracle-in-lxd.html" jotId="wuid:gx:1e2c0c88ac7cfde3" class="sites-navigation-link topLevel">Oracle in LXD</a></div></li><li class="topLevel parent " wuid="gx:7024699ef06b6856"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-linux-uek-kernel.html" jotId="wuid:gx:7024699ef06b6856" class="sites-navigation-link topLevel">Oracle Linux UEK Kernel</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-linux-uek-kernel/configuring-ipmi-console-redirection.html" jotId="wuid:gx:323acc64d4abf9a4" class="sites-navigation-link">Configuring IPMI Console Redirection</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-linux-uek-kernel/getting-kernel-headers-for-oracle-linux-uek-kernels.html" jotId="wuid:gx:264700ca67aa6f51" class="sites-navigation-link">Getting Kernel Headers Oracle Linux 7 UEK</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-linux-uek-kernel/lxc-source-build-oracle-linux-uek4.html" jotId="wuid:gx:65f6caada28e4879" class="sites-navigation-link">LXC Source Build Oracle Linux 7 UEK4</a></div></li></ul></li><li class="topLevel parent " wuid="gx:392e9c328d805127"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-rac.html" jotId="wuid:gx:392e9c328d805127" class="sites-navigation-link topLevel">Oracle RAC</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac/re-ip-rac.html" jotId="wuid:gx:60fa56c8049956b9" class="sites-navigation-link">Re-IP RAC</a></div></li></ul></li><li class="topLevel parent " wuid="gx:49aa6ea0c073802a"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-rac-in-lxc-linux-containers.html" jotId="wuid:gx:49aa6ea0c073802a" class="sites-navigation-link topLevel">Oracle RAC in LXC Linux Containers</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/12c-asm-flex-cluster-on-violin-memory-array.html" jotId="wuid:gx:2d93d5e8d118918d" class="sites-navigation-link">12c ASM Flex Cluster on Violin Memory Array</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-12c-6-node-asm-gns-flex-rac-on-lxc-linux-containers-ubuntu-15-04.html" jotId="wuid:gx:31b7a6e9df077adf" class="sites-navigation-link">Oracle 12c 6-node ASM GNS Flex RAC on LXC Linux Containers Ubuntu 15.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-12c-rac-asm-flex-cluster-on-ubuntu-14-10.html" jotId="wuid:gx:6d52027c26f6bd96" class="sites-navigation-link">Oracle 12c RAC ASM Flex Cluster on LXC Linux Containers Ubuntu 14.10</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-12c-rac-asm-flex-cluster-on-lxc-linux-containers-ubuntu-14-10.html" jotId="wuid:gx:7cf2aebcf0bd8b4a" class="sites-navigation-link">Oracle 12c RAC ASM Flex Cluster on LXC Linux Containers Ubuntu 14.10</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-12c-rac-asm-flex-cluster-on-lxc-linux-containers-ubuntu-15-04.html" jotId="wuid:gx:e7aeed695cf1a4a" class="sites-navigation-link">Oracle 12c RAC ASM Flex Cluster on LXC Linux Containers Ubuntu 15.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-12c-rac-in-gce-on-ubuntu-14-04-1.html" jotId="wuid:gx:ed0be0d284c02f0" class="sites-navigation-link">Oracle 12c RAC in GCE on Ubuntu 14.04.1</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-lxc-vlc.html" jotId="wuid:gx:3ecee06d4a4b2ffe" class="sites-navigation-link">Oracle EE ASM 12c LXC Ubuntu 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/docker-11gr2-ee-ul.html" jotId="wuid:gx:2863b8f1b8a0ae5d" class="sites-navigation-link">Oracle EE DB 11gR2 Docker Ubuntu 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-rac-6-node-12c-gns-asm-flex-cluster-ubuntu-15-04-automated.html" jotId="wuid:gx:1360b78ff726d213" class="sites-navigation-link">Oracle RAC 6-node 12c GNS ASM Flex Cluster Ubuntu 15.04 Automated</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/oracle-rac-6-node-12c-gns-asm-flex-cluster-ubuntu-15-04-install.html" jotId="wuid:gx:d6f61d65bebb324" class="sites-navigation-link">Oracle RAC 6-node 12c GNS ASM Flex Cluster Ubuntu 15.04 Install</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/ubuntu-14-04-1-asm-flex-cluster-on-lxc-containers.html" jotId="wuid:gx:55d12384bf11a4ac" class="sites-navigation-link">Ubuntu 14.04.1 Oracle GI 12c ASM Flex Cluster on LXC Containers</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rac-in-lxc-linux-containers/lxc-ovs-rac-gns.html" jotId="wuid:gx:3a38a5c143561a9b" class="sites-navigation-link">Ubuntu LXC OEL OVS ASM GNS RAC (12c)</a></div></li></ul></li><li class="topLevel parent " wuid="gx:b42a27877981be1"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../oracle-rman.html" jotId="wuid:gx:b42a27877981be1" class="sites-navigation-link topLevel">Oracle RMAN</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../oracle-rman/rman-active-duplicate-script.html" jotId="wuid:gx:51524327d66ae40f" class="sites-navigation-link">RMAN Active Duplicate Script</a></div></li></ul></li><li class="topLevel parent " wuid="gx:89ec64364eab694"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../engineering-docs.html" jotId="wuid:gx:89ec64364eab694" class="sites-navigation-link topLevel">Projects</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../engineering-docs/11gr2---12cr2-dataguard-upgrade-in-ol-lxc-on-ubuntu-17-04.html" jotId="wuid:gx:1da20af09381ca55" class="sites-navigation-link">11gR2 -&gt; 12cR2 Dataguard Upgrade in OL LXC on Ubuntu 17.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../engineering-docs/vmos6-oracle-snapshots.html" jotId="wuid:gx:1ea7e4c3c5ca52d" class="sites-navigation-link">VMOS6 Oracle Snapshots</a></div></li></ul></li><li class="topLevel parent " wuid="gx:204d0c728c285380"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../robin-systems.html" jotId="wuid:gx:204d0c728c285380" class="sites-navigation-link topLevel">Robin Systems</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/configuring-hugepages-for-oracle.html" jotId="wuid:gx:52999571538d8ca7" class="sites-navigation-link">Configuring HugePages for Oracle on CentOS 7 Robin Hosts</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-12c-rac-asm-flex-cluster.html" jotId="wuid:gx:4460573d54662758" class="sites-navigation-link">Robin 12c RAC ASM Flex Cluster</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-server-install-centos-7-vm.html" jotId="wuid:gx:573c9ade4fca5871" class="sites-navigation-link">Robin Server Install CentOS 7 VM</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-slob2-pdb-protocols.html" jotId="wuid:gx:4f404578ed53bc1" class="sites-navigation-link">Robin SLOB2 PDB Protocols</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-slob2-testing-notes.html" jotId="wuid:gx:653c530a0894e054" class="sites-navigation-link">Robin SLOB2 Testing Notes</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/robin-virtualbox-ovs.html" jotId="wuid:gx:3ede1bee391dc4db" class="sites-navigation-link">Robin VirtualBox OVS</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../robin-systems/the-surfing-life.html" jotId="wuid:gx:1f2b8b97c48d346a" class="sites-navigation-link">The Surfing Life</a></div></li></ul></li><li class="topLevel parent " wuid="gx:42a5103bbab0903f"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../scst.html" jotId="wuid:gx:42a5103bbab0903f" class="sites-navigation-link topLevel">SCST</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/reset-lun-read-only-attributes.html" jotId="wuid:gx:19d5a823bab350d4" class="sites-navigation-link">Reset LUN Read-Only Attributes</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-create-deb-package-and-install-fpm.html" jotId="wuid:gx:2f9a5abb765dc8ab" class="sites-navigation-link">SCST Create Deb Package and Install</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-debian-dkms-package-build-from-source-ubuntu-17-04.html" jotId="wuid:gx:263b273ada4b1198" class="sites-navigation-link">SCST Debian (DKMS) Package Build from Source (Ubuntu  15.04-17.04+)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-debian-dkms-package-build-from-source-ubuntu-14-04.html" jotId="wuid:gx:37519387aa0d7b34" class="sites-navigation-link">SCST Debian (DKMS) Package Build from Source (Ubuntu 14.04)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-debian-package-build-from-source-ubuntu-15-04-17-04.html" jotId="wuid:gx:376a668b36e2458e" class="sites-navigation-link">SCST Debian Package Build from Source (Ubuntu 15.04-17.04+)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-debian-package-build-from-source-ubuntu-17-04.html" jotId="wuid:gx:23e3728da5d7b341" class="sites-navigation-link">SCST Debian Package Build from Source (Ubuntu 17.04)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/kvm-scst-oel-6-5.html" jotId="wuid:gx:35aca0b4a22810be" class="sites-navigation-link">SCST KVM OEL 6.5</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/kvm-scst-uek-3-8.html" jotId="wuid:gx:727a09d4af2e0cb6" class="sites-navigation-link">SCST KVM UEK 3.8</a></div></li><li class="parent closed " wuid="gx:22f557a9fc2e1e25"><div dir="ltr" style="padding-left: 19px;"><div class="expander"></div><a href="../scst/scst-linux-san.html" jotId="wuid:gx:22f557a9fc2e1e25" class="sites-navigation-link">SCST Linux SAN</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/add-asm-dg.html" jotId="wuid:gx:2bc6ef8def1e36c9" class="sites-navigation-link">Add ASM DG</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/add-asm-dg-4k.html" jotId="wuid:gx:242dab2dbfad9ac5" class="sites-navigation-link">Add ASM DG (4K)</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/add-asm-lun.html" jotId="wuid:gx:2fedfac6897719" class="sites-navigation-link">Add ASM LUN</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/add-lun.html" jotId="wuid:gx:4b7b14970b8123cc" class="sites-navigation-link">Add LUN</a></div></li><li class=""><div dir="ltr" style="padding-left: 57px;"><a href="../scst/scst-linux-san/resize-asm-lun.html" jotId="wuid:gx:546bc643a9b955fd" class="sites-navigation-link">Resize ASM LUN</a></div></li></ul></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/lxc-scst-ul-14-04.html" jotId="wuid:gx:56ede6a9ffa466a3" class="sites-navigation-link">SCST LXC UL 14.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-ol-uek-3.html" jotId="wuid:gx:775819e6573c1127" class="sites-navigation-link">SCST OL UEK 3</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-package-build-and-install-ubuntu-17-04---14-04.html" jotId="wuid:gx:94e286580e7f53a" class="sites-navigation-link">SCST Package Build Install (Ubuntu 14.x-17.x)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/build-scst-from-source-on-oracle-linux-uek.html" jotId="wuid:gx:11bdab641c7da34" class="sites-navigation-link">SCST Source Build Oracle UEK</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-ubuntu-15-04.html" jotId="wuid:gx:7ac9dfabcffec63d" class="sites-navigation-link">SCST Ubuntu 15.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/scst-ubuntu-16-04.html" jotId="wuid:gx:3dd6f13e96e8fcdf" class="sites-navigation-link">SCST Ubuntu 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../scst/update-gpg-key-email-address-for-signing-debian-packages.html" jotId="wuid:gx:69975edf103e1292" class="sites-navigation-link">Update GPG1 Key Email Address, Add UID, Secret Key</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../the-surfing-life.html" jotId="wuid:gx:6260f278e385cf3d" class="sites-navigation-link topLevel">The Surfing Life</a></div></li><li class="topLevel parent " wuid="gx:3feac623e97563f8"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../tools.html" jotId="wuid:gx:3feac623e97563f8" class="sites-navigation-link topLevel">Tools</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/awr-analyzer-v3-02.html" jotId="wuid:gx:77df010a1161688f" class="sites-navigation-link">AWR Analyzer v3.02</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/cisco-anyconnect-vpn-centos-7.html" jotId="wuid:gx:1d46650a5d12d8f8" class="sites-navigation-link">Cisco AnyConnect VPN CentOS 7</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/dtrace-linux.html" jotId="wuid:gx:8cdf7bdd75524d8" class="sites-navigation-link">DTrace Linux</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/iotop.html" jotId="wuid:gx:638d81a1909fcba9" class="sites-navigation-link">iotop</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/iscsiadm.html" jotId="wuid:gx:5d490b3b5ae2b18b" class="sites-navigation-link">iscsiadm</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/lynx-html-cli.html" jotId="wuid:gx:3c44570e4d9e5dbe" class="sites-navigation-link">lynx HTML CLI</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/nsupdate.html" jotId="wuid:gx:3dd2f364ba8d97c3" class="sites-navigation-link">nsupdate</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/orion.html" jotId="wuid:gx:5e1bc1ac2b426298" class="sites-navigation-link">Orion</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/perf_stat.html" jotId="wuid:gx:17c3dad58ddee2ec" class="sites-navigation-link">perf_stat</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/qemu-monitor-command.html" jotId="wuid:gx:332a02f511ef9aa0" class="sites-navigation-link">QEMU Monitor Command</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/sflow.html" jotId="wuid:gx:51f13dca17c0f452" class="sites-navigation-link">sflow</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/slob.html" jotId="wuid:gx:6fb549ba8af63cc8" class="sites-navigation-link">SLOB2</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/slob2-12c-rac-pdb-version.html" jotId="wuid:gx:7370bb97c3458d1c" class="sites-navigation-link">SLOB2 (12c RAC PDB Version)</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/tunnels.html" jotId="wuid:gx:67c0050b2d97d566" class="sites-navigation-link">Tunnels</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/vdbench.html" jotId="wuid:gx:5a058833aa18c315" class="sites-navigation-link">VDBench</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../tools/virt-alignment-scan.html" jotId="wuid:gx:7ef6511f7ec6d8fc" class="sites-navigation-link">virt-alignment-scan</a></div></li></ul></li><li class="topLevel parent " wuid="gx:a688388e2cf1712"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="../ubuntu-16-04.html" jotId="wuid:gx:a688388e2cf1712" class="sites-navigation-link topLevel">Ubuntu 16.04</a></div><ul role="navigation" class="has-expander"><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../ubuntu-16-04/canonical-ubuntu-16-04-livepatch-service.html" jotId="wuid:gx:36531436c1ed4a17" class="sites-navigation-link">Canonical Ubuntu 16.04 Livepatch Service</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../ubuntu-16-04/cisco-anyconnect-vpn-ubunty-16-04.html" jotId="wuid:gx:1f1f8e214e889787" class="sites-navigation-link">Cisco AnyConnect VPN Ubuntu 16.04</a></div></li><li class=""><div dir="ltr" style="padding-left: 38px;"><a href="../ubuntu-16-04/systemd-to-manage-network-interfaces.html" jotId="wuid:gx:182e7ebf6d20564f" class="sites-navigation-link">Systemd to Manage Network Interfaces</a></div></li></ul></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../zero-downtime-asm-lun-add.html" jotId="wuid:gx:6d5fc0b6a3941475" class="sites-navigation-link topLevel">Zero-Downtime ASM LUN Add</a></div></li><li class="topLevel "><div dir="ltr" style="padding-left: 19px;"><a href="../system/app/pages/sitemap/hierarchy.html" jotId="wuid:gx:5b81d66bdd7a72b7" class="sites-navigation-link topLevel">Sitemap</a></div></li></ul></div></div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_35309087585577514" class="sites-sidebar-plusone-wrapper"><div class="g-plusone" data-count="true" data-size="standard" data-source="google:sites"></div></div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas" role="main">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<A href="../kvm-and-openvswitch.html" dir="ltr">KVM and OpenvSwitch</A> &gt; 
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr" tabindex="-1" style="outline: none">KVM DNS UL 14.04</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><font size="3"><div><div class="sites-embed-align-left-wrapping-off"><div class="sites-embed-border-off sites-embed" style="width:500px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-6"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Objectives"><strong>1 </strong>Objectives</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Primary-DNS-Server-Details"><strong>2 </strong>Primary DNS Server Details</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Slave-DNS-Server-Details"><strong>3 </strong>Slave DNS Server Details</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-OpenvSwitch-Details"><strong>4 </strong>OpenvSwitch Details</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-KVM-Guest-Master-DNS-Installation"><strong>5 </strong>KVM Guest Master DNS Installation</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Configure-Bind-Service"><strong>6 </strong>Configure Bind Service</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Set-Iptables-Rules"><strong>7 </strong>Set Iptables Rules</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Test-Master-DNS-Server"><strong>8 </strong>Test Master DNS Server</a><ol class="goog-toc"><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Check-DNS-Configuration-File"><strong>8.1 </strong>Check DNS Configuration File</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Check-Zone-Files"><strong>8.2 </strong>Check Zone Files</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Test-DNS-Servers"><strong>8.3 </strong>Test DNS Servers</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Master-DNS-Server-nslookup"><strong>8.4 </strong>Master DNS Server nslookup</a></li></ol></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-KVM-Host-Slave-DNS-Installation"><strong>9 </strong>KVM Host Slave DNS Installation</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Configure-Slave-DNS-Server"><strong>10 </strong>Configure Slave DNS Server</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Verify-File-etc-hosts-"><strong>11 </strong>Verify File /etc/hosts</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Edit-File-etc-nsswitch.conf-"><strong>12 </strong>Edit File /etc/nsswitch.conf</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Verify-File-etc-NetworkManager-NetworkManager.conf"><strong>13 </strong>Verify File /etc/NetworkManager/NetworkManager.conf</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Edit-File-etc-network-interfaces"><strong>14 </strong>Edit File /etc/network/interfaces</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Verify-File-etc-resolv.conf"><strong>15 </strong>Verify File /etc/resolv.conf</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Start-bind9-Service"><strong>16 </strong>Start bind9 Service</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Verify-Zone-File-Transfer-to-Slave-DNS"><strong>17 </strong>Verify Zone File Transfer to Slave DNS</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Test-Slave-DNS-Server"><strong>18 </strong>Test Slave DNS Server</a><ol class="goog-toc"><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Check-DNS-Configuration-Files"><strong>18.1 </strong>Check DNS Configuration Files</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Check-DNS-Zone-Files"><strong>18.2 </strong>Check DNS Zone Files</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Test-DNS-Servers1"><strong>18.3 </strong>Test DNS Servers</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Slave-DNS-Server-Lookup"><strong>18.4 </strong>Slave DNS Server Lookup</a></li></ol></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Test-Zone-File-Propagation"><strong>19 </strong>Test Zone File Propagation</a></li><li class="goog-toc"><a href="kvm-dns-ul-14-04.html#TOC-Configure-Private-Network-on-NM-dnsmasq"><strong>20 </strong>Configure Private Network on NM-dnsmasq</a></li></ol></div></div></div></div></div><br />This post is about how to configure Domain Name Services (DNS) for a private network of KVM virtual machines running on an Ubuntu 14.04 64-bit Desktop Edition on a Lenovo W520 Mobile Workstation laptop with 32Gb RAM. The goal of this work was to find a way to provide DNS at both the KVM host level, and also in each of the KVM guests making no changes to the NM-controlled dnsmasq-base that Network Manager uses by default. <br /></font><h3><a name="TOC-Objectives"></a>Objectives</h3><p><font size="3">Configuring DNS for a set of KVM guests running on an Ubuntu Desktop KVM host presents some additional design considerations compared to say, using Ubuntu Server Edition as the KVM host, because of the existence on the Desktop Edition of the NetworkManager, which uses dnsmasq-base for DNS resolution, among other things. The Network Manager has come a long way since say, Ubuntu 9, and it has become very useful and robust for the desktop, imho. Therefore, since this is a laptop that is used for many purposes, not just hosting KVM guests, but also for work over a corporate VPN, accessing internet content, etc., therefore a major objective was to implement the DNS for the KVM guests without affecting NetworkManager, i.e. a goal was to leave NetworkManager working exactly as designed, with little or no changes to NM-dnsmasq.</font></p><p><font size="3">Another objective was to locate the master DNS server inside one of the KVM guests. The reason for this objective is that this group of KVM guests is intended to be a self-contained lab that other employees of the company, and interested persons as well, could use on their own desktop or laptop machine. In other words, this set of KVM guests should be portable, and so the DNS master server must be in one of the KVM guests so that it travels along with the KVM images and XML files.</font></p><p><font size="3">Note also that "vmem.org" is an existing domain, and so an authoritative-only DNS server was needed so that "vmem.org" servers could be defined in the confines of this laptop network, and not from resolution to DNS servers for the actual "www.vmem.org"</font>.<br /></p><p><font size="3">The last main objective was to design the DNS so that new entries or updates to DNS for the KVM guests only needed to be made in one location, not in multiple locations. For example, it is desired to be able to login to the KVM guests using their hostname, and not their IP addresses. This could be accomplished most siimply by just adding the KVM guests to the /etc/hosts file of the KVM host. But this approach has several design drawbacks. One drawback is that providing DNS to both the KVM host and the KVM guests would involve maintaining both the DNS server inside the KVM guest as well as the /etc/hosts on the KVM host. The second drawback is that it was stated previously that it is desired that the DNS reside in the KVM guest, and that the DNS be fully portable and travel with the KVM guest images and XML files. A DNS could probably be designed, say, using dnsmasq inside a KVM guest, to query /etc/hosts on the KVM host, but this would not be portable, and would tie the KVM guests to the original KVM host for DNS resolution. Therefore, /etc/hosts was ruled out.</font></p><p><font size="3">The design that was adopted was to install a bind9 (aka "named") master DNS server in one of the KVM guests (running Oracle Enterprise Linux 6.5) and then create a bind9 slave DNS server on the Ubuntu 14.04 KVM host. This design provides a DNS server that travels with the set of KVM guests, but also provides DNS resolution at the KVM host level. For example, to connect to a KVM guest using the hostname and not the IP address, before ANY of the KVM guests are running, we would need /etc/hosts on the KVM host or a DNS server on the KVM host (because the KVM guest DNS server is not running yet) hence the need for a slave DNS server at the KVM host.</font></p><p><font size="3">The design used therefore is as follows:</font></p><ul><li><font size="3">A DNS master running in the oracle651.vmem.org KVM guest</font></li><li><font size="3">A DNS slave running in the vmem1.vmem.org KVM host which is updated with changes from the DNS master<br /></font></li><li><font size="3">A dnsmasq-base instance running in the vmem1.vmem.org host to support Ubuntu 14.04 Network Manager to handle VPN and internet DNS</font></li></ul><h3><a name="TOC-Primary-DNS-Server-Details"></a>Primary DNS Server Details</h3><p><font size="3">Information on the primary DNS server is shown below. This server began life as a pure Oracle Enterprise Linux 6.5 UEK kernel running in a KVM guest server, but now runs a Centos 6 kernel custom-built for SCST as described <a href="../scst/kvm-scst-oel-6-5.html" target="_blank">here</a>. Aside from the custom kernel, the server is OEL 6.5. The instructions in this post should work fine on any CentOS 6 / RHEL 6 / OEL 6 server.</font><br /></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>[root@oracle651 ~]# uname -a</code><br /><br /><code>Linux <b>oracle651.vmem.org</b> 2.6.32-scst #1 SMP Mon Aug 11 15:55:43 CDT 2014 x86_64 x86_64 x86_64 GNU/Linux</code><br /><br /><code>[root@oracle651 ~]# cat /etc/redhat-release</code><br /><br /><b><code>Red Hat Enterprise Linux Server release 6.5 (Santiago)</code></b><br /><br /><code>[root@oracle651 ~]# cat /etc/oracle-release</code><br /><br /><code><b>Oracle Linux Server release 6.5</b><br /><br />[root@oracle651 ~]# ifconfig eth0<br />eth0 Link encap:Ethernet HWaddr 52:54:00:66:26:A0 <br /> inet addr:<b>10.207.39.74</b> Bcast:10.207.39.255 Mask:255.255.255.0<br /> inet6 addr: fe80::5054:ff:fe66:26a0/64 Scope:Link<br /> UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1<br /> RX packets:443 errors:0 dropped:0 overruns:0 frame:0<br /> TX packets:259 errors:0 dropped:0 overruns:0 carrier:0<br /> collisions:0 txqueuelen:1000 <br /> RX bytes:44522 (43.4 KiB) TX bytes:36703 (35.8 KiB)<br /><br />[root@oracle651 ~]# <br /><br /></code></font></font></div><div><div><h3><a name="TOC-Slave-DNS-Server-Details"></a>Slave DNS Server Details</h3><p><font size="3">Details of the slave DNS server are shown below. The laptop normally operates on wireless networking, but can also operate on wired network just as well using the solution described in this post. The wlan0 information is shown here. If the laptop were plugged into a wired connection it would acquire an IP address on this same home network (192.168.1.x). <br /></font></p><p><font size="3">A note about listings. I have listed the code for the relevant files for configuring the networking environment and DNS on the KVM host (Lenovo W520 laptop). However, for the KVM host, I have also attached the relevant files to this blog post (see end of post).<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ uname -a</code><br /><br /><code>Linux <b>vmem1.vmem.org</b> 3.13.0-34-generic #60-Ubuntu SMP Wed Aug 13 15:45:27 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux</code><br /><br /><code>gstanden@vmem1:~$ cat /etc/os-release</code><br /><br /><code>NAME="Ubuntu"</code><br /><code>VERSION="14.04.1 LTS, Trusty Tahr"</code><br /><code>ID=ubuntu</code><br /><code>ID_LIKE=debian</code><br /><code>PRETTY_NAME=<b>"Ubuntu 14.04.1 LTS"</b></code><br /><code>VERSION_ID="14.04"</code><br /><code>HOME_URL="http://www.ubuntu.com/"</code><br /><code>SUPPORT_URL="http://help.ubuntu.com/"</code><br /><code>BUG_REPORT_URL="http://bugs.launchpad.net/ubuntu/"</code><br /><br /><code>gstanden@vmem1:~$ ifconfig wlan0<br />wlan0 Link encap:Ethernet HWaddr 68:a3:c4:e6:98:ed <br /> inet addr:<b>192.168.1.12</b> Bcast:192.168.1.255 Mask:255.255.255.0<br /> inet6 addr: fe80::6aa3:c4ff:fee6:98ed/64 Scope:Link<br /> UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1<br /> RX packets:54337 errors:0 dropped:0 overruns:0 frame:0<br /> TX packets:42990 errors:0 dropped:0 overruns:0 carrier:0<br /> collisions:0 txqueuelen:1000 <br /> RX bytes:51549615 (51.5 MB) TX bytes:8859803 (8.8 MB)<br /><br />gstanden@vmem1:~$ ifconfig sw1<br />sw1 Link encap:Ethernet HWaddr 92:6b:0e:6e:a8:4f <br /> inet addr:<b>10.207.39.1</b> Bcast:0.0.0.0 Mask:255.255.255.0<br /> inet6 addr: fe80::64fd:4bff:fe23:1fdd/64 Scope:Link<br /> UP BROADCAST RUNNING MTU:1500 Metric:1<br /> RX packets:413 errors:0 dropped:0 overruns:0 frame:0<br /> TX packets:819 errors:0 dropped:0 overruns:0 carrier:0<br /> collisions:0 txqueuelen:0 <br /> RX bytes:64440 (64.4 KB) TX bytes:74489 (74.4 KB)<br /><br />gstanden@vmem1:~$ <br /><br /><br /></code></font></div><h3><a name="TOC-OpenvSwitch-Details"></a>OpenvSwitch Details</h3><p><font size="3">The interface "sw1" shown above is an OpenvSwitch. This switch provides the management network which connects the KVM guests to all the other KVM guests on that network, and also connects the KVM guests to the KVM host, providing full ssh connectivity host-guest and guest-host. Connectivity between the KVM guests and the internet is provided by the iptables rules contained in the script below. <br /></font></p><p><font size="3">One might ask, "Why not just attach wlan0 (or eth0) to the OpenvSwitch directly?" <br /></font></p><p><font size="3">The answer is that attaching wlan0 or eth0 directly to the OpenvSwitch typically interrupts networking and causes direct overlap between the territory of Network Manager and OpenvSwitch. Several posts on the internet go so far as to rip out Network Manager entirely so that there is no overalp.</font></p><p><font size="3">As stated previously, one of the goals of this implementation was to implement all the DNS and DHCP services for the KVM guests without affecting Network Manager (and it's use of dnsmasq-base). Thus, these iptables rules are used to provide internet access to the KVM guests without actually attaching the eth0 or wlan0 interfaces directly to the OpenvSwitch.</font></p><p><font size="3">These iptables rules are taken from the post <a href="https://www.virtualbox.org/wiki/Advanced_Networking_Linux" target="_blank" rel="nofollow">here by Jean-Jacques Sarton</a>. The switch sw1 is defined and built at bootup in a script "/home/gstanden/crt_ovs_sw1.sh" from the following file as shown below. This script is run from the Upstart job file at /etc/init/my-network-up.conf at boot time to configure the OpenvSwitch and related networking as shown below. The crt_ovs_sw1.sh script owes much to the reference previously mentioned <a href="https://www.virtualbox.org/wiki/Advanced_Networking_Linux" target="_blank" rel="nofollow">here by Jean-Jacques Sarton</a>. The work described by Jean-Jacquest was modified here for OpenvSwitch from the original (linux bridge) code. <br /></font></p><p><font size="3"><b>UPDATE 2014-08-25 12:47 PM CDT:</b> Some testing revealed there were some additional configuration changes and improvements that were needed to handle the case of <i>(1) no internet connected interface available</i>, and <i>(2) the case of connection to corporate VPN</i>. The new and improved "/home/gstanden/crt_ovs_sw1.sh" file is shown below. Changes were also made to programmatically set $EXTIF at KVM host boot time instead of using a hard-coded value.<br /></font></p></div><div class="sites-codeblock sites-codesnippet-block"><code><font size="3">gstanden@vmem1:~$ cat crt_ovs_sw1.sh<br /><br />#!/bin/bash<br /># Requires use of Upstart Script /etc/init/my-network-up.conf to ensure interfaces are up before running.<br /><br />tunctl -t s1<br />tunctl -t s2<br />tunctl -t s3<br />tunctl -t s4<br />tunctl -t s5<br />tunctl -t s6<br />ip link set s1 up<br />ip link set s2 up<br />ip link set s3 up<br />ip link set s4 up<br />ip link set s5 up<br />ip link set s6 up<br />ovs-vsctl add-br sw1<br />ovs-vsctl add-port sw1 s1<br />ovs-vsctl add-port sw1 s2<br />ovs-vsctl add-port sw1 s3<br />ovs-vsctl add-port sw1 s4<br />ovs-vsctl add-port sw1 s5<br />ovs-vsctl add-port sw1 s6<br />ip link set up dev sw1<br />ip addr add 10.207.39.1/24 dev sw1<br />ip route replace 10.207.39.0/24 dev sw1<br /><br /># GLS 20140825 Get active external interface dynamically at boot. Tested &amp; works with {wlan0, eth0, bnep0} on NM-manager Ubuntu 14.04.1 Desktop x86_64.<br /># GLS 20140825 Interface "bnep0" is Blackberry Z30 OS10 Bluetooth Tether.<br /><br />### BEGIN Get Active EXTIF Dynamcially. ###<br />function GetInterface<br />{<br />ifconfig|egrep -B1 'inet addr'|egrep -A1 'wlan0|eth0|bnep0'|sed '$!N;s/\n/ /' | sed 's/ */ /g' | cut -f1,7 -d' ' | sed 's/ addr//' | head -1 | cut -f1 -d':'<br />}<br />function GetIP<br />{<br />ifconfig|egrep -B1 'inet addr'|egrep -A1 'wlan0|eth0|bnep0'|sed '$!N;s/\n/ /' | sed 's/ */ /g' | cut -f1,7 -d' ' | sed 's/ addr//' | head -1 | cut -f2 -d':'<br />}<br />### END Get Active EXTIF Dynamically. ###<br /><br />echo ' IP: '$(GetIP)<br />echo 'Interface: '$(GetInterface)<br /><br />INTIF="sw1"<br />EXTIF=$(GetInterface)<br /># EXTIF="wlan0"<br /><br />echo 1 &gt; /proc/sys/net/ipv4/ip_forward<br /><br /># clear existing iptable rules, set a default policy<br />iptables -P INPUT ACCEPT<br />iptables -F INPUT <br />iptables -P OUTPUT ACCEPT<br />iptables -F OUTPUT <br />iptables -P FORWARD DROP<br />iptables -F FORWARD <br />iptables -t nat -F<br /><br /># set forwarding and nat rules<br />iptables -A FORWARD -i $EXTIF -o $INTIF -j ACCEPT<br />iptables -A FORWARD -i $INTIF -o $EXTIF -j ACCEPT<br />iptables -t nat -A POSTROUTING -o $EXTIF -j MASQUERADE<br /><br />service isc-dhcp-server start<br /><br />gstanden@vmem1:~$ <br /><br /></font></code></div><p><font size="3">The above script creates an OpenvSwitch that can be shown with the command "sudo ovs-vsctl show". <br /></font></p><p><font size="3">Note that this setup also has two storage networks, 10.207.40.x and 10.207.41.x, which connect the KVM Oracle guests to this KVM SCST iSCSI Linux SAN to provide true virtualized multipath via two additional OpenvSwitch switches. The scripts for those networks are similar to the above. No DNS resolution is used for the storage networks. <br /></font></p><p><font size="3">DNS is provided only for the server management network 10.207.39.x which is used to ssh to the servers, scp files between them, etc. The files used to build these OpenvSwitch switches are attached to this blog. <br /></font></p><p><font size="3">The "/home/gstanden/crt_ovs_sw1.sh" script is run by an Ubuntu Upstart script /etc/init/my-network-up.conf at bootup of the KVM host (a Lenovo W520 laptop in this case) as shown below. This script ensures that the network interfaces are up before the "/home/gstanden/crt_ovs_sw1.sh" script runs.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>gstanden@vmem1:~$ cat /etc/init/my-network-up.conf <br /><br /># 'my-network-up.conf' - My custom upstart events<br />#<br /># These are the scripts that run when a network appears.<br /><br />description "My custom upstart events"<br /><br />start on net-device-up # Start a daemon or run a script<br />stop on net-device-down # (Optional) Stop a daemon, scripts already self-terminate.<br /><br />script<br /># Shell script go here, including optionally if/then and tests.<br />/home/gstanden/crt_ovs_sw1.sh 2&gt;&amp;1 &gt; /home/gstanden/crt_ovs_sw1.log<br />/home/gstanden/crt_ovs_sw2.sh 2&gt;&amp;1 &gt; /home/gstanden/crt_ovs_sw2.log<br />/home/gstanden/crt_ovs_sw3.sh 2&gt;&amp;1 &gt; /home/gstanden/crt_ovs_sw3.log<br />end script<br /><br />gstanden@vmem1:~$ <br /><br /></code></font></font></div><font size="3"><br />The finished OpenvSwitch switches are shown below with the ovs-vsctl utility. OpenvSwitch "sw1" is the management network. The OpenvSwitch "sw2" and "sw3" provide multipath iSCSI storage networks. As mentioned above, these switches and related networking are all built at each bootup. <br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ sudo ovs-vsctl show</code><br /><code>[sudo] password for gstanden: </code><br /><code>2fc24710-34b5-4aa2-a32d-4e7bcb1afa1a</code><br /><code> Bridge "sw2"</code><br /><code> Port "sw2"</code><br /><code> Interface "sw2"</code><br /><code> type: internal</code><br /><code> Port "t3"</code><br /><code> Interface "t3"</code><br /><code> Port "t1"</code><br /><code> Interface "t1"</code><br /><code> Port "t4"</code><br /><code> Interface "t4"</code><br /><code> Port "t5"</code><br /><code> Interface "t5"</code><br /><code> Port "t2"</code><br /><code> Interface "t2"</code><br /><b><code> Bridge "sw1"</code><br /><code> Port "sw1"</code><br /><code> Interface "sw1"</code><br /><code> type: internal</code><br /><code> Port "s5"</code><br /><code> Interface "s5"</code><br /><code> Port "s4"</code><br /><code> Interface "s4"</code><br /><code> Port "s3"</code><br /><code> Interface "s3"</code><br /><code> Port "s1"</code><br /><code> Interface "s1"</code><br /><code> Port "s2"</code><br /><code> Interface "s2"</code></b><br /><code> Bridge "sw3"</code><br /><code> Port "w2"</code><br /><code> Interface "w2"</code><br /><code> Port "w3"</code><br /><code> Interface "w3"</code><br /><code> Port "w1"</code><br /><code> Interface "w1"</code><br /><code> Port "w4"</code><br /><code> Interface "w4"</code><br /><code> Port "sw3"</code><br /><code> Interface "sw3"</code><br /><code> type: internal</code><br /><code> Port "w5"</code><br /><code> Interface "w5"</code><br /><code> ovs_version: "2.0.1"</code><br /><code>gstanden@vmem1:~$ </code></font></div><br /></font><div><font size="3">DHCP is provided to the KVM guest on the 10.207.39.x network by isc-dhcp-server. That configuration is shown <a href="kvm-openvswitch-1.html#TOC-Configure-DHCP-for-OpenvSwitch" target="_blank">here</a> and <a href="kvm-openvswitch-1.html#TOC-Install-OpenSSH-Server-DHCP-and-UML-Utilities" target="_blank">here</a> in another post on this site. <br /></font><h3><a name="TOC-KVM-Guest-Master-DNS-Installation"></a>KVM Guest Master DNS Installation</h3><p><font size="3">First the DNS was installed in a KVM guest chosen among the patch of KVM guests (all on the same 10.207.39.x network) to be the DNS server. The "oracle651.vmem.org" server was chosen because it is already in use as the SCST iSCSI Linux SAN, and as such, must be started before all of the other KVM guests on this network to provide the iSCSI LUNs to the other servers (the other KVM guests are all Oracle database servers, which use ASM, and therefore need SCST to present multipathed iSCSI LUNs). Much of the configuration shown below is based on the guide <a href="http://ostechnix.wordpress.com/2013/12/15/setup-dns-server-step-by-step-in-centos-6-3-rhel-6-3-scientific-linux-6-3-3/" target="_blank" rel="nofollow">at ostechnix</a>.<br /></font></p><p><font size="3">Install bind9 in the KVM guest oracle651.vmem.org as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><code>[root@oracle651 ~]# yum install bind* -y</code></font></div><font size="3"><br /></font></div><div><font size="3">The /etc/named.conf file is shown below, with bolded sections indicating parts that customized for this network and setup.</font><br /><br /></div><div><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 etc]# cat /etc/named.conf</code><br /><br /><code>//</code><br /><code>// named.conf</code><br /><code>//</code><br /><code>// Provided by Red Hat bind package to configure the ISC BIND named(8) DNS</code><br /><code>// server as a caching only nameserver (as a localhost DNS resolver only).</code><br /><code>//</code><br /><code>// See /usr/share/doc/bind*/sample/ for example named configuration files.</code><br /><code>//</code><br /><br /><code>options {</code><br /><code> <b>listen-on port 53 { 127.0.0.1; 10.207.39.74; };</b></code><br /><code> listen-on-v6 port 53 { ::1; };</code><br /><code> directory "/var/named";</code><br /><code> dump-file "/var/named/data/cache_dump.db";</code><br /><code> statistics-file "/var/named/data/named_stats.txt";</code><br /><code> memstatistics-file "/var/named/data/named_mem_stats.txt";</code><br /><code><b> allow-query { localhost; 10.207.39.0/24; };</b></code><br /><code><b> recursion yes;</b></code><b><br /><code> notify yes;</code></b><br /><br /><code> dnssec-enable yes;</code><br /><code> dnssec-validation yes;</code><br /><code> dnssec-lookaside auto;</code><br /><br /><code> /* Path to ISC DLV key */</code><br /><code> bindkeys-file "/etc/named.iscdlv.key";</code><br /><br /><code> managed-keys-directory "/var/named/dynamic";</code><br /><code>};</code><br /><br /><code>logging {</code><br /><code> channel default_debug {</code><br /><code> file "data/named.run";</code><br /><code> severity dynamic;</code><br /><code> };</code><br /><code>};</code><br /><br /><code>zone "." IN {</code><br /><code> type hint;</code><br /><code> file "named.ca";</code><br /><code>};</code><br /><b><br /><code>zone "vmem.org" IN {</code><br /><code>type master;</code><br /><code>file "fwd.vmem.org";</code><br /><code>allow-update { none; };</code><br /><code>};</code><br /><br /><code>zone "39.207.10.in-addr.arpa" IN {</code><br /><code>type master;</code><br /><code>file "rev.vmem.org";</code><br /><code>allow-update {none; };</code><br /><code>};</code></b><br /><br /><code>include "/etc/named.rfc1912.zones";</code><br /><code>include "/etc/named.root.key";</code><br /><br /><code>[root@oracle651 etc]# </code></font></div><br /></div><div><font size="3">The zone files used are shown below. First, here is the forward zone lookup file (fwd.vmem.org) as shown below. One thing to notice is that there are "A" records for both of the nameservers in this file, in addition to the "NS" records for each of the namerservers (master and slave). It is important to have these "A" records for the DNS servers in this setup, including for resolution of the slave DNS server.</font><br /><br /></div><div><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 named]# pwd</code><br /><br /><code>/var/named</code><br /><br /><code>[root@oracle651 named]# ls -lrt fwd.vmem.org</code><br /><br /><code>-rw-r--r-- 1 root root 634 Aug 20 16:11 fwd.vmem.org</code><br /><br /><code>[root@oracle651 named]# cat fwd.vmem.org<br /><br />$TTL 86400<br />$ORIGIN vmem.org.<br />@   IN SOA  oracle651.vmem.org. postmaster.vmem.org. (<br />  201408202001 ;Serial<br /> 60 ;Refresh<br /> 1800 ;Retry<br /> 604800 ;Expire<br /> 86400 ;Minimum TTL<br />)<br />@   IN NS  oracle651   ; Master DNS Server<br />@   IN NS  vmem1    ; Slave DNS Server<br />oracle651 IN A  10.207.39.74  ; KVM guest SCST iSCSI Linux SAN<br />oracle631 IN A  10.207.39.72  ; KVM guest Oracle Dataguard Primary (512e)<br />oracle632 IN A  10.207.39.76  ; KVM guest Oracle Dataguard Standby (4K )<br />oracle635 IN A  10.207.39.90  ; DNS master-slave propagation test IP<br />vmem1  IN A  10.207.39.1   ; KVM host (Ubuntu 14.04 laptop)<br /><br />[root@oracle651 named]# <br /><br /></code></font></div><br /></div><div><font size="3">Next is shown the reverse lookups file as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 named]# pwd </code><br /><br /><code>/var/named</code><br /><br /><code>[root@oracle651 named]# ls -lrt rev.vmem.org </code><br /><br /><code>-rw-r--r-- 1 root root 467 Aug 20 16:11 rev.vmem.org</code><br /><br /><code>[root@oracle651 named]# cat rev.vmem.org<br />$TTL 86400<br />@    IN SOA oracle651.vmem.org. postmaster.vmem.org. (<br /> 201408201611 ;Serial<br /> 3600 ;Refresh<br /> 1800 ;Retry<br /> 604800 ;Expire<br /> 86400 ;Minimum TTL<br />)<br />@    IN NS oracle651.vmem.org.<br />@    IN NS vmem1.vmem.org.<br />oracle651  A   10.207.39.74<br />vmem1   A   10.207.39.1<br />39.207.10.in-addr.arpa IN NS oracle651.vmem.org. ; Master DNS<br />39.207.10.in-addr.arpa IN NS vmem1.vmem.org. ; Slave DNS<br />1    IN PTR vmem1.vmem.org. ; KVM host (Ubuntu 14.04 laptop)<br />72    IN PTR oracle631.vmem.org. ; KVM guest Oracle Dataguard Primary<br />74    IN PTR oracle651.vmem.org. ; KVM guest Oracle Dataguard Standby<br />76    IN PTR oracle632.vmem.org. ; KVM guest SCST iSCSI Linux SAN<br />90    IN PTR oracle635.vmem.org. ; DNS master-slave propagation test IP<br /><br />[root@oracle651 named]#</code></font></div></font></div><div><h3><a name="TOC-Configure-Bind-Service"></a>Configure Bind Service</h3><p><font size="3">Start the bind service as shown below and use set bind to start on boot as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><p><font size="4"><code>[root@oracle651 named] # service named start</code></font></p><p><font size="4"><code>[root@oracle651 named] # chkconfig named on</code></font></p></div><p><font size="3">In this setup, iptables is set to off as shown below, so there is no need to configure iptables for this setup. <br /></font></p><div class="sites-codeblock sites-codesnippet-block"><p><font size="4"><code>[root@oracle651 named] # chkconfig iptables off</code></font></p><p><font size="4"><code>[root@oracle651 named] # service iptables st</code><code>op</code></font></p></div><br /><p><font size="3">However, if using iptables, be sure to also do the steps in the next section "set iptables rules".</font>Te<br /></p><h3><a name="TOC-Set-Iptables-Rules"></a>Set Iptables Rules</h3><p><font size="3">My servers have been set to iptables off, but if iptables is on, use the guide<a href="http://ostechnix.wordpress.com/2013/12/15/setup-dns-server-step-by-step-in-centos-6-3-rhel-6-3-scientific-linux-6-3-3/" target="_blank" rel="nofollow"> here at ostechnix</a> to configure rules to allow communication to the DNS server. Those rules are reproduced here for convenience as shown below. The were not used on this implementation because as mentioned, this setup has iptables off.</font></p><p><font size="3">Note that a secure implementation would not likely allow simply turning iptables off, and the rules shown below would need to be implemented.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><pre><font size="4"><code>[root@masterdns ~]# vi /etc/sysconfig/iptables
# Firewall configuration written by system-config-firewall
# Manual customization of this file is not recommended.
*filter
:INPUT ACCEPT [0:0]
:FORWARD ACCEPT [0:0]
:OUTPUT ACCEPT [0:0]
</code><b><code>-A INPUT -p udp -m state --state NEW --dport 53 -j ACCEPT
-A INPUT -p tcp -m state --state NEW --dport 53 -j ACCEPT
</code></b><code>-A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
-A INPUT -p icmp -j ACCEPT
-A INPUT -i lo -j ACCEPT
-A INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT
-A INPUT -j REJECT --reject-with icmp-host-prohibited
-A FORWARD -j REJECT --reject-with icmp-host-prohibited
COMMIT</code></font></pre></div><h3><a name="TOC-Test-Master-DNS-Server"></a>Test Master DNS Server</h3><p><font size="3">Test the Master DNS service as described <a href="http://ostechnix.wordpress.com/2013/12/15/setup-dns-server-step-by-step-in-centos-6-3-rhel-6-3-scientific-linux-6-3-3/" target="_blank" rel="nofollow">here at ostechnix</a>. The tests are reproduced here for convenience.</font></p><h4><a name="TOC-Check-DNS-Configuration-File"></a><font size="3">Check DNS Configuration File</font></h4><p><font size="3">Check the /etc/named.conf file and the /etc/named.rfc1912.zones files as shown below. The output shown below is correct expected output.</font><br /></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 named]# named-checkconf /etc/named.conf</code><br /><code>[root@oracle651 named]# </code><br /><code>[root@oracle651 named]# named-checkconf /etc/named.rfc1912.zones </code><br /><code>[root@oracle651 named]# </code></font></div><h4><a name="TOC-Check-Zone-Files"></a><font size="3">Check Zone Files</font></h4><p><font size="3">Check the zone files as shown below. The output shown is the correct expected output. Note that there is some disagreement in the literature about the syntax for the reverse zone check. This reverse zone file passes both forms of the reverse zone check syntax with no errors, as shown below.</font></p><p><font size="3">Here is the results for the forward zone file check, as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>[root@oracle651 named]# named-checkzone vmem.org /var/named/fwd.vmem.org</code><br /><code>zone vmem.org/IN: loaded serial 3839706385</code><br /><code>OK</code><br /><code>[root@oracle651 named]# </code></font></font></div><p><font size="3">Here is the result for the first published syntax of the reverse zone check as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>[root@oracle651 named]# named-checkzone vmem.org /var/named/rev.vmem.org</code><br /><code>zone vmem.org/IN: loaded serial 3839705995</code><br /><code>OK</code><br /><code>[root@oracle651 named]# </code></font></font></div><p><font size="3">Here is the result of the alternate published syntax of the reverse zone check as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 named]# named-checkzone 39.207.10.in-addr.arpa rev.vmem.org </code><br /><code>zone 39.207.10.in-addr.arpa/IN: loaded serial 3839705995</code><br /><code>OK</code><br /><code>[root@oracle651 named]# </code></font></div><h4><a name="TOC-Test-DNS-Servers"></a><font size="3">Test DNS Servers</font></h4><p><font size="3">Here are the results of the DNS server tests, dig by master DNS hostname, as shown below.</font><br /></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 named]# dig oracle651.vmem.org</code><br /><br /><code>; &lt;&lt;&gt;&gt; DiG 9.8.2rc1-RedHat-9.8.2-0.23.rc1.el6_5.1 &lt;&lt;&gt;&gt; oracle651.vmem.org</code><br /><code>;; global options: +cmd</code><br /><code>;; Got answer:</code><br /><code>;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 60922</code><br /><code>;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 2, ADDITIONAL: 1</code><br /><br /><code>;; QUESTION SECTION:</code><br /><code>;oracle651.vmem.org.  IN A</code><br /><br /><code>;; ANSWER SECTION:</code><br /><code>oracle651.vmem.org. 86400 IN A 10.207.39.74</code><br /><br /><code>;; AUTHORITY SECTION:</code><br /><code>vmem.org.  86400 IN NS vmem1.vmem.org.</code><br /><code>vmem.org.  86400 IN NS oracle651.vmem.org.</code><br /><br /><code>;; ADDITIONAL SECTION:</code><br /><code>vmem1.vmem.org.  86400 IN A 10.207.39.1</code><br /><br /><code>;; Query time: 0 msec</code><br /><code>;; SERVER: 10.207.39.74#53(10.207.39.74)</code><br /><code>;; WHEN: Wed Aug 20 23:10:11 2014</code><br /><code>;; MSG SIZE rcvd: 102</code><br /><br /><code>[root@oracle651 named]# </code></font></div><p><font size="3">Here are the results of the DNS server tests, dig by master DNS IP address, as shown below.</font><br /></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 named]# dig -x 10.207.39.74</code><br /><br /><code>; &lt;&lt;&gt;&gt; DiG 9.8.2rc1-RedHat-9.8.2-0.23.rc1.el6_5.1 &lt;&lt;&gt;&gt; -x 10.207.39.74</code><br /><code>;; global options: +cmd</code><br /><code>;; Got answer:</code><br /><code>;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 52536</code><br /><code>;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 2, ADDITIONAL: 2</code><br /><br /><code>;; QUESTION SECTION:</code><br /><code>;74.39.207.10.in-addr.arpa. IN PTR</code><br /><br /><code>;; ANSWER SECTION:</code><br /><code>74.39.207.10.in-addr.arpa. 86400 IN PTR oracle651.vmem.org.</code><br /><br /><code>;; AUTHORITY SECTION:</code><br /><code>39.207.10.in-addr.arpa. 86400 IN NS vmem1.vmem.org.</code><br /><code>39.207.10.in-addr.arpa. 86400 IN NS oracle651.vmem.org.</code><br /><br /><code>;; ADDITIONAL SECTION:</code><br /><code>oracle651.vmem.org. 86400 IN A 10.207.39.74</code><br /><code>vmem1.vmem.org.  86400 IN A 10.207.39.1</code><br /><br /><code>;; Query time: 1 msec</code><br /><code>;; SERVER: 10.207.39.74#53(10.207.39.74)</code><br /><code>;; WHEN: Wed Aug 20 23:13:27 2014</code><br /><code>;; MSG SIZE rcvd: 141</code><br /><br /><code>[root@oracle651 named]# </code></font></div><h4><a name="TOC-Master-DNS-Server-nslookup"></a>Master DNS Server nslookup</h4><p><font size="3">Do an nslookup of the master DNS server as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 named]# nslookup oracle651.vmem.org</code><br /><code>Server:  10.207.39.74</code><br /><code>Address: 10.207.39.74#53</code><br /><br /><code>Name: oracle651.vmem.org</code><br /><code>Address: 10.207.39.74</code><br /><br /><code>[root@oracle651 named]# </code></font></div><h3><a name="TOC-KVM-Host-Slave-DNS-Installation"></a>KVM Host Slave DNS Installation</h3><p><font size="3">Install the required packages on the Ubuntu 14.04 KVM host using apt-get as shown below. Note that "haveged" package is an entropy generator which is not absolutely necessary but which is good to have and helps speed things up when certificates are being generated.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>gstanden@vmem1:~$ sudo apt-get install bind9 bind9utils bind9-doc haveged</code></font></font></div><h3><a name="TOC-Configure-Slave-DNS-Server"></a>Configure Slave DNS Server</h3><p><font size="3">The configuration on Ubuntu differs from the configuration of bind9 on RHEL 6 / CentOs 6 / OEL 6. The files are in different directory locations, and named.conf is not edited directly. Instead, the named.conf.options file is edited, as shown below. Key sections to be set are in bold. Some revisions to the original /etc/bind/named.conf.options file where made 2014-08-25 which are explained in the comments to this blog post where I make a comment to my own blog.</font></p><p><font size="3">Note that more work is needed to make this nameserver comply with security best practices. This configuration file addresses all lookup and connectivity needs, but has not yet been tweaked for security best practice compliance.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ cd /etc/bind</code><br /><br /><code>gstanden@vmem1:/etc/bind$ ls -lrt named.conf.options</code><br /><br /><code>-rw-r--r-- 1 root bind 964 Aug 20 16:09 named.conf.options</code><br /><br /><code>gstanden@vmem1:/etc/bind$ cat named.conf.options</code><br /><br /><code>options {</code><br /><code> <span> </span>directory "/var/cache/bind";</code><br /><br /><code>    // If there is a firewall between you and nameservers you want</code><br /><code>    // to talk to, you may need to fix the firewall to allow multiple</code><br /><code>    // ports to talk.  See http://www.kb.cert.org/vuls/id/800113</code><br /><br /><code>    // If your ISP provided one or more IP addresses for stable </code><br /><code>    // nameservers, you probably want to use them as forwarders.  </code><br /><code>    // Uncomment the following block, and insert the addresses replacing </code><br /><code>    // the all-0's placeholder.</code><br /><code>    // GLS 20140825 forwarders uncommented and set to 127.0.1.1 (NM-controlled dnsmasq-base DNS) for lookups on NM-controlled VPN.</code><br /><code>    // GLS 20140825 Company VPN connectivity was broken unless forwarders was set to 127.0.1.1 (NM-controlled dnsmasq-base DNS).</code><br /><code> <b><span> </span>forwarders {</b></code><b><br /><code> <span> </span><span> </span>127.0.1.1;</code><br /><code> <span> </span>};</code></b><br /><code>    //========================================================================</code><br /><code>    // If BIND logs error messages about the root key being expired,</code><br /><code>    // you will need to update your keys.  See https://www.isc.org/bind-keys</code><br /><code>    //========================================================================</code><br /><code> <span> </span>dnssec-validation auto;</code><br /><code> <b><span> </span>recursion yes;</b></code><br /><code> <span><b> </b></span><b>allow-transfer { none; };</b></code><br /><code> <b><span> </span>allow-notify { 10.207.39.74; };</b></code><br /><code> <span> </span>auth-nxdomain no;    # conform to RFC1035</code><br /><code> <b><span> </span>listen-on-v6 { any; };</b></code><br /><code><span> </span>};</code><br /><br /><code>gstanden@vmem1:/etc/bind$ </code></font></div><p><font size="3">The /etc</font>/<font size="3">bind/named.conf file is shown below for reference only. This file is not edited directly. It is left at the defaults.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:/etc/bind$ cat named.conf</code><br /><code>// This is the primary configuration file for the BIND DNS server named.</code><br /><code>//</code><br /><code>// Please read /usr/share/doc/bind9/README.Debian.gz for information on the </code><br /><code>// structure of BIND configuration files in Debian, *BEFORE* you customize </code><br /><code>// this configuration file.</code><br /><code>//</code><br /><b><code>// If you are just adding zones, please do that in /etc/bind/named.conf.local</code></b><br /><br /><code>include "/etc/bind/named.conf.options";</code><br /><code>include "/etc/bind/named.conf.local";</code><br /><code>include "/etc/bind/named.conf.default-zones";</code><br /><code>gstanden@vmem1:/etc/bind$ </code></font></div><br /></div><div><font size="3">The /etc/bind/named.conf.local file is edited to include the zone files as shown below, relevant added sections shown in bold.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:/etc/bind$ cat named.conf.local</code><br /><code>//</code><br /><code>// Do any local configuration here</code><br /><code>//</code><br /><br /><code>// Consider adding the 1918 zones here, if they are not used in your</code><br /><code>// organization</code><br /><code>//include "/etc/bind/zones.rfc1918";</code><br /><br /><b><code>zone "vmem.org" {</code><br /><code> type slave;</code><br /><code> masters { 10.207.39.74; };</code><br /><code> file "fwd.vmem.org";</code><br /><code>};</code><br /><br /><code>zone "39.207.10.in-addr.arpa" {</code><br /><code> type slave;</code><br /><code> masters { 10.207.39.74; };</code><br /><code> file "rev.vmem.org";</code><br /><code>};</code><br /></b><br /><code>gstanden@vmem1:/etc/bind$ </code></font></div></font><h3><a name="TOC-Verify-File-etc-hosts-"></a>Verify File /etc/hosts</h3><p><font size="3">The /etc/hosts file should look similar to that shown below. This is the standard auto-generated /etc/hosts file which is the format it will have after a fresh installation of Ubuntu Destkop 14.04 as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>gstanden@vmem1:/etc/bind$ cat /etc/hosts</code><br /><br /><code>127.0.0.1 localhost</code><br /><b><code>127.0.1.1 vmem1</code></b><br /><br /><code># The following lines are desirable for IPv6 capable hosts</code><br /><code>::1 ip6-localhost ip6-loopback</code><br /><code>fe00::0 ip6-localnet</code><br /><code>ff00::0 ip6-mcastprefix</code><br /><code>ff02::1 ip6-allnodes</code><br /><code>ff02::2 ip6-allrouters</code><br /><br /><code>gstanden@vmem1:/etc/bind$ </code></font></font></div><h3><a name="TOC-Edit-File-etc-nsswitch.conf-"></a>Edit File /etc/nsswitch.conf</h3><p><font size="3">The /etc/nsswitch.conf file should be edited on the hosts line to use DNS as the first lookup method, and files and other methods as secondary methods, as shown below, line to be edited in bold. Notice that on the "hosts" line that "dns" is the first entry. This is correct. The default is for "files" to be the first entry. This DNS method is using DNS and not /etc/hosts so "dns" is listed as the first method, as shown below.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>gstanden@vmem1:/etc/bind$ cat /etc/nsswitch.conf</code><br /><code># /etc/nsswitch.conf</code><br /><code>#</code><br /><code># Example configuration of GNU Name Service Switch functionality.</code><br /><code># If you have the `glibc-doc-reference' and `info' packages installed, try:</code><br /><code># `info libc "Name Service Switch"' for information about this file.</code><br /><br /><code>passwd: compat</code><br /><code>group: compat</code><br /><code>shadow: compat</code><br /><br /><b><code>hosts: dns files mdns4_minimal [NOTFOUND=return]</code></b><br /><code>networks: files</code><br /><br /><code>protocols: db files</code><br /><code>services: db files</code><br /><code>ethers: db files</code><br /><code>rpc: db files</code><br /><br /><code>netgroup: nis</code><br /><br /><code>gstanden@vmem1:/etc/bind$ </code></font></font></div><h3><a name="TOC-Verify-File-etc-NetworkManager-NetworkManager.conf"></a>Verify File /etc/NetworkManager/NetworkManager.conf</h3><p><font size="3">Verify that the file /etc/NetworkManager/NetworkManager.conf uses "dnsmasq" as the dns option. This is the default setting for Network Manager. This default setting will be kept unchanged. Here it is necessary only to verify it is stil set to the default, as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>gstanden@vmem1:/etc/bind$ cat /etc/NetworkManager/NetworkManager.conf </code><br /><br /><code>[main]</code><br /><code>plugins=ifupdown,keyfile,ofono</code><br /><b><code>dns=dnsmasq</code><br /></b><br /><code>[ifupdown]</code><br /><code>managed=false</code><br /><br /><code>gstanden@vmem1:/etc/bind$ </code></font></font></div><h3><a name="TOC-Edit-File-etc-network-interfaces"></a>Edit File /etc/network/interfaces</h3><p><font size="3">Editing of this file will in turn set necessary attributes of the /etc/resolv.conf file. The required entries are shown below. The configuration of this file shown below is for DHCP addressing of the KVM host, and the "dns-domain" line will add "search vmem.org" to the /etc/resolv.conf file (as shown in the next step). The changes will take effect when the KVM host is rebooted or networking is restarted. If a static IP is desired for the KVM host, additional configuration will be necessary in this file. See additional references for static IP addressing on Ubuntu 14.04 on the web in that case.</font></p><p><font size="3">UPDATE: 2014-08-25 "dns-nameserver 127.0.0.1" was added to /etc/network/interfaces to handle the case of the KVM host (Lenovo W520 laptop) starting up with NO internet-connected interface available (eth0, wlan0, bnep0) all disconnected. It was found that under that circumstance /etc/resolv.conf would get set to "nameserver 127.0.1.1" which is the NM-controlled dnsmasq-base DNS server. This caused lookups of KVM guests on my private network to break. By setting "dns-nameserver 127.0.0.1" explicitly, resolution was always available for my private network. </font><br /></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ cat /etc/network/interfaces<br /><br /># interfaces(5) file used by ifup(8) and ifdown(8)<br />auto lo<br />iface lo inet loopback<br /><b> dns-domain vmem.org<br /> dns-nameserver 127.0.0.1</b><br /><br />gstanden@vmem1:~$ <br /><br /></code></font></div><p><font size="3">That this resolution succeeds is understood clearly from the output of netstat and also from this post <a href="https://www.stgraber.org/2012/02/24/dns-in-ubuntu-12-04/" target="_blank" rel="nofollow">here at Stephane Graber's blog</a> which explains that 127.0.0.1 always resolves to dnsmasq. However, it appears that is true except when there is a bind9 DNS running, in which case the "named" service of bind9 runs on 127.0.0.1, as shown below from the netstat output. Therefore, this configuration ensures that lookups for the private network will not fail, and also that internet lookups will be forwarded to 127.0.1.1 (dnsmasq) because in the /etc/bind/named.conf.options recursion is set to yes so it finds dnsmasq and uses it for external resolutions, but preferentially hits named at 127.0.0.1 first to get the resolution for the private network. The output below helps to show the results from some different configurations that might be possible.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><span style="font-family:courier new,monospace"><font size="4"><code>### Settings of selected files for Configuration Tests ###</code><br /><br /><code>gstanden@vmem1:~$ cat /etc/resolv.conf</code><br /><br /><code># Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)</code><br /><code># DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN</code><br /><b><code>search vmem.org</code></b><br /><br /><code>gstanden@vmem1:~$ cat /etc/network/interfaces</code><br /><br /><code># interfaces(5) file used by ifup(8) and ifdown(8)</code><br /><code>auto lo</code><br /><code>iface lo inet loopback</code><br /><code><span> <b></b></span><b>dns-domain vmem.org</b></code><br /><br /><code>### Configuration 1 Test ###</code><br /><br /><code>gstanden@vmem1:~$ cat /etc/bind/named.conf.options | egrep 'recursion|listen-on'</code><br /><br /><b><code>recursion no;</code><br /><code>listen-on-v6 { no; };</code><br /></b><br /><code>gstanden@vmem1:~$ nslookup oracle631</code><br /><br /><code>;; Got recursion not available from 127.0.0.1, trying next server</code><br /><code>;; connection timed out; no servers could be reached</code><br /><br /><code>gstanden@vmem1:~$ sudo netstat -ulnp | grep :53</code><br /><br /><code>udp 0 0 0.0.0.0:5353 0.0.0.0:* 787/avahi-daemon<br />udp 0 0 192.168.122.1:53 0.0.0.0:* 4452/named <br />udp 0 0 10.207.41.1:53 0.0.0.0:* 4452/named <br />udp 0 0 10.207.40.1:53 0.0.0.0:* 4452/named <br />udp 0 0 10.207.39.1:53 0.0.0.0:* 4452/named <br />udp 0 0 127.0.0.1:53 0.0.0.0:* 4452/named <br />udp 0 0 127.0.1.1:53 0.0.0.0:* 3039/dnsmasq <br />udp 0 0 192.168.122.1:53 0.0.0.0:* 2995/dnsmasq <br />udp6 0 0 :::5353 :::* </code><br /><br /><code>### End Configuration 1 Test ###</code><br /><br /><code>### Configuration 2 Test ###</code><br /><br /><code>gstanden@vmem1:~$ sudo vi /etc/bind/named.conf.options</code><br /><br /><code>gstanden@vmem1:~$ cat /etc/bind/named.conf.options | egrep 'recursion|listen-on'</code><br /><br /><code>recursion no;</code><br /><b><code>listen-on-v6 { any; };</code></b><br /><br /><code>gstanden@vmem1:~$ sudo service bind9 restart</code><br /><span style="font-family:courier new,monospace"><code>* Stopping domain name service... bind9 waiting for pid 4452 to die<span> </span><span> </span>[ OK ]</code><br /><code>* Starting domain name service...bind9<span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span> [ OK ]</code></span><br /><br /><code>gstanden@vmem1:~$ sudo netstat -ulnp | grep :53</code><br /><br /><code>udp 0 0 0.0.0.0:5353 0.0.0.0:* 787/avahi-daemon<br />udp 0 0 192.168.122.1:53 0.0.0.0:* 4768/named <br />udp 0 0 10.207.41.1:53 0.0.0.0:* 4768/named <br />udp 0 0 10.207.40.1:53 0.0.0.0:* 4768/named <br />udp 0 0 10.207.39.1:53 0.0.0.0:* 4768/named <br />udp 0 0 127.0.0.1:53 0.0.0.0:* 4768/named <br />udp 0 0 127.0.1.1:53 0.0.0.0:* 3039/dnsmasq <br />udp 0 0 192.168.122.1:53 0.0.0.0:* 2995/dnsmasq <br />udp6 0 0 :::5353 :::* 787/avahi-daemon <br /><b>udp6 0 0 :::53 :::* 4768/named &lt;-- "listen-on-v6 { any; };</b> </code><br /><br /><code>gstanden@vmem1:~$ nslookup oracle631</code><br /><br /><code>;; Got recursion not available from 127.0.0.1, trying next server</code><br /><code>Server: ::1</code><br /><b><code>Address: ::1#53 &lt;-- because of "listen-on-v6 {any; }" in /etc/bind/named.conf.options file;</code></b><br /><br /><code>Name: oracle631.vmem.org</code><br /><b><code>Address: 10.207.39.72 &lt;--lookup succeeds</code></b><br /><br /><code>### End Configuration 2 Test ###</code><br /><br /><code>### Configuration 3 Test ###</code><br /><br /><code>gstanden@vmem1:~$ sudo vi /etc/bind/named.conf.options</code><br /><br /><code>gstanden@vmem1:~$ cat /etc/bind/named.conf.options | egrep 'recursion|listen-on'</code><br /><br /><b><code>recursion yes;</code></b><br /><code>listen-on-v6 { any; };</code><br /><br /><code>gstanden@vmem1:~$ sudo service bind9 restart</code><br /><code>* Stopping domain name service... bind9 waiting for pid 4694 to die</code><code><span> <span> </span></span>[ OK ]</code><br /><code>* Starting domain name service... bind9<span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> </span><span> <span> </span></span></code><code>[ OK ]</code><br /><br /><code>gstanden@vmem1:~$ nslookup oracle631 <b>&lt;-- Clean error-free lookup achieved.</b></code><br /><code>Server: 127.0.0.1</code><br /><code>Address: 127.0.0.1#53</code><br /><br /><code>Name: oracle631.vmem.org</code><br /><code>Address: 10.207.39.72</code><br /><br /><code>gstanden@vmem1:~$ </code></font></span></div><br /></div><div><font size="3">Based on this testing, the configuration of "recursion yes" and "listen-on-v6 { any; };" is used.</font><br /></div><div><h3><a name="TOC-Verify-File-etc-resolv.conf"></a>Verify File /etc/resolv.conf</h3><p><font size="3">Verify that the /etc/resolv.conf file is configured as shown below. Note that this file is auto-generated by Network Manager, and will change automatically, for example when logging on to a VPN etc. But in the default case, this file should have only the nameserver shown, namely 127.0.0.1, and should show, in this case, the vmem.org domain. The file also needs to show the "search vmem.org" line as well. As mentioned, both of these are set in the /etc/network/interfaces file.</font> <br /></p></div><div><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:/etc/bind$ cat /etc/resolv.conf</code><br /><code># Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)</code><br /><b><code># DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN</code></b><br /><code>nameserver 127.0.0.1</code><br /><code>search vmem.org</code><br /><code>gstanden@vmem1:/etc/bind$ </code></font></div><h3><a name="TOC-Start-bind9-Service"></a>Start bind9 Service</h3><p><font size="3">Start the bind9 service as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:/etc/bind$ sudo service bind9 start<br /><br />* Starting domain name service... bind9 <br /> [ OK ] <br />gstanden@vmem1:/etc/bind$ <br /><br /></code></font></div><h3><a name="TOC-Verify-Zone-File-Transfer-to-Slave-DNS"></a>Verify Zone File Transfer to Slave DNS</h3><p><font size="3">Upon start of the slave DNS server, the zone files should have been transferred to the slave DNS server automatically, as shown below. These files are binary files so it is not possible to "cat" them or otherwise look at them. The best way forward is to proceed to testing the lookups and DNS server.<br /></font></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:/etc/bind$ cd /var/cache/bind</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ ls -lrt</code><br /><br /><code>total 12</code><br /><code>-rw-r--r-- 1 bind bind 720 Aug 20 10:21 managed-keys.bind</code><br /><code>-rw-r--r-- 1 bind bind 555 Aug 20 23:14 rev.vmem.org</code><br /><code>-rw-r--r-- 1 bind bind 413 Aug 20 23:55 fwd.vmem.org</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ </code></font></div></div><div><h3><a name="TOC-Test-Slave-DNS-Server"></a>Test Slave DNS Server</h3><h4><a name="TOC-Check-DNS-Configuration-Files"></a>Check DNS Configuration Files</h4><p><font size="3">Check the DNS configuration files as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="3"><font size="4"><code>gstanden@vmem1:~$ named-checkconf /etc/bind/named.conf</code><br /><code>gstanden@vmem1:~$ </code><br /><code>gstanden@vmem1:~$ named-checkconf /etc/bind/zones.rfc1918 </code><br /><code>gstanden@vmem1:~$ </code></font></font></div><h4><a name="TOC-Check-DNS-Zone-Files"></a>Check DNS Zone Files</h4><p><font size="3">As mentioned above, the zone files on the Ubuntu slave DNS server are in binary format and cannot be checked directly using methods such as "cat". They are located as shown below. Modification times can be checked.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:/etc/bind$ cd /var/cache/bind</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ ls -lrt</code><br /><br /><code>total 12</code><br /><code>-rw-r--r-- 1 bind bind 720 Aug 20 10:21 managed-keys.bind</code><br /><code>-rw-r--r-- 1 bind bind 555 Aug 20 23:14 rev.vmem.org</code><br /><code>-rw-r--r-- 1 bind bind 413 Aug 20 23:55 fwd.vmem.org</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ </code></font></div><h4><a name="TOC-Test-DNS-Servers1"></a><font size="3">Test DNS Servers<br /></font></h4><p><font size="3">Run dig test on the slave DNS FQDN from slave DNS server as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ dig vmem1.vmem.org<br /><br />; &lt;&lt;&gt;&gt; DiG 9.9.5-3-Ubuntu &lt;&lt;&gt;&gt; vmem1.vmem.org<br />;; global options: +cmd<br />;; Got answer:<br />;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 44494<br />;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 2, ADDITIONAL: 2<br /><br />;; OPT PSEUDOSECTION:<br />; EDNS: version: 0, flags:; udp: 4096<br />;; QUESTION SECTION:<br />;vmem1.vmem.org.   IN A<br /><br />;; ANSWER SECTION:<br />vmem1.vmem.org.  86400 IN A 10.207.39.1<br /><br />;; AUTHORITY SECTION:<br />vmem.org.  86400 IN NS oracle651.vmem.org.<br />vmem.org.  86400 IN NS vmem1.vmem.org.<br /><br />;; ADDITIONAL SECTION:<br />oracle651.vmem.org. 86400 IN A 10.207.39.74<br /><br />;; Query time: 2 msec<br />;; SERVER: 127.0.1.1#53(127.0.1.1)<br />;; WHEN: Fri Aug 22 08:13:18 CDT 2014<br />;; MSG SIZE rcvd: 113<br /><br />gstanden@vmem1:~$ </code><br /></font></div><p><font size="3">Run dig test on the master DNS FQDN from slave DNS server as shown below.</font></p><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ dig oracle651.vmem.org<br /><br />; &lt;&lt;&gt;&gt; DiG 9.9.5-3-Ubuntu &lt;&lt;&gt;&gt; oracle651.vmem.org<br />;; global options: +cmd<br />;; Got answer:<br />;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 55870<br />;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 2, ADDITIONAL: 2<br /><br />;; OPT PSEUDOSECTION:<br />; EDNS: version: 0, flags:; udp: 4096<br />;; QUESTION SECTION:<br />;oracle651.vmem.org.  IN A<br /><br />;; ANSWER SECTION:<br />oracle651.vmem.org. 86400 IN A 10.207.39.74<br /><br />;; AUTHORITY SECTION:<br />vmem.org.  86400 IN NS oracle651.vmem.org.<br />vmem.org.  86400 IN NS vmem1.vmem.org.<br /><br />;; ADDITIONAL SECTION:<br />vmem1.vmem.org.  86400 IN A 10.207.39.1<br /><br />;; Query time: 1 msec<br />;; SERVER: 127.0.1.1#53(127.0.1.1)<br />;; WHEN: Fri Aug 22 08:13:57 CDT 2014<br />;; MSG SIZE rcvd: 113<br /><br />gstanden@vmem1:~$</code></font></div><br /></div><div><font size="3">Run dig test on master DNS IP address from slave DNS server as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ dig -x 10.207.39.74<br /><br />; &lt;&lt;&gt;&gt; DiG 9.9.5-3-Ubuntu &lt;&lt;&gt;&gt; -x 10.207.39.74<br />;; global options: +cmd<br />;; Got answer:<br />;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 23435<br />;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 2, ADDITIONAL: 3<br /><br />;; OPT PSEUDOSECTION:<br />; EDNS: version: 0, flags:; udp: 4096<br />;; QUESTION SECTION:<br />;74.39.207.10.in-addr.arpa. IN PTR<br /><br />;; ANSWER SECTION:<br />74.39.207.10.in-addr.arpa. 86400 IN PTR oracle651.vmem.org.<br /><br />;; AUTHORITY SECTION:<br />39.207.10.in-addr.arpa. 86400 IN NS vmem1.vmem.org.<br />39.207.10.in-addr.arpa. 86400 IN NS oracle651.vmem.org.<br /><br />;; ADDITIONAL SECTION:<br />vmem1.vmem.org.  86400 IN A 10.207.39.1<br />oracle651.vmem.org. 86400 IN A 10.207.39.74<br /><br />;; Query time: 1 msec<br />;; SERVER: 127.0.1.1#53(127.0.1.1)<br />;; WHEN: Fri Aug 22 08:21:35 CDT 2014<br />;; MSG SIZE rcvd: 152<br /><br />gstanden@vmem1:~$</code></font></div><br /></font></div><div><font size="3">Run dig test on slave DNS IP address from slave DNS server as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ dig -x 10.207.39.1</code><br /><br /><code>; &lt;&lt;&gt;&gt; DiG 9.9.5-3-Ubuntu &lt;&lt;&gt;&gt; -x 10.207.39.1</code><br /><code>;; global options: +cmd</code><br /><code>;; Got answer:</code><br /><code>;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 41789</code><br /><code>;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 2, ADDITIONAL: 3</code><br /><br /><code>;; OPT PSEUDOSECTION:</code><br /><code>; EDNS: version: 0, flags:; udp: 4096</code><br /><code>;; QUESTION SECTION:</code><br /><code>;1.39.207.10.in-addr.arpa. IN PTR</code><br /><br /><code>;; ANSWER SECTION:</code><br /><code>1.39.207.10.in-addr.arpa. 86400 IN PTR vmem1.vmem.org.a.39.207.10.in-addr.arpa.</code><br /><br /><code>;; AUTHORITY SECTION:</code><br /><code>39.207.10.in-addr.arpa. 86400 IN NS vmem1.vmem.org.</code><br /><code>39.207.10.in-addr.arpa. 86400 IN NS oracle651.vmem.org.</code><br /><br /><code>;; ADDITIONAL SECTION:</code><br /><code>vmem1.vmem.org.  86400 IN A 10.207.39.1</code><br /><code>oracle651.vmem.org. 86400 IN A 10.207.39.74</code><br /><br /><code>;; Query time: 2 msec</code><br /><code>;; SERVER: 127.0.1.1#53(127.0.1.1)</code><br /><code>;; WHEN: Fri Aug 22 08:22:10 CDT 2014</code><br /><code>;; MSG SIZE rcvd: 168</code><br /><br /><code>gstanden@vmem1:~$</code></font></div></font></div><div><font size="3"><br /></font><h4><a name="TOC-Slave-DNS-Server-Lookup"></a>Slave DNS Server Lookup<br /></h4><font size="3">Perform an nslookup of the servers in both forward and reverse ah shown below, testing both short name and FQDN as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:/var/cache/bind$ nslookup oracle651</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><code>Non-authoritative answer:</code><br /><code>Name: oracle651.vmem.org</code><br /><code>Address: 46.30.212.99</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ nslookup oracle631</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><code>Name: oracle631.vmem.org</code><br /><code>Address: 10.207.39.72</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ nslookup oracle632</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><code>Name: oracle632.vmem.org</code><br /><code>Address: 10.207.39.76</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ nslookup oracle651</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><code>Name: oracle651.vmem.org</code><br /><code>Address: 10.207.39.74</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ nslookup 10.207.39.72</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><code>72.39.207.10.in-addr.arpa name = oracle631.vmem.org.</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ nslookup 10.207.39.74</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><code>74.39.207.10.in-addr.arpa name = oracle651.vmem.org.</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ nslookup 10.207.39.76</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><code>76.39.207.10.in-addr.arpa name = oracle632.vmem.org.</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ nslookup 10.207.39.90</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><code>90.39.207.10.in-addr.arpa name = oracle635.vmem.org.</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ nslookup oracle635</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><code>Name: oracle635.vmem.org</code><br /><code>Address: 10.207.39.90</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ nslookup oracle635.vmem.org</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><code>Name: oracle635.vmem.org</code><br /><code>Address: 10.207.39.90</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ </code><br /></font></div><br /></font></div><div><font size="3">Shutdown the KVM guest oracle651 master DNS server and retry the DNS lookups above to be sure that lookups are using the slave DNS as shown below. The virsh command shows that oracle651 (oracle651.vmem.org) is down so it cannot possibly be returning DNS lookups.<br /></font></div><div><font size="3"><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:/var/cache/bind$ virsh -c qemu:///system list</code><br /><code>Id Name State</code><br /><code>----------------------------------------------------</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ nslookup oracle631</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><code>Name: oracle631.vmem.org</code><br /><code>Address: 10.207.39.72</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ nslookup oracle632</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><code>Name: oracle632.vmem.org</code><br /><code>Address: 10.207.39.76</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ nslookup oracle635</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><code>Name: oracle635.vmem.org</code><br /><code>Address: 10.207.39.90</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ nslookup oracle651</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><code>Name: oracle651.vmem.org</code><br /><code>Address: 10.207.39.74</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ nslookup oracle631.vmem.org</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><code>Name: oracle631.vmem.org</code><br /><code>Address: 10.207.39.72</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ nslookup 10.207.39.72</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><code>72.39.207.10.in-addr.arpa name = oracle631.vmem.org.</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ nslookup 10.207.39.74</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><code>74.39.207.10.in-addr.arpa name = oracle651.vmem.org.</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ nslookup 10.207.39.76</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><code>76.39.207.10.in-addr.arpa name = oracle632.vmem.org.</code><br /><br /><code>gstanden@vmem1:/var/cache/bind$ </code></font></div></font></div><div><h3><a name="TOC-Test-Zone-File-Propagation"></a>Test Zone File Propagation<br /></h3><font size="3">Start oracle651 primary nameserver back up and make an edit to the forward and reverse lookup files, increment the "Serial" and restart bind9 on the master DNS after making these changes to the zone files on the master DNS and verify on the slave DNS that lookup files were also updated (updating the Serial should initiate and immediate push to the slave DNS of the changes) as shown below.</font><br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 named]# pwd<br />/var/named<br />[root@oracle651 named]# <br /><br />[root@oracle651 named]# ls -lrt *.vmem.org</code><br /><br /><code>-rw-r--r-- 1 root root 657 Aug 21 00:08 fwd.vmem.org</code><br /><code>-rw-r--r-- 1 root root 862 Aug 21 00:09 rev.vmem.org</code><br /><br /><code>[root@oracle651 named]# vi fwd.vmem.org</code><br /><br /><code>[root@oracle651 named]# cat fwd.vmem.org</code><br /><br /><code>$TTL 86400</code><br /><code>$ORIGIN vmem.org.</code><br /><code>@  IN SOA oracle651.vmem.org. postmaster.vmem.org. (</code><br /><code> 201408210008 ;Serial</code><br /><code> 60 ;Refresh</code><br /><code>    1800 ;Retry</code><br /><code> 604800 ;Expire</code><br /><code> 86400 ;Minimum TTL</code><br /><code>)</code><br /><code>@    IN NS  oracle651    ; Master DNS Server</code><br /><code>@    IN NS  vmem1     ; Slave DNS Server</code><br /><code>oracle651 IN A  10.207.39.74  ; KVM guest SCST iSCSI Linux SAN</code><br /><code>oracle631 IN A  10.207.39.72  ; KVM guest Oracle Dataguard Primary (512e)</code><br /><code>oracle632 IN A  10.207.39.76  ; KVM guest Oracle Dataguard Standby (4K )</code><br /><code>oracle635 IN A  10.207.39.90  ; DNS master-slave propagation test IP</code><br /><code>vmem1  IN A  10.207.39.1  ; KVM host (Ubuntu 14.04 laptop)</code><br /><br /><code>[root@oracle651 named]# vi fwd.vmem.org</code><br /><br /><code>[root@oracle651 named]# cat fwd.vmem.org</code><br /><br /><code>$TTL 86400</code><br /><code>$ORIGIN vmem.org.</code><br /><code>@  IN SOA oracle651.vmem.org. postmaster.vmem.org. (</code><br /><code>   <b>201408220845 ;Serial</b></code><br /><code> 60  ;Refresh</code><br /><code> 1800   ;Retry</code><br /><code> 604800    ;Expire</code><br /><code> 86400   ;Minimum TTL</code><br /><code>)</code><br /><code>@    IN NS  oracle651    ; Master DNS Server</code><br /><code>@  IN NS  vmem1    ; Slave DNS Server</code><br /><code>oracle651 IN A  10.207.39.74  ; KVM guest SCST iSCSI Linux SAN</code><br /><code>oracle631 IN A  10.207.39.72  ; KVM guest Oracle Dataguard Primary (512e)</code><br /><code>oracle632 IN A  10.207.39.76  ; KVM guest Oracle Dataguard Standby (4K )</code><br /><b><code>oracle635 IN A  10.207.39.95  ; DNS master-slave propagation test IP</code></b><br /><code>vmem1  IN A  10.207.39.1  ; KVM host (Ubuntu 14.04 laptop)</code><br /><br /><code>[root@oracle651 named]# cat rev.vmem.org</code><br /><code>$TTL 86400</code><br /><code>@   IN SOA oracle651.vmem.org. postmaster.vmem.org. (</code><br /><code> 201408210008 ;Serial</code><br /><code> 3600 ;Refresh</code><br /><code>  1800 ;Retry</code><br /><code> 604800 ;Expire</code><br /><code> 86400 ;Minimum TTL</code><br /><code>)</code><br /><code>@   IN NS oracle651.vmem.org.</code><br /><code>@          IN NS vmem1.vmem.org.</code><br /><code>oracle651  A  10.207.39.74 ; Required A record for NS</code><br /><code>vmem1   A  10.207.39.1 ; Required A record for NS</code><br /><code>39.207.10.in-addr.arpa IN NS oracle651.vmem.org. ; Master DNS</code><br /><code>39.207.10.in-addr.arpa IN NS   vmem1.vmem.org. ; Slave DNS</code><br /><code>1         IN PTR  vmem1.vmem.org.a ; KVM host</code><br /><code>72   IN PTR oracle631.vmem.org. ; KVM guest Oracle Dataguard Primary</code><br /><code>74   IN PTR oracle651.vmem.org. ; KVM guest Oracle Dataguard Standby</code><br /><code>76   IN PTR oracle632.vmem.org. ; KVM guest iSCSI Linux SAN</code><br /><code>90   IN PTR oracle635.vmem.org. ; KVM master-slave DNS propagation test IP</code><br /><br /><code>[root@oracle651 named]# vi rev.vmem.org</code><br /><br /><code>[root@oracle651 named]# cat rev.vmem.org</code><br /><br /><code>$TTL 86400</code><br /><code>@   IN SOA  oracle651.vmem.org. postmaster.vmem.org. (</code><br /><code><b> 201408220845 ;Serial</b></code><br /><code> 3600 ;Refresh</code><br /><code> 1800 ;Retry</code><br /><code> 604800 ;Expire</code><br /><code> 86400 ;Minimum TTL</code><br /><code>)</code><br /><code>@   IN NS oracle651.vmem.org.</code><br /><code>@   IN NS vmem1.vmem.org.</code><br /><code>oracle651  A  10.207.39.74  ; Required A record for NS</code><br /><code>vmem1   A  10.207.39.1 ; Required A record for NS</code><br /><code>39.207.10.in-addr.arpa IN NS oracle651.vmem.org. ; Master DNS</code><br /><code>39.207.10.in-addr.arpa IN NS vmem1.vmem.org. ; Slave DNS</code><br /><code>1         IN PTR vmem1.vmem.org.a ; KVM host</code><br /><code>72   IN PTR oracle631.vmem.org. ; KVM guest Oracle Dataguard Primary</code><br /><code>74   IN PTR oracle651.vmem.org. ; KVM guest Oracle Dataguard Standby</code><br /><code>76   IN PTR oracle632.vmem.org. ; KVM guest iSCSI Linux SAN</code><br /><b><code>95   IN PTR oracle635.vmem.org. ; KVM master-slave DNS propagation test IP</code><br /></b><br /><code>[root@oracle651 named]#<br />[root@oracle651 named]# ls -lrt *.vmem.org<br /><br />-rw-r--r-- 1 root root 657 Aug 22 08:46 fwd.vmem.org<br />-rw-r--r-- 1 root root 862 Aug 22 08:47 rev.vmem.org<br /><br />[root@oracle651 named]# <br /><br /></code></font></div><br /></div><div><font size="3">Restart "named" DNS service on Master DNS server as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>[root@oracle651 named]# service named restart</code><br /><code>Stopping named: . [ OK ]</code><br /><code>Starting named: [ OK ]</code><br /><code>[root@oracle651 named]# </code></font></div><br />Check modification date of zone files on slave DNS server as shown below (before and after). Zone files have been updated automatically.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:/var/cache/bind$ ls -lrt</code><br /><code>total 12</code><br /><code>-rw-r--r-- 1 bind bind 720 Aug 21 11:53 managed-keys.bind</code><br /><code>-rw-r--r-- 1 bind bind 803 Aug 21 22:19 rev.vmem.org</code><br /><code>-rw-r--r-- 1 bind bind 413 Aug 21 22:36 fwd.vmem.org</code><br /><code>gstanden@vmem1:/var/cache/bind$ ls -lrt</code><br /><code>total 12</code><br /><code>-rw-r--r-- 1 bind bind 720 Aug 21 11:53 managed-keys.bind</code><br /><code>-rw-r--r-- 1 bind bind 803 <b>Aug 22 09:02</b> rev.vmem.org</code><br /><code>-rw-r--r-- 1 bind bind 413<b> Aug 22 09:02</b> fwd.vmem.org</code><br /><code>gstanden@vmem1:/var/cache/bind$ </code></font></div><br /></font></div><div><font size="3">Verify correct updated IP address is in use by slave and master DNS servers using nslookup with specification of which DNS server to use.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><br /><font size="4"><code>gstanden@vmem1:/var/cache/bind$ nslookup oracle635.vmem.org vmem1.vmem.org</code><br /><b><code>Server:  vmem1.vmem.org</code></b><br /><code>Address: 10.207.39.1#53</code><br /><br /><code>Name: oracle635.vmem.org</code><br /><b><code>Address: 10.207.39.95</code></b><br /><br /><code>gstanden@vmem1:/var/cache/bind$ nslookup oracle635.vmem.org oracle651.vmem.org</code><br /><b><code>Server:  oracle651.vmem.org</code></b><br /><code>Address: 10.207.39.74#53</code><br /><br /><code>Name: oracle635.vmem.org</code><br /><b><code>Address: 10.207.39.95</code></b><br /><br /><code>gstanden@vmem1:/var/cache/bind$ </code></font></div></font></div><div><h3><a name="TOC-Configure-Private-Network-on-NM-dnsmasq"></a>Configure Private Network on NM-dnsmasq<br /></h3><font size="3">It had been observed that sometimes, i.e. "intermittently and unpredictably", the DNS resolution on the KVM host Ubuntu 14.04.1 laptop would sometimes return a "non-authoritative" DNS lookup of the non-local "vmem.org" rather than my local "vmem.org" running on the laptop. This made the internet resolution on the laptop for my VMs occassionally unreliable because it was using dnsmasq internet resolution instead of the local Authoritative (bind9) DNS. <br /><br />Here are example of how the issue manifested itself as shown below.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ nslookup oracle651</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><b><code>Non-authoritative answer:</code></b><br /><code>Name: oracle651.vmem.org</code><br /><b><code>Address: 46.30.212.99</code></b><br /><br /><code>gstanden@vmem1:~$ nslookup oracle651</code><br /><code>Server:  127.0.1.1</code><br /><code>Address: 127.0.1.1#53</code><br /><br /><code>Name: oracle651.vmem.org</code><br /><b><code>Address: 10.207.39.74</code></b><br /><br /><code>gstanden@vmem1:~$ </code></font></div><br />It might be guessed that this is because there are two DNS servers running on the Ubuntu laptop, (1) NM-dnsmasq (dnsmasq-base) and (2) bind9, and that guess would seem to be correct, because if bind9 is stopped, the resolution of "oracle651" will ALWAYS be "46.30.212.99". Once bind9 is restarted, it will sometimes return "46.30.212.99" and sometimes return "10.207.39.74" (the second one is of course the desired "internal network" ip address). <br /><br /></font></div><div><font size="3">Using netstat it can be seen that both NM-dnsmasq and bind9 ("named") are both listening on port 53, so there is some sort of random effect at work where sometimes "named" satisfies the lookup request, and sometimes "dnsmasq". Sometimes the lookup was not using the desired DNS bind9 nameserver.<br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ sudo netstat -ulnp | grep :53</code><br /><code>[sudo] password for gstanden: </code><br /><code>udp 0 0 0.0.0.0:5353 0.0.0.0:* 769/avahi-daemon: r</code><br /><code>udp 0 0 192.168.122.1:53 0.0.0.0:* 1514/named </code><br /><code>udp 0 0 10.207.41.1:53 0.0.0.0:* 1514/named </code><br /><code>udp 0 0 10.207.40.1:53 0.0.0.0:* 1514/named </code><br /><code><b>udp 0 0 10.207.39.1:53 0.0.0.0:* 1514/named</b> &lt;--Want lookup to use this everytime !  </code><br /><code>udp 0 0 192.168.1.12:53 0.0.0.0:* 1514/named </code><br /><code>udp 0 0 127.0.1.1:53 0.0.0.0:* 3331/dnsmasq </code><br /><code>udp 0 0 192.168.122.1:53 0.0.0.0:* 2813/dnsmasq </code><br /><code>udp 0 0 127.0.0.1:53 0.0.0.0:* 1514/named </code><br /><code>udp6 0 0 :::5353 :::* 769/avahi-daemon: r</code><br /><code>udp6 0 0 :::53 :::* 1514/named </code><br /><code>gstanden@vmem1:~$ </code></font></div><br /></font></div><div><font size="3">It turns out this can be fixed by using a configuration setting on dnsmasq so that "named" (bind9) local authoritative DNS will ALWAYS return the nslookup request and indeed any type of similar lookup (dig, ssh, etc.) on "vmem.org" local KVM guests. The required fix needed was found in these posts thanks to<a href="https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/kvm-and-openvswitch/goog_651835113"> </a></font><font size="3"><a href="http://sokratisg.net/2012/03/31/ubuntu-precise-dnsmasq/" target="_blank" rel="nofollow">Sokratis Galiatsis at his Techie in IT blog here</a>, and also at the <a href="http://www.thekelleys.org.uk/dnsmasq/docs/setup.html" target="_blank" rel="nofollow">Dnsmasq setup page at thekelleys.org.uk page</a> in the "Using Special Servers" subsection. Below is the configuration file that was needed to fix this problem and force the lookup for "vmem.org" and "10.207.39.x" to always go to bind9 "named" listening on 10.207.39.1:53 as shown below and to NOT use NM-dnsmasq. The filed called "local" may not exist by default. If not create it and add the required private network lookup configuration to tell dnsmasq to defer this lookup to the authoritative local nameserver for the specific domain and network, in this case "vmem.org" and "10.207.39.x" as shown below. <br /><br /><div class="sites-codeblock sites-codesnippet-block"><font size="4"><code>gstanden@vmem1:~$ sudo ls -lrt /etc/NetworkManager/dnsmasq.d/local</code><br /><code>-rw-r--r-- 1 root root 72 Aug 21 23:51 /etc/NetworkManager/dnsmasq.d/local</code><br /><br /><code>gstanden@vmem1:~$ sudo cat /etc/NetworkManager/dnsmasq.d/local</code><br /><br /><b><code>server=/vmem.org/10.207.39.1</code><br /><code>server=/39.207.10.in-addr.arpa/10.207.39.1</code><br /></b><br /><code>gstanden@vmem1:~$ </code><br /></font></div><br /></font></div><div><font size="3">Restart NetworkManager or just reboot the laptop. Now the lookups will ALWAYS use bind9 and give the correct desired LOCAL bind9 lookup!<br /></font></div><div><font size="3"><br /><div><div class="site-code-embed-container" data-code="&lt;script&gt;&#xA;  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){&#xA;  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),&#xA;  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)&#xA;  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');&#xA;&#xA;  ga('create', 'UA-54224306-1', 'auto');&#xA;  ga('send', 'pageview');&#xA;&#xA;&lt;/script&gt;" data-scrollable="true" style="display:block;float:left;width:480px;height:320px;"></div></div><br /><br /></font></div><div><br /></div></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages"> </div>
<div id="sites-attachments-container">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-attachments">
<div class="sites-attachments-row"><div class="sites-attachments-icon" style="left:0px;"><span aria-label="Attachments" title="Attachments"><div class="sites-translucent sites-symbol" aria-hidden="true"></div></span></div><div id="sites-attachments-update-div" class="sites-attachments-inner-div" style="display:none;"><span class="sites-attachments-update-icon"><img src="https://ssl.gstatic.com/sites/p/c9c36f/system/app/images/spinner.gif" /></span><div class="sites-attachments-update-text">Updating...</div></div></div><div class="sites-attachments-separator"></div>
<div id="attachment-wuid:gx:22ca4928eecf083e"><div class="sites-attachments-row"><div class="sites-attachments-icon sites-attachments-icon-accessible" style="left:5px"><div class="sites-translucent sites-symbol" aria-label="File" title="File"></div></div><div class="sites-attachments-inner-div"><div class="sites-attachments-name"><a href="https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=b3JhYnVudHUtbHhjLmNvbXxicmFuZHlkYW5keW9yYWNsZXxneDoyMmNhNDkyOGVlY2YwODNl" target="_blank" rel="noopener noreferrer">NetworkManager.conf</a> <div class="sites-translucent">(0k)</div></div><div class="sites-attachments-author">Gilbert Standen, <div class="sites-translucent">Aug 25, 2014, 12:50 PM</div></div></div><div class="sites-attachments-version sites-attachments-version-accessible"><a href="../system/app/pages/admin/revisions%3Fwuid=wuid:gx:22ca4928eecf083e.html">v.1</a></div><div id="attachment-download-wuid:gx:22ca4928eecf083e" class="sites-attachments-icon sites-attachments-icon-accessible" style="right:0px"><a href="kvm-dns-ul-14-04/NetworkManager.conf%3Fattredirects=0&amp;d=1" aria-label="Download NetworkManager.conf" title="Download" role="button" target="_blank" rel="noopener noreferrer"><span class="sites-symbol" aria-hidden="true"></span></a></div></div><div class="sites-attachments-separator"></div></div>
<div id="attachment-wuid:gx:6092e948bb09d339"><div class="sites-attachments-row"><div class="sites-attachments-icon sites-attachments-icon-accessible" style="left:5px"><div class="sites-translucent sites-symbol" aria-label="File" title="File"></div></div><div class="sites-attachments-inner-div"><div class="sites-attachments-name"><a href="https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=b3JhYnVudHUtbHhjLmNvbXxicmFuZHlkYW5keW9yYWNsZXxneDo2MDkyZTk0OGJiMDlkMzM5" target="_blank" rel="noopener noreferrer">crt_ovs_sw1.sh</a> <div class="sites-translucent">(2k)</div></div><div class="sites-attachments-author">Gilbert Standen, <div class="sites-translucent">Aug 25, 2014, 12:38 PM</div></div></div><div class="sites-attachments-version sites-attachments-version-accessible"><a href="../system/app/pages/admin/revisions%3Fwuid=wuid:gx:6092e948bb09d339.html">v.1</a></div><div id="attachment-download-wuid:gx:6092e948bb09d339" class="sites-attachments-icon sites-attachments-icon-accessible" style="right:0px"><a href="kvm-dns-ul-14-04/crt_ovs_sw1.sh%3Fattredirects=0&amp;d=1" aria-label="Download crt_ovs_sw1.sh" title="Download" role="button" target="_blank" rel="noopener noreferrer"><span class="sites-symbol" aria-hidden="true"></span></a></div></div><div class="sites-attachments-separator"></div></div>
<div id="attachment-wuid:gx:14919a65ef2959a4"><div class="sites-attachments-row"><div class="sites-attachments-icon sites-attachments-icon-accessible" style="left:5px"><div class="sites-translucent sites-symbol" aria-label="File" title="File"></div></div><div class="sites-attachments-inner-div"><div class="sites-attachments-name"><a href="https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=b3JhYnVudHUtbHhjLmNvbXxicmFuZHlkYW5keW9yYWNsZXxneDoxNDkxOWE2NWVmMjk1OWE0" target="_blank" rel="noopener noreferrer">crt_ovs_sw2.sh</a> <div class="sites-translucent">(1k)</div></div><div class="sites-attachments-author">Gilbert Standen, <div class="sites-translucent">Aug 25, 2014, 12:38 PM</div></div></div><div class="sites-attachments-version sites-attachments-version-accessible"><a href="../system/app/pages/admin/revisions%3Fwuid=wuid:gx:14919a65ef2959a4.html">v.1</a></div><div id="attachment-download-wuid:gx:14919a65ef2959a4" class="sites-attachments-icon sites-attachments-icon-accessible" style="right:0px"><a href="kvm-dns-ul-14-04/crt_ovs_sw2.sh%3Fattredirects=0&amp;d=1" aria-label="Download crt_ovs_sw2.sh" title="Download" role="button" target="_blank" rel="noopener noreferrer"><span class="sites-symbol" aria-hidden="true"></span></a></div></div><div class="sites-attachments-separator"></div></div>
<div id="attachment-wuid:gx:2cb5bff00d45d94c"><div class="sites-attachments-row"><div class="sites-attachments-icon sites-attachments-icon-accessible" style="left:5px"><div class="sites-translucent sites-symbol" aria-label="File" title="File"></div></div><div class="sites-attachments-inner-div"><div class="sites-attachments-name"><a href="https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=b3JhYnVudHUtbHhjLmNvbXxicmFuZHlkYW5keW9yYWNsZXxneDoyY2I1YmZmMDBkNDVkOTRj" target="_blank" rel="noopener noreferrer">crt_ovs_sw3.sh</a> <div class="sites-translucent">(1k)</div></div><div class="sites-attachments-author">Gilbert Standen, <div class="sites-translucent">Aug 25, 2014, 12:38 PM</div></div></div><div class="sites-attachments-version sites-attachments-version-accessible"><a href="../system/app/pages/admin/revisions%3Fwuid=wuid:gx:2cb5bff00d45d94c.html">v.1</a></div><div id="attachment-download-wuid:gx:2cb5bff00d45d94c" class="sites-attachments-icon sites-attachments-icon-accessible" style="right:0px"><a href="kvm-dns-ul-14-04/crt_ovs_sw3.sh%3Fattredirects=0&amp;d=1" aria-label="Download crt_ovs_sw3.sh" title="Download" role="button" target="_blank" rel="noopener noreferrer"><span class="sites-symbol" aria-hidden="true"></span></a></div></div><div class="sites-attachments-separator"></div></div>
<div id="attachment-wuid:gx:48cb7afc527f060d"><div class="sites-attachments-row"><div class="sites-attachments-icon sites-attachments-icon-accessible" style="left:5px"><div class="sites-translucent sites-symbol" aria-label="File" title="File"></div></div><div class="sites-attachments-inner-div"><div class="sites-attachments-name">hosts <div class="sites-translucent">(0k)</div></div><div class="sites-attachments-author">Gilbert Standen, <div class="sites-translucent">Aug 25, 2014, 12:40 PM</div></div></div><div class="sites-attachments-version sites-attachments-version-accessible"><a href="../system/app/pages/admin/revisions%3Fwuid=wuid:gx:48cb7afc527f060d.html">v.1</a></div><div id="attachment-download-wuid:gx:48cb7afc527f060d" class="sites-attachments-icon sites-attachments-icon-accessible" style="right:0px"><a href="kvm-dns-ul-14-04/hosts%3Fattredirects=0&amp;d=1" aria-label="Download hosts" title="Download" role="button" target="_blank" rel="noopener noreferrer"><span class="sites-symbol" aria-hidden="true"></span></a></div></div><div class="sites-attachments-separator"></div></div>
<div id="attachment-wuid:gx:4229310f649e7774"><div class="sites-attachments-row"><div class="sites-attachments-icon sites-attachments-icon-accessible" style="left:5px"><div class="sites-translucent sites-symbol" aria-label="File" title="File"></div></div><div class="sites-attachments-inner-div"><div class="sites-attachments-name">interfaces <div class="sites-translucent">(0k)</div></div><div class="sites-attachments-author">Gilbert Standen, <div class="sites-translucent">Aug 25, 2014, 12:41 PM</div></div></div><div class="sites-attachments-version sites-attachments-version-accessible"><a href="../system/app/pages/admin/revisions%3Fwuid=wuid:gx:4229310f649e7774.html">v.1</a></div><div id="attachment-download-wuid:gx:4229310f649e7774" class="sites-attachments-icon sites-attachments-icon-accessible" style="right:0px"><a href="kvm-dns-ul-14-04/interfaces%3Fattredirects=0&amp;d=1" aria-label="Download interfaces" title="Download" role="button" target="_blank" rel="noopener noreferrer"><span class="sites-symbol" aria-hidden="true"></span></a></div></div><div class="sites-attachments-separator"></div></div>
<div id="attachment-wuid:gx:2ed92bfb5bdc5cdc"><div class="sites-attachments-row"><div class="sites-attachments-icon sites-attachments-icon-accessible" style="left:5px"><div class="sites-translucent sites-symbol" aria-label="File" title="File"></div></div><div class="sites-attachments-inner-div"><div class="sites-attachments-name"><a href="https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=b3JhYnVudHUtbHhjLmNvbXxicmFuZHlkYW5keW9yYWNsZXxneDoyZWQ5MmJmYjViZGM1Y2Rj" target="_blank" rel="noopener noreferrer">my-network-up.conf</a> <div class="sites-translucent">(1k)</div></div><div class="sites-attachments-author">Gilbert Standen, <div class="sites-translucent">Aug 25, 2014, 12:40 PM</div></div></div><div class="sites-attachments-version sites-attachments-version-accessible"><a href="../system/app/pages/admin/revisions%3Fwuid=wuid:gx:2ed92bfb5bdc5cdc.html">v.1</a></div><div id="attachment-download-wuid:gx:2ed92bfb5bdc5cdc" class="sites-attachments-icon sites-attachments-icon-accessible" style="right:0px"><a href="kvm-dns-ul-14-04/my-network-up.conf%3Fattredirects=0&amp;d=1" aria-label="Download my-network-up.conf" title="Download" role="button" target="_blank" rel="noopener noreferrer"><span class="sites-symbol" aria-hidden="true"></span></a></div></div><div class="sites-attachments-separator"></div></div>
<div id="attachment-wuid:gx:4dbd606afdaaf1a0"><div class="sites-attachments-row"><div class="sites-attachments-icon sites-attachments-icon-accessible" style="left:5px"><div class="sites-translucent sites-symbol" aria-label="File" title="File"></div></div><div class="sites-attachments-inner-div"><div class="sites-attachments-name"><a href="https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=b3JhYnVudHUtbHhjLmNvbXxicmFuZHlkYW5keW9yYWNsZXxneDo0ZGJkNjA2YWZkYWFmMWEw" target="_blank" rel="noopener noreferrer">named.conf</a> <div class="sites-translucent">(0k)</div></div><div class="sites-attachments-author">Gilbert Standen, <div class="sites-translucent">Aug 25, 2014, 12:39 PM</div></div></div><div class="sites-attachments-version sites-attachments-version-accessible"><a href="../system/app/pages/admin/revisions%3Fwuid=wuid:gx:4dbd606afdaaf1a0.html">v.1</a></div><div id="attachment-download-wuid:gx:4dbd606afdaaf1a0" class="sites-attachments-icon sites-attachments-icon-accessible" style="right:0px"><a href="kvm-dns-ul-14-04/named.conf%3Fattredirects=0&amp;d=1" aria-label="Download named.conf" title="Download" role="button" target="_blank" rel="noopener noreferrer"><span class="sites-symbol" aria-hidden="true"></span></a></div></div><div class="sites-attachments-separator"></div></div>
<div id="attachment-wuid:gx:1a4b675448e478c2"><div class="sites-attachments-row"><div class="sites-attachments-icon sites-attachments-icon-accessible" style="left:5px"><div class="sites-translucent sites-symbol" aria-label="File" title="File"></div></div><div class="sites-attachments-inner-div"><div class="sites-attachments-name">named.conf.local <div class="sites-translucent">(0k)</div></div><div class="sites-attachments-author">Gilbert Standen, <div class="sites-translucent">Aug 25, 2014, 12:39 PM</div></div></div><div class="sites-attachments-version sites-attachments-version-accessible"><a href="../system/app/pages/admin/revisions%3Fwuid=wuid:gx:1a4b675448e478c2.html">v.1</a></div><div id="attachment-download-wuid:gx:1a4b675448e478c2" class="sites-attachments-icon sites-attachments-icon-accessible" style="right:0px"><a href="kvm-dns-ul-14-04/named.conf.local%3Fattredirects=0&amp;d=1" aria-label="Download named.conf.local" title="Download" role="button" target="_blank" rel="noopener noreferrer"><span class="sites-symbol" aria-hidden="true"></span></a></div></div><div class="sites-attachments-separator"></div></div>
<div id="attachment-wuid:gx:7567f0dfd8d9c344"><div class="sites-attachments-row"><div class="sites-attachments-icon sites-attachments-icon-accessible" style="left:5px"><div class="sites-translucent sites-symbol" aria-label="File" title="File"></div></div><div class="sites-attachments-inner-div"><div class="sites-attachments-name">named.conf.options <div class="sites-translucent">(1k)</div></div><div class="sites-attachments-author">Gilbert Standen, <div class="sites-translucent">Aug 25, 2014, 12:39 PM</div></div></div><div class="sites-attachments-version sites-attachments-version-accessible"><a href="../system/app/pages/admin/revisions%3Fwuid=wuid:gx:7567f0dfd8d9c344.html">v.1</a></div><div id="attachment-download-wuid:gx:7567f0dfd8d9c344" class="sites-attachments-icon sites-attachments-icon-accessible" style="right:0px"><a href="kvm-dns-ul-14-04/named.conf.options%3Fattredirects=0&amp;d=1" aria-label="Download named.conf.options" title="Download" role="button" target="_blank" rel="noopener noreferrer"><span class="sites-symbol" aria-hidden="true"></span></a></div></div><div class="sites-attachments-separator"></div></div>
<div id="attachment-wuid:gx:382845684c0edc1e"><div class="sites-attachments-row"><div class="sites-attachments-icon sites-attachments-icon-accessible" style="left:5px"><div class="sites-translucent sites-symbol" aria-label="File" title="File"></div></div><div class="sites-attachments-inner-div"><div class="sites-attachments-name"><a href="https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=b3JhYnVudHUtbHhjLmNvbXxicmFuZHlkYW5keW9yYWNsZXxneDozODI4NDU2ODRjMGVkYzFl" target="_blank" rel="noopener noreferrer">nsswitch.conf</a> <div class="sites-translucent">(0k)</div></div><div class="sites-attachments-author">Gilbert Standen, <div class="sites-translucent">Aug 25, 2014, 12:50 PM</div></div></div><div class="sites-attachments-version sites-attachments-version-accessible"><a href="../system/app/pages/admin/revisions%3Fwuid=wuid:gx:382845684c0edc1e.html">v.1</a></div><div id="attachment-download-wuid:gx:382845684c0edc1e" class="sites-attachments-icon sites-attachments-icon-accessible" style="right:0px"><a href="kvm-dns-ul-14-04/nsswitch.conf%3Fattredirects=0&amp;d=1" aria-label="Download nsswitch.conf" title="Download" role="button" target="_blank" rel="noopener noreferrer"><span class="sites-symbol" aria-hidden="true"></span></a></div></div><div class="sites-attachments-separator"></div></div>
<div id="attachment-wuid:gx:2b6b3107cf16a1ad"><div class="sites-attachments-row"><div class="sites-attachments-icon sites-attachments-icon-accessible" style="left:5px"><div class="sites-translucent sites-symbol" aria-label="File" title="File"></div></div><div class="sites-attachments-inner-div"><div class="sites-attachments-name"><a href="https://docs.google.com/viewer?a=v&amp;pid=sites&amp;srcid=b3JhYnVudHUtbHhjLmNvbXxicmFuZHlkYW5keW9yYWNsZXxneDoyYjZiMzEwN2NmMTZhMWFk" target="_blank" rel="noopener noreferrer">resolv.conf</a> <div class="sites-translucent">(0k)</div></div><div class="sites-attachments-author">Gilbert Standen, <div class="sites-translucent">Aug 25, 2014, 12:40 PM</div></div></div><div class="sites-attachments-version sites-attachments-version-accessible"><a href="../system/app/pages/admin/revisions%3Fwuid=wuid:gx:2b6b3107cf16a1ad.html">v.1</a></div><div id="attachment-download-wuid:gx:2b6b3107cf16a1ad" class="sites-attachments-icon sites-attachments-icon-accessible" style="right:0px"><a href="kvm-dns-ul-14-04/resolv.conf%3Fattredirects=0&amp;d=1" aria-label="Download resolv.conf" title="Download" role="button" target="_blank" rel="noopener noreferrer"><span class="sites-symbol" aria-hidden="true"></span></a></div></div><div class="sites-attachments-separator"></div></div>
<div style="height: 10px"></div>
</div>
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments"><div class="sites-comment-docos-wrapper"><div class="sites-comment-docos"><div class="sites-comment-docos-background"></div><div class="sites-comment-docos-header"><div class="sites-comment-docos-header-title">Comments</div></div><div id="sites-comment-docos-pane" class="sites-comment-docos-pane"></div></div></div></div>
</div>
</div> 
</td> 
</tr>
</table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-subfooter"><div class="sites-subfooter-content"><br /></div></div>
</div>
</div>
</div>
</div> 
</div> 
<div id="sites-chrome-adminfooter-container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter" role="navigation"><p><a class="sites-system-link" href="https://accounts.google.com/ServiceLogin?continue=https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/kvm-and-openvswitch/kvm-dns-ul-14-04&amp;service=jotspot">Sign in</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/recentChanges.html">Recent Site Activity</a><span aria-hidden="true">|</span><a class="sites-system-link" href="../system/app/pages/reportAbuse.html" target="_blank">Report Abuse</a><span aria-hidden="true">|</span><a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a><span aria-hidden="true">|</span><span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com/site">Google Sites</a></b></p></div>
</div>
</div> 
</div> 
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="https://ssl.gstatic.com/sites/p/c9c36f/system/js/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
                    sites.Searchbox.initialize(
                        'sites-searchbox-search-button',
                        {"object":[]}['object'],
                        'search-site',
                        {"label":"Configure search options...","url":"/a/orabuntu-lxc.com/brandydandyoracle/system/app/pages/admin/settings"});
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("2bd", "Navigation", true);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_2bd');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
              new sites.CommentPane('//docs.google.com/comments/d/AAHRpnXvbsUtc3zC_LBoVbZyRGtWgFMw4Ymf-i3viiAJfdm0tZUyUqaWvpeFNQhtfdl6cIICOLV3YOiiriUYzY03Onqsz9DwMW0Y51pRCBgVSiYYTgbS5HAlTLFWYADFcbw22jRjkECryii0ZSshuV5o_2x7wX-i9Pw/api/js?anon=true',
                  false, false);
            </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([1109635200000, 1128902400000, 1130657000000, 1143333000000, 1143806400000, 1145000000000, 1146380000000, 1152489600000, 1159800000000, 1159500000000, 1162095000000, 1162075000000, 1162105500000]);
    gsites.Xhr.send('https://sites.google.com/a/orabuntu-lxc.com/brandydandyoracle/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type + ",user_page";
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false,
            false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
        webspace, "en");
    maestroRunner.initListeners();
    maestroRunner.installEditRender();
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
  //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>
<script type="text/javascript">
          JOT_setupPostRenderingManager();
        </script>
<script type="text/javascript">
          JOT_postEvent('renderPlus', null, 'sites-chrome-main');
        </script>
<script type="text/javascript">
          sites.codeembed.init();
        </script>
<div id="server-timer-div" style="display:none"> </div>
<script type="text/javascript">
          window.jstiming.load.tick('render');
          JOT_postEvent('usercontentrendered', this);
        </script>
</body>
</html>
